var H=Object.defineProperty,Y=Object.defineProperties;var K=Object.getOwnPropertyDescriptors;var F=Object.getOwnPropertySymbols;var O=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable;var U=(t,o,n)=>o in t?H(t,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[o]=n,y=(t,o)=>{for(var n in o||(o={}))O.call(o,n)&&U(t,n,o[n]);if(F)for(var n of F(o))G.call(o,n)&&U(t,n,o[n]);return t},S=(t,o)=>Y(t,K(o));var V=(t,o)=>{var n={};for(var s in t)O.call(t,s)&&o.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&F)for(var s of F(t))o.indexOf(s)<0&&G.call(t,s)&&(n[s]=t[s]);return n};import{s as src,n as nextTick,p as parser,r as ref,f as onBeforeMount,i as inject,j as reactive,e as computed,k as readonly,w as watch,l as defineComponent,u as useHead,m as renderHeadToString,q as createHead,t as api,v as createElementBlock,x as createBaseVNode,y as normalizeClass,z as normalizeStyle,A as createCommentVNode,B as openBlock,C as pushScopeId,D as popScopeId,b as onMounted,E as axios,F as defineStore,G as useRoute,H as useRouter,I as sanitizeHTML,J as escapeHtml_1,K as resolveComponent,L as createBlock,M as createVNode,N as withCtx,O as toDisplayString,P as createTextVNode,Q as Fragment,R as renderList,T as TransitionGroup,S as Transition,U as renderSlot,V as browser,W as lib,X as countryFlagEmoji,Y as mergeProps,Z as normalizeProps,c as onBeforeUnmount,_ as createSlots,$ as withDirectives,a0 as vShow,a1 as withModifiers,a2 as setBlockTracking,a3 as onUnmounted,a4 as toRaw,a5 as guardReactiveProps,a6 as createRouter,h,a7 as watchEffect,a8 as Teleport,a9 as StickyEvents,aa as createPinia,ab as cloneVNode,ac as onErrorCaptured,ad as vModelText,ae as withKeys,af as resolveDynamicComponent,ag as Suspense,ah as createWebHistory,ai as createSSRApp,aj as createApp}from"./vendor-8842ed68.js";import{l as lozad,a as core,b as go,d as css,s as sql,p as php,x as xml,y as yaml,j as json,e as bash,f as less,h as scss,r as rust,i as java,k as shell,n as nginx,m as stylus,o as python,q as javascript,t as typescript,_ as _darkStyle,u as _lightStyle,v as marked,R as Renderer,S as Swiper,G as Grid,P as Pagination,N as Navigation,M as Mousewheel,A as Autoplay,w as A11y,L as Lazy,E as EffectFade,z as Swiper$1,B as SwiperSlide,C as amplitude,D as e}from"./expansion-ea786025.js";const p=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerpolicy&&(r.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?r.credentials="include":i.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}};p();const DEFAULT_DELAY=468,GA_MEASUREMENT_ID="UA-84887611-3",ADSENSE_CLIENT_ID="ca-pub-4710915636313788",META=Object.freeze({title:"Surmon.me",sub_title:"\u6765\u82CF\u4E4B\u671B",domain:"surmon.me",url:"https://surmon.me",author:"Surmon"}),THIRD_IDS=Object.freeze({YOUTUBE_CHANNEL_ID:"UCoL-j6T28PLSJ2U6ZdONS0w",MUSIC_163_BGM_ALBUM_ID:"638949385",BILIBILI_USER_ID:"27940710",GITHUB_USER_ID:"surmon-china",TWITTER_USER_ID:"surmon7788"}),FRIEND_LINKS=Object.freeze([{name:"\u5415\u7ACB\u9752\u7684\u535A\u5BA2",url:"https://blog.jimmylv.info"},{name:"nighca's log",url:"https://nighca.me"}]),SPECIAL_LINKS=Object.freeze([{name:"iconfont",url:"https://www.iconfont.cn/"},{name:"GitHub",url:"https://github.com"},{name:"PM2",url:"https://pm2.keymetrics.io/"},{name:"Vite",url:"https://vitejs.dev/"},{name:"Disqus",url:"https://disqus.com/"}]),VALUABLE_LINKS=Object.freeze({RSS:"/rss.xml",SITE_MAP:"/sitemap.xml",SPONSOR:"/sponsor",GITHUB_SURMON_ME:"https://github.com/surmon-china/surmon.me",GITHUB_NODEPRESS:"https://github.com/surmon-china/nodepress",GITHUB_SURMON_ME_NATIVE:"https://github.com/surmon-china/surmon.me.native",GITHUB_BLOG_STAR_LIST:"https://github.com/stars/surmon-china/lists/surmon-me",APP_APK_FILE:"https://raw.githubusercontent.com/surmon-china/surmon.me.native/master/dist/android/surmon.me.apk",THROW_ERROR:"https://throwerror.io",FOX_FINDER:"https://foxfinder.io",GITHUB:"https://github.com/surmon-china",GITHUB_SPONSORS:"https://github.com/sponsors/surmon-china",PAYPAL:"https://www.paypal.me/surmon",UPWORK:"https://www.upwork.com/freelancers/~0142e621258ac1770d",MARKDOWN:"https://daringfireball.net/projects/markdown/",GOOGLE_LIVE_MAP:"https://www.google.com/maps/d/embed?mid=1sRx6t0Yj1TutbwORCvjwTMgr70r62Z6w&z=3",QQ_GROUP:"https://shang.qq.com/wpa/qunwpa?idkey=837dc31ccbcd49feeba19430562be7bdc06f4428880f78a391fd61c8af714ce4",TELEGRAM:"https://t.me/surmon",TELEGRAM_GROUP:"https://t.me/joinchat/F6wOlxYwSCUpZTYj3WTAWA",SPOTIFY:"https://open.spotify.com/user/v0kz9hpwpbqnmtnrfhbyl812o",MUSIC_163:`https://music.163.com/#/playlist?id=${THIRD_IDS.MUSIC_163_BGM_ALBUM_ID}`,YOUTUBE_CHANNEL:`https://www.youtube.com/channel/${THIRD_IDS.YOUTUBE_CHANNEL_ID}`,DOUBAN:"https://www.douban.com/people/nocower",ZHIHU:"https://www.zhihu.com/people/surmon",WEIBO:"https://weibo.com/surmon",QUORA:"https://www.quora.com/profile/Surmon",BILIBILI:`https://space.bilibili.com/${THIRD_IDS.BILIBILI_USER_ID}`,STACK_OVERFLOW:"https://stackoverflow.com/users/6222535/surmon?tab=profile",LEETCODE_CN:"https://leetcode-cn.com/u/surmon",LINKEDIN:"https://www.linkedin.com/in/surmon",INSTAGRAM:"https://www.instagram.com/surmon666",TWITTER:`https://twitter.com/${THIRD_IDS.TWITTER_USER_ID}`}),SSR_SYMBLE_KEY="__SSR__",getSSRSymbleStatus=()=>Boolean(window[SSR_SYMBLE_KEY]),SSR_CONTEXT_KEY="__INITIAL_SSR_CONTEXT__",getSSRContextData=()=>window[SSR_CONTEXT_KEY]||null;let ssrContext={};const getSSRContext=t=>{var o;return(o=getSSRContextData())==null?void 0:o[t]};function rebirthSSRContext(t){return ssrContext=Object.assign({},{}),t.config.globalProperties.$ssrContext=ssrContext,ssrContext}const isSSR=typeof window=="undefined"||getSSRSymbleStatus(),isSPA=!isSSR,isServer=!1;var LANGUAGE_KEYS;(function(t){t.PAGE_HOME="home",t.CATEGORY_INSIGHT="insight",t.CATEGORY_CODE="code",t.PAGE_GITHUB="github",t.PAGE_LENS="lens",t.PAGE_MUSIC="music",t.PAGE_JOB="job",t.PAGE_MERCH="merch",t.PAGE_ABOUT="about",t.PAGE_FREELANCER="freelancer",t.PAGE_GUESTBOOK="guestbook",t.PAGE_APP="app",t.PAGE_ARCHIVE="archive",t.EMPTY_PLACEHOLDER="common-empty-placeholder",t.NOT_FOUND="not-found",t.BACK_TO_HOME_PAGE="back-to-home-page",t.GUESTBOOK_SLOGAN="guestbook-banner-slogan",t.PAGE_FREELANCER_SLOGAN="freelancer-page-banner-slogan",t.PAGE_FREELANCER_EMAIL_ME="freelancer-email-me",t.AD="ad",t.BARRAGE="barrage",t.FEEDBACK="feedback",t.TO_TOP="to-page-top",t.TO_BOTTOM="to-page-bottom",t.ORIGIN_ORIGINAL="original",t.ORIGIN_REPRINT="reprint",t.ORIGIN_HYBRID="hybrid",t.ACTION_ON="on",t.ACTION_OFF="off",t.APP_SLOGAN="app-slogan",t.MUSIC_PLACEHOLDER="music-placeholder",t.SEARCH_PLACEHOLDER="search-input-placeholder",t.HOT_ARTICLE_LIST_TITLE="hot-article-list-title",t.ANNOUNCEMENT_PLACEHOLDER="announcement-empty-placeholder",t.CATEGORY_PLACEHOLDER="category-empty-placeholder",t.TAG_PLACEHOLDER="tag-placeholder",t.ARTICLE_TITLE="article-title",t.ARTICLE_VIEWS="article-views",t.ARTICLE_PLACEHOLDER="article-empty-placeholder",t.ARTICLE_READ_ALL="read-all-article-content",t.ARTICLE_RENDERING="rendering",t.ARTICLE_LIST_LOADMORE="loadmore",t.ARTICLE_LIST_LOADING="loading",t.ARTICLE_LIST_NO_MORE="no-more",t.COMMENT_LIST_EMPTY="comment-list-placeholder",t.COMMENT_UPVOTE="comment-likes",t.COMMENT_DOWNVOTE="comment-dislikes",t.COMMENT_REPLY="reply-comment",t.COMMENT_DELETE="delete-comment",t.COMMENT_DELETE_CONFIRM="delete-comment-confirm",t.COMMENT_REPLY_CANCEL="cancel-reply-comment",t.COMMENT_MODERATOR="comment-moderator",t.COMMENT_SORT_OLD="oldest-comments",t.COMMENT_SORT_NEW="newest-comments",t.COMMENT_SORT_HOT="hottest-comments",t.COMMENT_POST_NAME="comment-author-name",t.COMMENT_POST_EMAIL="comment-author-email",t.COMMENT_POST_SITE="comment-author-site-url",t.COMMENT_POST_CONTENT="comment-content",t.COMMENT_POST_PLACEHOLDER="comment-box-placeholder",t.COMMENT_POST_ERROR_EMAIL="comment-submit-failed-of-email-error",t.COMMENT_POST_ERROR_URL="comment-submit-failed-of-site-url-error",t.COMMENT_POST_ERROR_CONTENT="comment-submit-failed-of-content-error",t.QUERY_PARAMS_ERROR="query-params-error",t.POST_ACTION_ERROR="post-requiest-failed-of-other-error"})(LANGUAGE_KEYS||(LANGUAGE_KEYS={}));var Language;(function(t){t.En="en",t.Zh="zh"})(Language||(Language={}));const languages$1=[{code:Language.Zh,iso:"zh-CN",name:"\u7B80\u4F53\u4E2D\u6587"},{code:Language.En,iso:"en-US",name:"English"}],langMap={[LANGUAGE_KEYS.APP_SLOGAN]:{[Language.Zh]:META.sub_title,[Language.En]:"Because the mountain is there"},[LANGUAGE_KEYS.PAGE_HOME]:{[Language.Zh]:"\u660E\u6BBF",[Language.En]:"Home"},[LANGUAGE_KEYS.CATEGORY_INSIGHT]:{[Language.Zh]:"\u65E0\u8272\u5EB5",[Language.En]:"Insight"},[LANGUAGE_KEYS.CATEGORY_CODE]:{[Language.Zh]:"\u5B81\u9759\u5BFA",[Language.En]:"Code"},[LANGUAGE_KEYS.PAGE_GITHUB]:{[Language.Zh]:"\u4E39\u9752\u9601",[Language.En]:"GitHub"},[LANGUAGE_KEYS.PAGE_ARCHIVE]:{[Language.Zh]:"\u4E07\u8C61\u6BBF",[Language.En]:"Archive"},[LANGUAGE_KEYS.PAGE_ABOUT]:{[Language.Zh]:"\u72C2\u6D6A\u751F",[Language.En]:"About"},[LANGUAGE_KEYS.PAGE_GUESTBOOK]:{[Language.Zh]:"\u56DB\u65B9\u9986",[Language.En]:"Guestbook"},[LANGUAGE_KEYS.PAGE_APP]:{[Language.Zh]:"\u5BA2\u6237\u7AEF",[Language.En]:"APP"},[LANGUAGE_KEYS.PAGE_LENS]:{[Language.Zh]:"\u832B\u6DAF",[Language.En]:"Lens"},[LANGUAGE_KEYS.PAGE_MUSIC]:{[Language.Zh]:"\u68A8\u56ED",[Language.En]:"Music"},[LANGUAGE_KEYS.PAGE_JOB]:{[Language.Zh]:"\u4F2F\u4E50",[Language.En]:"Job"},[LANGUAGE_KEYS.PAGE_MERCH]:{[Language.Zh]:"\u5468\u8FB9",[Language.En]:"Merch"},[LANGUAGE_KEYS.PAGE_FREELANCER]:{[Language.Zh]:"\u5584\u5DE7\u5802",[Language.En]:"Freelancer"},[LANGUAGE_KEYS.EMPTY_PLACEHOLDER]:{[Language.Zh]:"\u7A7A\u7A7A\u5982\u4E5F",[Language.En]:"No data"},[LANGUAGE_KEYS.NOT_FOUND]:{[Language.Zh]:"\u4F17\u91CC\u5BFB\u4ED6 \u6211\u5DF2\u4E0D\u518D",[Language.En]:"Arrives here at last"},[LANGUAGE_KEYS.BACK_TO_HOME_PAGE]:{[Language.Zh]:"\u5C71\u6CB3\u4E07\u91CC \u957F\u6B4C\u5F52\u6545",[Language.En]:"Drive by"},[LANGUAGE_KEYS.GUESTBOOK_SLOGAN]:{[Language.Zh]:"\u6B64\u5FC3\u5149\u660E \u4EA6\u590D\u4F55\u8A00",[Language.En]:"You have come a long way"},[LANGUAGE_KEYS.PAGE_FREELANCER_SLOGAN]:{[Language.Zh]:"\u4E3A\u6211\u4E00\u6325\u624B\uFF0C\u5982\u4E34\u4E07\u58D1\u677E",[Language.En]:"Talk is cheap. Show me the code"},[LANGUAGE_KEYS.PAGE_FREELANCER_EMAIL_ME]:{[Language.Zh]:"\u653E\u7801\u8FC7\u6765",[Language.En]:"Email me"},[LANGUAGE_KEYS.AD]:{[Language.Zh]:"\u5E7F\u800C\u544A\u4E4B",[Language.En]:"AD"},[LANGUAGE_KEYS.BARRAGE]:{[Language.Zh]:"\u7545\u8A00",[Language.En]:"Barrage"},[LANGUAGE_KEYS.FEEDBACK]:{[Language.Zh]:"\u53CD\u9988",[Language.En]:"Feedback"},[LANGUAGE_KEYS.TO_TOP]:{[Language.Zh]:"\u4ECE\u5934\u5F00\u59CB",[Language.En]:"To top"},[LANGUAGE_KEYS.TO_BOTTOM]:{[Language.Zh]:"\u518D\u6765\u4E00\u5C4F",[Language.En]:"Next screen"},[LANGUAGE_KEYS.ORIGIN_ORIGINAL]:{[Language.Zh]:"\u539F\u521B",[Language.En]:"OG"},[LANGUAGE_KEYS.ORIGIN_REPRINT]:{[Language.Zh]:"\u8F6C\u8F7D",[Language.En]:"RPT"},[LANGUAGE_KEYS.ORIGIN_HYBRID]:{[Language.Zh]:"\u884D\u751F",[Language.En]:"HY"},[LANGUAGE_KEYS.ACTION_ON]:{[Language.Zh]:"\u5F00",[Language.En]:"on"},[LANGUAGE_KEYS.ACTION_OFF]:{[Language.Zh]:"\u5173",[Language.En]:"off"},[LANGUAGE_KEYS.MUSIC_PLACEHOLDER]:{[Language.Zh]:"\u4E94\u97F3\u516D\u5F8B\uFF0C\u4E03\u5F26\u516B\u5EA6",[Language.En]:"The music, the soul of man"},[LANGUAGE_KEYS.SEARCH_PLACEHOLDER]:{[Language.Zh]:"\u63A2\u7D22\u4E0E\u89C9\u77E5",[Language.En]:"Search..."},[LANGUAGE_KEYS.ANNOUNCEMENT_PLACEHOLDER]:{[Language.Zh]:"\u7A7A\u7A7A\u5982\u4E5F",[Language.En]:"No announcements"},[LANGUAGE_KEYS.CATEGORY_PLACEHOLDER]:{[Language.Zh]:"\u672A\u5206\u7C7B",[Language.En]:"no cate"},[LANGUAGE_KEYS.TAG_PLACEHOLDER]:{[Language.Zh]:"\u65E0\u6807\u7B7E",[Language.En]:"No tags"},[LANGUAGE_KEYS.ARTICLE_TITLE]:{[Language.Zh]:"\u6587\u4E0D\u52A0\u70B9",[Language.En]:"Articles"},[LANGUAGE_KEYS.ARTICLE_VIEWS]:{[Language.Zh]:"\u6B21\u9605\u8BFB",[Language.En]:"views"},[LANGUAGE_KEYS.ARTICLE_PLACEHOLDER]:{[Language.Zh]:"\u7A7A\u7A7A\u5982\u4E5F",[Language.En]:"No articles"},[LANGUAGE_KEYS.ARTICLE_READ_ALL]:{[Language.Zh]:"\u9605\u8BFB\u4F59\u4E0B\u5168\u6587",[Language.En]:"Render all"},[LANGUAGE_KEYS.ARTICLE_RENDERING]:{[Language.Zh]:"\u6E32\u67D3\u4E2D..",[Language.En]:"Rendering..."},[LANGUAGE_KEYS.HOT_ARTICLE_LIST_TITLE]:{[Language.Zh]:"\u7FA4\u8D24\u6BD5\u81F3",[Language.En]:"Hottest"},[LANGUAGE_KEYS.ARTICLE_LIST_LOADMORE]:{[Language.Zh]:"\u5C71\u6CB3\u5165\u68A6",[Language.En]:"Loadmore"},[LANGUAGE_KEYS.ARTICLE_LIST_LOADING]:{[Language.Zh]:"\u4EBA\u9762\u6843\u82B1",[Language.En]:"Loading"},[LANGUAGE_KEYS.ARTICLE_LIST_NO_MORE]:{[Language.Zh]:"\u6625\u5C3D\u6C5F\u5357",[Language.En]:"No more"},[LANGUAGE_KEYS.COMMENT_LIST_EMPTY]:{[Language.Zh]:"\u671F\u5F85\u4F60\u7684\u6377\u8DB3\u5148\u767B",[Language.En]:"Be the first to comment"},[LANGUAGE_KEYS.COMMENT_UPVOTE]:{[Language.Zh]:"\u8D5E",[Language.En]:"upvote"},[LANGUAGE_KEYS.COMMENT_DOWNVOTE]:{[Language.Zh]:"\u8E29",[Language.En]:"downvote"},[LANGUAGE_KEYS.COMMENT_DELETE]:{[Language.Zh]:"\u5220\u9664",[Language.En]:"delete"},[LANGUAGE_KEYS.COMMENT_DELETE_CONFIRM]:{[Language.Zh]:"\u786E\u5B9A\u8981\u5220\u9664\u6B64\u8BC4\u8BBA\u5417\uFF1F\u6B64\u64CD\u4F5C\u4E0D\u53EF\u6062\u590D",[Language.En]:"Are you sure you want to delete this comment? You cannot undo this action."},[LANGUAGE_KEYS.COMMENT_REPLY]:{[Language.Zh]:"\u56DE\u590D",[Language.En]:"reply"},[LANGUAGE_KEYS.COMMENT_REPLY_CANCEL]:{[Language.Zh]:"\u53D6\u6D88\u56DE\u590D",[Language.En]:"cancel reply"},[LANGUAGE_KEYS.COMMENT_MODERATOR]:{[Language.Zh]:"\u535A\u4E3B",[Language.En]:"Moderator"},[LANGUAGE_KEYS.COMMENT_SORT_OLD]:{[Language.Zh]:"\u6700\u65E9",[Language.En]:"Oldest"},[LANGUAGE_KEYS.COMMENT_SORT_NEW]:{[Language.Zh]:"\u6700\u65B0",[Language.En]:"Newest"},[LANGUAGE_KEYS.COMMENT_SORT_HOT]:{[Language.Zh]:"\u6700\u70ED",[Language.En]:"Hottest"},[LANGUAGE_KEYS.COMMENT_POST_NAME]:{[Language.Zh]:"\u540D\u5B57",[Language.En]:"name"},[LANGUAGE_KEYS.COMMENT_POST_EMAIL]:{[Language.Zh]:"\u90AE\u7BB1",[Language.En]:"email"},[LANGUAGE_KEYS.COMMENT_POST_SITE]:{[Language.Zh]:"\u7F51\u5740",[Language.En]:"site"},[LANGUAGE_KEYS.COMMENT_POST_CONTENT]:{[Language.Zh]:"\u5185\u5BB9",[Language.En]:"content"},[LANGUAGE_KEYS.COMMENT_POST_PLACEHOLDER]:{[Language.Zh]:"\u613F\u4F60\u7684\u89C1\u89E3\u4E00\u9488\u89C1\u8840",[Language.En]:"Hit the nail on the head"},[LANGUAGE_KEYS.COMMENT_POST_ERROR_EMAIL]:{[Language.Zh]:"\u90AE\u7BB1\u4E0D\u5408\u6CD5",[Language.En]:"Email address is not legitimate!"},[LANGUAGE_KEYS.COMMENT_POST_ERROR_URL]:{[Language.Zh]:"\u7F51\u5740\u4E0D\u5408\u6CD5",[Language.En]:"Site is not legitimate!"},[LANGUAGE_KEYS.COMMENT_POST_ERROR_CONTENT]:{[Language.Zh]:"\u5185\u5BB9\u9700\u8981\u5728 3000 \u5B57\u4EE5\u5185",[Language.En]:"Content requirements are within 3000 words!"},[LANGUAGE_KEYS.QUERY_PARAMS_ERROR]:{[Language.Zh]:"\u8BF7\u6C42\u53C2\u6570\u9519\u8BEF\uFF1A",[Language.En]:"Invalid query params: "},[LANGUAGE_KEYS.POST_ACTION_ERROR]:{[Language.Zh]:"\u64CD\u4F5C\u5931\u8D25\uFF0C\u8BE6\u7EC6\u539F\u56E0 > \u63A7\u5236\u53F0",[Language.En]:"Failed! Get error detail in console"}};var NodeEnv;(function(t){t.Development="development",t.Production="production",t.Test="test"})(NodeEnv||(NodeEnv={}));const NODE_ENV="production",isDev=NodeEnv.Development==="production",isProd=NodeEnv.Production==="production";NodeEnv.Test;const API_PROXY_URL="/api",API_ONLINE_URL="https://api.surmon.me",DEV_API=API_PROXY_URL,PROD_API=API_ONLINE_URL;var API_CONFIG={FE:"https://surmon.me",CDN:"https://cdn.surmon.me",PROXY:"https://cdn.surmon.me/_proxy",STATIC:"https://static.surmon.me",NODEPRESS:isDev?DEV_API:PROD_API},ProxyModule;(function(t){t.Default="default",t.BiliBili="bilibili",t.Instagram="instagram",t.YouTube="youtube",t.NetEasyMusic="163",t.Disqus="disqus"})(ProxyModule||(ProxyModule={}));const BAD_REQUEST=400,NOT_FOUND=404,INVALID_ERROR=500;var LayoutColumn;(function(t){t[t.Normal=0]="Normal",t[t.Wide=1]="Wide",t[t.Full=2]="Full"})(LayoutColumn||(LayoutColumn={}));const getLayoutByRouteMeta=t=>t.layout===1?1:t.layout===2?2:0,isValidDateParam=t=>{const o=t.split("-");if(o.length!==3||!o.every(r=>Number.isInteger(Number(r))))return!1;const[n,s,i]=o;return!(n.length!==4||s.length!==2||i.length!==2)},Easing={ease:[.25,.1,.25,1],linear:[0,0,1,1],easeIn:[.42,0,1,1],easeOut:[0,0,.58,1],easeInOut:[.42,0,.58,1]};var ElementEvent;(function(t){t.scroll="scroll",t.mousedown="mousedown",t.wheel="wheel",t.DOMMouseScroll="DOMMouseScroll",t.mousewheel="mousewheel",t.keyup="keyup",t.touchmove="touchmove"})(ElementEvent||(ElementEvent={}));const _={$(t){return document.querySelector(t)},on(t,o,n){Array.isArray(o)||(o=[o]),o.forEach(s=>{t.addEventListener(s,n,{passive:!0})})},off(t,o,n){Array.isArray(o)||(o=[o]),o.forEach(s=>{t.removeEventListener(s,n)})}},scrollTo=(t,o=500,n)=>{n=n||{},n.easing=Easing.ease;const s=_.$("html, body"),i=[ElementEvent.scroll,ElementEvent.mousedown,ElementEvent.wheel,ElementEvent.DOMMouseScroll,ElementEvent.mousewheel,ElementEvent.keyup,ElementEvent.touchmove];let r=!1;const a=function(){r=!0};_.on(s,i,a);let l=0;const c=window.pageYOffset;if(typeof t=="number")l=t;else{const $=typeof t=="string"?_.$(t):t;l=c+$.getBoundingClientRect().top}let d=document.body.scrollHeight-l<window.innerHeight?document.body.scrollHeight-window.innerHeight:l;n.offset&&(d+=n.offset);const u=d-c,m=Reflect.apply(src,src,n.easing);let g;const f=function(){_.off(s,i,a),r&&n.onCancel&&n.onCancel(),!r&&n.onDone&&n.onDone()};!u||window.requestAnimationFrame(function $(E){if(r)return f();g||(g=E);const v=E-g;let N=Math.min(v/o,1);N=m(N),window.scrollTo(0,c+u*N),v<o?window.requestAnimationFrame($):f()})},scrollToElementAnchor=(t,o,n)=>{const s=document.getElementById(t);s&&scrollTo(s,n!=null?n:200,{offset:o!=null?o:-76})},scrollToTop=()=>{scrollTo("body",300,{easing:Easing.easeIn})},nextScreen=()=>{nextTick(()=>{scrollTo(window.scrollY+window.innerHeight*.68,300,{easing:Easing["ease-in"]})})},uaParser=t=>{const o=parser(t||""),n=String(o.browser.name).toLowerCase(),s=i=>i.some(r=>r.toLowerCase()===n);return{result:o,isIE:s(["compatible","MSIE","IE"]),isEdge:s(["Edge"]),isFirefox:s(["Firefox"]),isChrome:s(["Chrome","Chromium"]),isSafari:s(["Safari"]),isWechat:s(["Wechat"]),isIos:o.os.name==="iOS",isAndroid:o.os.name==="Android",isMobile:o.device.type==="mobile"}},isTargetLanguageUser=(t,o)=>typeof t=="string"?t.includes(o):Array.isArray(t)?t.some(n=>n.includes(o)):!1,isZhUser=t=>t?isTargetLanguageUser(t,Language.Zh):!0,getRefData=t=>getSSRContext("refs")[t],getValue=t=>t instanceof Function?t():t,universalRef=(t,o)=>{var s;if(isSPA)return ref(getValue(o));let n=(s=getRefData(t))!=null?s:getValue(o);return ref(n)},useUniversalFetch=t=>{const o=useGlobalState(),n=()=>{onBeforeMount(()=>t())};if(isSPA){n();return}o.isHydrated.value&&n()},onClient=t=>{t()};var ImageExt;(function(t){t.WebP="webp",t.Jpg="jpeg"})(ImageExt||(ImageExt={}));const GlobalStateSymbol=Symbol("globalState"),createGlobalState=t=>{const o=universalRef("error",()=>null),n={code:INVALID_ERROR},s=$=>{var E;onClient(()=>{console.warn("App error:",$)}),$?$ instanceof Error?o.value={code:(E=$.code)!=null?E:n.code,message:$.message}:typeof $=="string"?o.value=S(y({},n),{message:$}):o.value=S(y({},$),{code:$.status||$.status||n.code}):o.value=null},i=ref(!1),r=()=>{i.value=!0},a=reactive(y({original:t.userAgent,language:t.language,isZhUser:isZhUser(t.language)},uaParser(t.userAgent))),l=ref(t.layout),c=computed(()=>({layout:l.value,isNormal:l.value===LayoutColumn.Normal,isWide:l.value===LayoutColumn.Wide,isFull:l.value===LayoutColumn.Full})),d=$=>{$!==l.value&&(l.value=$)},u=computed(()=>{const $=a.isMobile||a.isWechat||a.isSafari?ImageExt.Jpg:ImageExt.WebP;return{ext:$,isJpg:$===ImageExt.Jpg,isWebP:$===ImageExt.WebP}}),m=reactive({wallpaper:!1,sponsorModal:!1}),f={toRawState:()=>({renderError:o.value,userAgent:a.original,language:a.language,layout:l.value}),renderError:readonly(o),setRenderError:s,isHydrated:readonly(i),setHydrate:r,layoutColumn:c,setLayoutColumn:d,userAgent:readonly(a),imageExt:u,switchBox:readonly(m),switchTogglers:{sponsorModal(){m.sponsorModal=!m.sponsorModal},wallpaper(){m.wallpaper=!m.wallpaper}}};return S(y({},f),{install($){$.provide(GlobalStateSymbol,f)}})},useGlobalState=()=>inject(GlobalStateSymbol),NULL=null,UNDEFINED=void 0,isNull=t=>t===NULL,isUndefined=t=>t===UNDEFINED,I18nSymbol=Symbol("i18n"),createI18nStore=t=>{const o=ref(t.default),n=t.languages.map(l=>l.code),s=computed(()=>t.languages.find(l=>l.code===o.value)),i=l=>{n.includes(l)&&o.value!==l&&(o.value=l)},r=()=>{const l=n.findIndex(d=>d===o.value),c=l<n.length-1?l+1:0;l!==c&&i(n[c])},a=(l,c,...d)=>{var m;const u=(m=t.map[l])==null?void 0:m[c||o.value];if(!!u)return typeof u=="string"?u:u(...d)};return{language:readonly(o),l:s,set:i,toggle:r,translate:a,t:a}},createI18n=t=>{const o=createI18nStore(t),n={beforeMount(i,r){i._i18nDirectiveStopHandler=watch(()=>o.language.value,()=>{i.textContent=o.t(r.value)||""},{immediate:!0})},beforeUnmount(i){var r;(r=i==null?void 0:i._i18nDirectiveStopHandler)==null||r.call(i)}},s=defineComponent({name:"I18n",props:{lkey:[String,Number,Symbol]},render(){var i,r;if(this.$props.lkey)return o.t(this.$props.lkey);{const a=o.language.value;return this.$attrs[a]||((r=(i=this.$slots)[a])==null?void 0:r.call(i))}}});return S(y({},o),{install(i){i.config.globalProperties.$i18n=o,i.provide(I18nSymbol,o),i.component(s.name,s),i.directive("i18n",n),i.directive("t",n)}})},useI18n=()=>inject(I18nSymbol),MetaTitlerSymbol=Symbol("meta-titler"),createMeta=t=>{const o=createHead();return S(y({},o),{renderToString(){return renderHeadToString(o)},install(n,...s){return n.provide(MetaTitlerSymbol,(t==null?void 0:t.titler)||(i=>i)),n.use(o,...s),o}})};function useMeta(t){const o=useI18n(),n=inject(MetaTitlerSymbol),s=computed(()=>{var $;const f=typeof t=="function"?t():t,{title:r,pageTitle:a,keywords:l,description:c}=f,d=V(f,["title","pageTitle","keywords","description"]),u=r||(a?n(a):""),m=d.meta||[];l&&m.push({key:"keywords",name:"keywords",content:l}),c&&m.push({key:"description",name:"description",content:c});const g=y({lang:($=o.l.value)==null?void 0:$.iso},d.htmlAttrs);return S(y({},d),{title:u,meta:m,htmlAttrs:g})});return useHead(s)}const get=t=>localStorage.getItem(t),set=(t,o)=>localStorage.setItem(t,o),remove=t=>localStorage.removeItem(t),setJSON=(t,o)=>set(t,JSON.stringify(o)),getJSON=t=>{const o=get(t);return typeof o=="string"?JSON.parse(o):null};var storage={get,set,remove,setJSON,getJSON};const DARK_THEME_QUERY="(prefers-color-scheme: dark)",LIGHT_THEME_QUERY="(prefers-color-scheme: light)",THEME_STORAGE_KEY="theme",getClientLocalTheme=()=>{const t=storage.get(THEME_STORAGE_KEY);return t?t===Theme.Dark?Theme.Dark:Theme.Default:window.matchMedia(DARK_THEME_QUERY).matches?Theme.Dark:(window.matchMedia(LIGHT_THEME_QUERY).matches,Theme.Default)};var Theme;(function(t){t.Default="default",t.Dark="dark"})(Theme||(Theme={}));const themes=Object.values(Theme),ThemeSymbol=Symbol("theme"),createThemeStore=t=>{const o=ref(t),n=r=>{themes.includes(r)&&r!==o.value&&(o.value=r,api.set(THEME_STORAGE_KEY,r),storage.set(THEME_STORAGE_KEY,r))},s=()=>n(o.value===Theme.Dark?Theme.Default:Theme.Dark),i=()=>{window.matchMedia(DARK_THEME_QUERY).addEventListener("change",({matches:r})=>r&&n(Theme.Dark)),window.matchMedia(LIGHT_THEME_QUERY).addEventListener("change",({matches:r})=>r&&n(Theme.Default))};return{theme:readonly(o),set:n,toggle:s,bindClientSystem:i}},createTheme=t=>{const o=createThemeStore(t);return S(y({},o),{install(n){n.provide(ThemeSymbol,o)}})},useTheme=()=>inject(ThemeSymbol),createDeferStore=()=>{const t=reactive({loaded:!1,tasks:[]}),o=i=>{window.setTimeout(i,666)},n=()=>{t.loaded=!0,t.tasks.forEach(i=>o(i))},s=i=>{t.tasks.push(i),t.loaded&&o(i)};return window.addEventListener("load",n),{state:t,addTask:s}},DeferSymbol=Symbol("defer"),createDefer=()=>{const t=createDeferStore();return S(y({},t),{install(o,n){o.provide(DeferSymbol,t),(n==null?void 0:n.exportToGlobal)&&(window.$defer=t)}})},useDefer=()=>inject(DeferSymbol);var progress_vue_vue_type_style_index_0_scoped_true_lang="",_export_sfc=(t,o)=>{const n=t.__vccOpts||t;for(const[s,i]of o)n[s]=i;return n};const _sfc_main$1n=defineComponent({name:"ProgressBar",props:{spin:{type:Boolean,default:!1}},setup(){return{loading:useLoading()}}}),_withScopeId$K=t=>(pushScopeId("data-v-df51e098"),t=t(),popScopeId(),t),_hoisted_1$1d={id:"progress-bar"},_hoisted_2$10=_withScopeId$K(()=>createBaseVNode("div",{class:"lds-ring"},[createBaseVNode("div"),createBaseVNode("div"),createBaseVNode("div"),createBaseVNode("div")],-1)),_hoisted_3$W=[_hoisted_2$10];function _sfc_render$1n(t,o,n,s,i,r){return openBlock(),createElementBlock("div",_hoisted_1$1d,[createBaseVNode("div",{class:normalizeClass(["progress",{show:t.loading.state.show,notransition:t.loading.state.skipTimerCount>0,failed:!t.loading.state.canSucceed}]),style:normalizeStyle({width:t.loading.state.percent+"%"})},null,6),t.spin?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(["spin",{show:t.loading.state.show,failed:!t.loading.state.canSucceed}])},_hoisted_3$W,2)):createCommentVNode("v-if",!0)])}var ProgressComponent=_export_sfc(_sfc_main$1n,[["render",_sfc_render$1n],["__scopeId","data-v-df51e098"]]);const LoadingSymbol=Symbol("loading"),createLoadingStore=(t={})=>{let o,n,s;const i=reactive({percent:0,show:!1,error:null,canSucceed:!0,skipTimerCount:0,throttle:t.throttle||200,duration:t.duration||3e3}),r=()=>{window.clearInterval(n),window.clearTimeout(s),n=0},a=v=>{i.percent=Math.min(100,Math.floor(i.percent+v))},l=v=>{i.percent=Math.max(0,Math.floor(i.percent-v))},c=()=>{i.show||(i.show=!0),typeof o=="undefined"&&(o=1e4/Math.floor(i.duration)),n=window.setInterval(()=>{if(i.skipTimerCount>0){i.skipTimerCount--;return}l(o)},100)},d=()=>{r(),i.percent=0,i.skipTimerCount=0,i.canSucceed=!0,i.show=!0,i.throttle?s=window.setTimeout(()=>c(),i.throttle):c()},u=()=>{r(),window.setTimeout(()=>{i.show=!1,nextTick().then(()=>{setTimeout(()=>{i.percent=0},160)})},500)},m=v=>{i.show=!0,i.canSucceed=!0,i.percent=Math.min(100,Math.max(0,Math.floor(v)))},g=()=>{window.clearInterval(n)},f=()=>{c()},$=()=>{i.error=null,i.percent=100,u()},E=v=>{i.error=v,i.canSucceed=!1};return{state:readonly(i),start:d,pause:g,resume:f,finish:$,fail:E,increase:a,decrease:l,set:m}},createLoading=t=>{const o=createLoadingStore(t);return S(y({},o),{install(n,s){n.provide(LoadingSymbol,o),n.component(ProgressComponent.name,ProgressComponent),n.config.globalProperties.$loading=o,(s==null?void 0:s.exportToGlobal)&&(window.$loading=o)}})},useLoading=()=>inject(LoadingSymbol),getGAScriptURL=t=>`https://www.googletagmanager.com/gtag/js?id=${t}`,loadScript=(t,o={})=>new Promise((n,s)=>{const i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("script"),f=o,{src:a,domain:l,type:c="text/javascript",charset:d="utf-8",defer:u=!1,async:m=!1}=f,g=V(f,["src","domain","type","charset","defer","async"]);if(r.type=c,r.defer=u,r.async=m,r.src=a||t,Object.keys(g).forEach($=>{r[$]=g[$]}),l){const $=document.createElement("link");$.href=l,$.rel="preconnect",i.appendChild($)}i.appendChild(r),r.onload=n,r.onerror=s}),GtagSymbol=Symbol("gtag"),createGtag=t=>{if(!t.id)return;const o=t.customResourceURL||getGAScriptURL(t.id),n=reactive({loaded:!1,disabled:!1});loadScript(o,{async:!0}).then(()=>{n.loaded=!0}),window.gtag==null&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config",t.id,t.config));const s=(...r)=>{var a;n.disabled||(a=window.gtag)==null||a.call(window,...r)};return t.router&&t.router.afterEach((r,a)=>{r.path!==a.path&&nextTick().then(()=>{const l=window.location.origin+r.fullPath;s("event","page_view",{page_title:document.title,page_location:l,page_path:r.fullPath,send_to:t.id})})}),{state:readonly(n),enable:()=>{n.disabled=!1},disable:()=>{n.disabled=!0},set(r){s("set",r)},config(r){s("config",t.id,r)},event(r,a){s("event",r,a)}}},useGtag=()=>inject(GtagSymbol),install=(t,o)=>{if(install.installed)return;const n=createGtag(o);t.provide(GtagSymbol,n),t.config.globalProperties.$gtag=n,install.installed=!0};var gtag={install};const PopupSymbol=Symbol("popup"),usePopup=()=>inject(PopupSymbol),usePopupWithRoot=t=>{const o=usePopup();return onMounted(()=>o.$setRoot(t())),o};var HTTPStatus;(function(t){t.Error="error",t.Success="success"})(HTTPStatus||(HTTPStatus={}));const nodepress=axios.create({baseURL:API_CONFIG.NODEPRESS,withCredentials:!0});nodepress.interceptors.response.use(t=>t.headers["content-type"].includes("json")&&t.data.status!==HTTPStatus.Success?Promise.reject(t.data):t.data,t=>{var s,i,r,a;const o=t.toJSON(),n=S(y({},o),{config:t.config,code:o.status||((s=t.response)==null?void 0:s.status)||BAD_REQUEST,message:((r=(i=t.response)==null?void 0:i.data)==null?void 0:r.error)||((a=t.response)==null?void 0:a.statusText)||o.message});return console.debug("axios error:",t),Promise.reject(n)});const service$1={$:nodepress,request:(...t)=>nodepress.request(...t),get:(...t)=>nodepress.get(...t),delete:(...t)=>nodepress.delete(...t),head:(...t)=>nodepress.head(...t),options:(...t)=>nodepress.options(...t),post:(...t)=>nodepress.post(...t),put:(...t)=>nodepress.put(...t),patch:(...t)=>nodepress.patch(...t)};var UserType;(function(t){t[t.Null=0]="Null",t[t.Local=1]="Local",t[t.Disqus=2]="Disqus"})(UserType||(UserType={}));const UNIVERSAL_STORGAE_KEY="universal-state",useUniversalStore=defineStore("universal",{state:()=>({disqusConfig:null,user:{type:0,localProfile:null,disqusProfile:null},vote:{likedPages:[],likedComments:[],dislikedComments:[]}}),getters:{isLikedPage:t=>o=>t.vote.likedPages.includes(o),isLikedComment:t=>o=>t.vote.likedComments.includes(o),isDislikedComment:t=>o=>t.vote.dislikedComments.includes(o),author:t=>{var o,n,s;return t.user.type===1?t.user.localProfile:t.user.type===2?{name:(o=t.user.disqusProfile)==null?void 0:o.name,site:((n=t.user.disqusProfile)==null?void 0:n.url)||((s=t.user.disqusProfile)==null?void 0:s.profileUrl)}:null}},actions:{likeComment(t){this.vote.likedComments.push(t)},dislikeComment(t){this.vote.dislikedComments.push(t)},likePage(t){this.vote.likedPages.push(t)},fromStorage(){try{this.$state=getJSON(UNIVERSAL_STORGAE_KEY)||this.$state}catch{remove(UNIVERSAL_STORGAE_KEY)}},initOnClient(){this.fromStorage(),this.$subscribe(()=>setJSON(UNIVERSAL_STORGAE_KEY,this.$state)),window.addEventListener("storage",t=>{t.key===UNIVERSAL_STORGAE_KEY&&this.fromStorage()}),this.$state.user.type===2?this.fetchDisqusUserInfo().catch(()=>{this.user.disqusProfile=null,this.user.type=0}):this.user.disqusProfile=null,this.fetchDisqusConfig()},saveLocalUser(t){this.user.localProfile=y({},t),this.user.type=1},removeLocalUser(){this.user.localProfile=null,this.user.type=0},fetchDisqusLogout(){return service$1.get("/disqus/oauth-logout").then(()=>{this.user.disqusProfile=null,this.user.type=0})},fetchDisqusUserInfo(){return service$1.get("/disqus/user-info").then(t=>{this.user.disqusProfile=t.result,this.user.type=2})},fetchDisqusConfig(){return service$1.get("/disqus/config").then(t=>{this.disqusConfig=t.result})}}}),defaultAdConfig={PC_CARROUSEL:!1,PC_NAV:[],PC_ASIDE_SWIPER:[],PC_MERCH_PRODUCTS:[],PC_MERCH_BROKERS:[]},useMetaStore=defineStore("meta",{state:()=>({adminInfo:{fetching:!1,data:null},appOptions:{fetching:!1,data:null}}),getters:{adConfig:t=>{var s;const o=(s=t.appOptions.data)==null?void 0:s.ad_config,n=y(y({},defaultAdConfig),o?JSON.parse(o):{});return n.PC_NAV=n.PC_NAV.filter(i=>!i.disabled),n.PC_ASIDE_SWIPER=n.PC_ASIDE_SWIPER.filter(i=>!i.disabled),n}},actions:{fetchAdminInfo(){return this.adminInfo.fetching=!0,service$1.get("/auth/admin").then(t=>{this.adminInfo.data=t.result}).finally(()=>{this.adminInfo.fetching=!1})},fetchAppOptions(t=!1){return!t&&this.appOptions.data?Promise.resolve():(this.appOptions.fetching=!0,service$1.get("/option").then(o=>{this.appOptions.data=o.result}).finally(()=>{this.appOptions.fetching=!1}))},postSiteLike(){const t=useUniversalStore();return service$1.post("/vote/site",{author:t.author}).then(o=>{this.appOptions.data&&(this.appOptions.data.meta.likes=o.result)})}}}),useEnhancer=()=>{const t=useRoute(),o=useRouter(),n=useI18n(),s=useTheme(),i=useGlobalState(),r=useMetaStore(),a=computed(()=>r.adConfig),l=computed(()=>i.userAgent.isMobile),c=computed(()=>s.theme.value===Theme.Dark),d=computed(()=>n.language.value===Language.Zh);return{route:t,router:o,globalState:i,i18n:n,meta:useMeta,theme:s,adConfig:a,isMobile:l,isDarkTheme:c,isZhLang:d,defer:useDefer(),popup:usePopup(),gtag:useGtag(),loading:useLoading()}};var OriginState;(function(t){t[t.Original=0]="Original",t[t.Reprint=1]="Reprint",t[t.Hybrid=2]="Hybrid"})(OriginState||(OriginState={}));var CommentPostType;(function(t){t[t.Guestbook=0]="Guestbook"})(CommentPostType||(CommentPostType={}));var CommentParentType;(function(t){t[t.Self=0]="Self"})(CommentParentType||(CommentParentType={}));var SortType;(function(t){t[t.Asc=1]="Asc",t[t.Desc=-1]="Desc",t[t.Hot=2]="Hot"})(SortType||(SortType={}));const HEADER_ELEMENT_ID="A_header",NAV_ELEMENT_ID="A_nav",MAIN_ELEMENT_ID="A_main",MAIN_CONTENT_ELEMENT_ID="A_main",ASIDE_ELEMENT_ID="A_aside",FOOTER_ELEMENT_ID="A_footer",ARTICLE_CONTENT_ELEMENT_ID="A_article_content",ARTICLE_META_ELEMENT_ID="A_article_meta",ARTICLE_SHARE_ELEMENT_ID="A_article_share",ARTICLE_RELETED_ELEMENT_ID="A_article_releted",ARTICLE_CONTENT_HEADING_ELEMENT_ID_PREFIX="A_article_content_heading",getArticleContentHeadingElementID=(t,o)=>`${ARTICLE_CONTENT_HEADING_ELEMENT_ID_PREFIX}_${t}_${o}`,COMMENT_ELEMENT_ID="A_comment_warpper",COMMENT_PUBLISHER_ELEMENT_ID="A_comment_publisher",COMMENT_FOOTER_ELEMENT_ID="A_comment_footer",COMMENT_ITEM_ELEMENT_ID_PREFIX="A_comment_content_item",getCommentItemElementID=t=>`${COMMENT_ITEM_ELEMENT_ID_PREFIX}_${t}`;var ANCHORS=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",HEADER_ELEMENT_ID,NAV_ELEMENT_ID,MAIN_ELEMENT_ID,MAIN_CONTENT_ELEMENT_ID,ASIDE_ELEMENT_ID,FOOTER_ELEMENT_ID,ARTICLE_CONTENT_ELEMENT_ID,ARTICLE_META_ELEMENT_ID,ARTICLE_SHARE_ELEMENT_ID,ARTICLE_RELETED_ELEMENT_ID,ARTICLE_CONTENT_HEADING_ELEMENT_ID_PREFIX,getArticleContentHeadingElementID,COMMENT_ELEMENT_ID,COMMENT_PUBLISHER_ELEMENT_ID,COMMENT_FOOTER_ELEMENT_ID,COMMENT_ITEM_ELEMENT_ID_PREFIX,getCommentItemElementID});const LOZAD_CLASS_NAME="lozad",LOADED_CLASS_NAME="loaded",exportLozadToGlobal=()=>{window.$lozad=lozad},getHighlightThemeStyle=t=>t?_darkStyle:_lightStyle,languages={go,css,sql,php,xml,yaml,json,bash,less,scss,rust,java,shell,nginx,stylus,python,javascript,typescript};Object.keys(languages).forEach(t=>core.registerLanguage(t,languages[t]));var relink=(text,tagMap)=>{const tagNames=Object.keys(tagMap).sort((t,o)=>o.length-t.length),tagRegexp=eval(`/${tagNames.join("|")}/ig`);try{return new URL(text),text}catch(t){return text.replace(tagRegexp,o=>{const n=tagMap.get(o);if(!n||text[0]==="#")return o;const s=n.slug,i=getTagFlowRoute(s),r=`window.$app.config.globalProperties.$router.push({ path: '${i}' });return false`;return`<a href="${i}" title="${n.description}" onclick="${r}">${o}</a>`})}};const trimHTML=t=>t.replace(/\s+/g," ").replace(/\n/g," "),getRenderer=t=>{const o=new Renderer;return o.text=n=>(t==null?void 0:t.text)?t.text(n):n,o.html=n=>(t==null?void 0:t.sanitize)?sanitizeHTML(escapeHtml_1(n)):n,o.heading=(n,s,i)=>{const r=(t==null?void 0:t.headingID)?`id="${t.headingID(n,s,i)}"`:"",a=escapeHtml_1(i);return`<h${s} ${r} alt="${a}" title="${a}">${n}</h${s}>`},o.paragraph=n=>`<p>${n}</p>`,o.checkbox=n=>n?'<i class="checkbox checked iconfont icon-checkbox-selected"></i>':'<i class="checkbox iconfont icon-checkbox-unselected"></i>',o.link=(n,s,i)=>{const r=n==null?void 0:n.startsWith(META.url),a=i.includes("<img"),l=trimHTML(`
      <a
        href="${n}"
        target="_blank"
        class="${a?"image-link":"link"}"
        title="${s||(a?n:i)}"
        ${r?"":'rel="external nofollow noopener"'}
      >
        ${i}
      </a>
    `);return(t==null?void 0:t.sanitize)?sanitizeHTML(l,{allowedTags:["a"],allowedAttributes:{a:["href","target","class","title","rel","data-*"]}}):l},o.image=(n,s,i)=>{const r=n==null?void 0:n.replace(/^http:\/\//gi,`${API_CONFIG.PROXY}/`),a=trimHTML(`
      <img
        class="${LOZAD_CLASS_NAME}"
        data-src="${r}"
        title="${s||i||META.domain}"
        alt="${i||s||r}"
        onclick="window.$popup?.vImage('${r}')"
      />
    `);return(t==null?void 0:t.sanitize)?sanitizeHTML(a,{allowedTags:["img"],allowedAttributes:{img:["alt","onclick","class","title","data-*"]}}):a},o.code=function(n,s,i){if(o.options.highlight){const l=o.options.highlight(n,s||"");l!=null&&l!==n&&(i=!0,n=l)}const r=n.split(`
`).map((l,c)=>`<li class="code-line-number">${c+1}</li>`.replace(/\s+/g," ")).join(""),a=`
      contenteditable="true"
      oncut="return false"
      onpaste="return false"
      onkeydown="if(event.metaKey) return true; return false;"
    `;return s?`
        <pre data-lang="${s}">
          <ul class="code-lines">${r}</ul>
          <code
            ${a}
            class="${o.options.langPrefix}${encodeURI(s)}"
          >${i?n:encodeURI(n)}
</code>
        </pre>

      `:`
        <pre>
          <ul class="code-lines">${r}</ul>
          <code ${a}>${i?n:encodeURI(n)}
</code>
        </pre>
      `},o};marked.setOptions({gfm:!0,breaks:!1,pedantic:!1,smartLists:!0,smartypants:!1,langPrefix:"hljs language-",highlight(t,o){return core.getLanguage(o)?core.highlight(t,{language:o}).value:core.highlightAuto(t).value}});const markdownToHTML=(t,o)=>{if(!t||typeof t!="string")return"";const n={renderer:getRenderer({headingID:o==null?void 0:o.headingIDRenderer})};return(o==null?void 0:o.relink)&&(n.renderer=getRenderer({text:s=>relink(s,o.tagMap),headingID:o==null?void 0:o.headingIDRenderer})),(o==null?void 0:o.sanitize)&&(n.renderer=getRenderer({sanitize:!0,headingID:o==null?void 0:o.headingIDRenderer})),marked.parse(t,n)},delayer=(t=DEFAULT_DELAY)=>{const o=new Date().getTime();return n=>{if(!t){n();return}const s=new Date().getTime()-o,i=t-s;i>0?setTimeout(n,i):n()}},delayPromise=(t,o)=>{const n=delayer(t);return new Promise((s,i)=>{o.then(r=>n(()=>s(r))).catch(i)})},ARTICLE_API_PATH="/article",useArticleListStore=defineStore("article",{state:()=>({hotList:{fetched:!1,fetching:!1,data:[]},list:{fetching:!1,data:[],pagination:null}}),actions:{fetchList(t={}){const o=!t.page||t.page===1,n=!o&&t.page>1;o&&(this.list.data=[],this.list.pagination=null),this.list.fetching=!0;const s=service$1.get(ARTICLE_API_PATH,{params:t});return delayPromise(520,s).then(r=>{n?(this.list.data.push(...r.result.data),this.list.pagination=r.result.pagination):(this.list.data=r.result.data,this.list.pagination=r.result.pagination)}).finally(()=>{this.list.fetching=!1})},fetchHotList(){return this.hotList.fetched?Promise.resolve():(this.hotList.fetching=!0,service$1.get(ARTICLE_API_PATH,{params:{cache:1,sort:SortType.Hot}}).then(t=>{this.hotList.data=t.result.data,this.hotList.fetched=!0}).finally(()=>{this.hotList.fetching=!1}))}}}),renderArticleMarkdown=t=>{const o=[];return{html:markdownToHTML(t,{sanitize:!1,relink:!1,headingIDRenderer:(s,i,r)=>{const a=getArticleContentHeadingElementID(i,r.toLowerCase().replace(/[^a-zA-Z0-9\u4E00-\u9FA5]+/g,"-"));return o.push({level:i,id:a,text:r}),a}}),headings:o}},useArticleDetailStore=defineStore("articleDetail",{state:()=>({fetching:!1,article:null,renderedFullContent:!0}),getters:{contentLength(){var t;return((t=this.article)==null?void 0:t.content.length)||0},readMinutes(){const t=Math.round(this.contentLength/400);return t<1?1:t},isLongContent(){return Boolean(this.article&&this.contentLength>16688)},splitIndex(){if(this.article&&this.isLongContent){const o=this.article.content.substring(0,13688),n=o.lastIndexOf(`
####`),s=o.lastIndexOf(`
###`),i=o.lastIndexOf("\n```"),r=o.lastIndexOf(`

**`);return Math.max(n,s,i,r)}return null},defaultContent(){if(!this.article)return null;const t=this.isLongContent?this.article.content.substring(0,this.splitIndex):this.article.content,{html:o,headings:n}=renderArticleMarkdown(t);return{markdown:t,html:o,headings:n}},moreContent(){if(this.article&&this.isLongContent){const t=this.article.content.substring(this.splitIndex),{html:o,headings:n}=renderArticleMarkdown(t);return{markdown:t,html:o,headings:n}}return null}},actions:{renderFullContent(){this.renderedFullContent=!0},fetchDetail(t){this.fetching=!0,this.article=null;const o=service$1.get(`${ARTICLE_API_PATH}/${t.articleID}`);return delayPromise(580,o).then(s=>{this.article=s.result,this.renderedFullContent=!this.isLongContent}).finally(()=>{this.fetching=!1})},postArticleLike(t){const o=useUniversalStore();return service$1.post("/vote/article",{article_id:t,vote:1,author:o.author}).then(n=>{this.article&&(this.article.meta.likes=n.result)})}}}),firstUpperCase=t=>t==null?void 0:t.toLowerCase().replace(/( |^)[a-z]/g,o=>o.toUpperCase()),CHINESE_NUMBER_TEXT="\u3007\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D\u5341".split(""),CHINESE_NUMBER_CAPITAL_TEXT="\u96F6\u58F9\u8D30\u53C1\u8086\u4F0D\u9646\u67D2\u634C\u7396\u62FE".split(""),replaceToChineseNumber=(t,o=!1)=>{const n=o?CHINESE_NUMBER_CAPITAL_TEXT:CHINESE_NUMBER_TEXT;return String(t).split("").map(s=>n[Number(s)]).join("")},CHINESE_MONTH_TEXT=["\u9996\u9633","\u7EC0\u9999","\u83BA\u65F6","\u69D0\u5E8F","\u9E23\u8729","\u5B63\u590F","\u5170\u79CB","\u5357\u5BAB","\u83CA\u6708","\u5B50\u6625","\u846D\u6708","\u5B63\u51AC"],toChineseMonth=t=>CHINESE_MONTH_TEXT[t-1],ENG_MONTH_TEXT=["January","February","March","April","May","June","July","August","September","October","November","December"],toEngMonth=t=>ENG_MONTH_TEXT[t-1],getArticleBannerThumbnailURL=(t,o)=>t?`${t}?x-oss-process=${o?"style/blog.list.banner.pc":"image/auto-orient,1/resize,m_fill,w_1190,h_420/quality,q_90/format,jpg/watermark,text_U3VybW9uLm1l,type_ZHJvaWRzYW5zZmFsbGJhY2s,color_ffffff,size_32,g_sw,t_26,x_30,y_25"}`:getTargetCDNURL("/images/thumbnail/carrousel.jpg"),getMobileArticleListThumbnailURL=(t,o=!1)=>t?`${t}?x-oss-process=${o?"style/blog.list.item.mobile":"image/auto-orient,1/resize,m_fill,w_700,h_247/quality,q_86/format,jpg/watermark,text_U3VybW9uLm1l,type_ZHJvaWRzYW5zZmFsbGJhY2s,color_ffffff,size_30,g_sw,t_26,x_30,y_25"}`:"",getArticleListThumbnailURL=(t,o)=>t?`${t}?x-oss-process=${o?"style/blog.list.item.pc":"image/auto-orient,1/resize,m_fill,w_350,h_238/quality,q_80/format,jpg/watermark,text_U3VybW9uLm1l,type_ZHJvaWRzYW5zZmFsbGJhY2s,color_ffffff,size_20,g_sw,t_24,x_16,y_14"}`:"",isOriginalType=t=>isNull(t)||isUndefined(null)||t===OriginState.Original,isHybridType=t=>t===OriginState.Hybrid,isReprintType=t=>t===OriginState.Reprint,getExtendsObject=t=>(t==null?void 0:t.length)?t.reduce((o,n)=>S(y({},o),{[n.name]:n.value}),{}):{},getExtendValue=(t,o)=>t.length?getExtendsObject(t)[o]:UNDEFINED,TEXT_MAP={AM:{[Language.En]:"AM",[Language.Zh]:"\u4E0A\u5348"},PM:{[Language.En]:"PM",[Language.Zh]:"\u4E0B\u5348"},AGO:{[Language.En]:" ago",[Language.Zh]:"\u524D"},JUST_NOW:{[Language.En]:"Just now",[Language.Zh]:"\u521A\u521A"},MINUTES:{[Language.En]:"minutes",[Language.Zh]:"\u5206\u949F"},HOURS:{[Language.En]:"hours",[Language.Zh]:"\u5C0F\u65F6"},WEEKS:{[Language.En]:"weeks",[Language.Zh]:"\u5468"},DAYS:{[Language.En]:"days",[Language.Zh]:"\u5929"},MONTHS:{[Language.En]:"months",[Language.Zh]:"\u4E2A\u6708"},YEARS:{[Language.En]:"years",[Language.Zh]:"\u5E74"},WEEKDAYS:{[Language.En]:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],[Language.Zh]:["\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D","\u65E5"]}},textHumanizer=t=>o=>o[t],cloneDate=t=>new Date(t.getTime()),dateToHuman=t=>{const o=t.getDay();return{day:t.getDate(),week:o===0?7:o,month:t.getMonth()+1,year:t.getFullYear()}},humanToDate=t=>{const o=new Date;return o.setDate(t.day),o.setFullYear(t.year),o.setMonth(t.month-1),o},humanDateToYMD=({year:t,month:o,day:n},s="-")=>{const i=o?s+String(o).padStart(2,"0"):"",r=n?s+String(n).padStart(2,"0"):"";return`${t}${i}${r}`},isSameHumanDay=(t,o)=>t.day===o.day&&t.month===o.month&&t.year===o.year,dateToYMD=t=>humanDateToYMD(dateToHuman(t)),timeAgo=(t,o)=>{const n=t instanceof Date?t:new Date(t),s=Date.now()/1e3-Number(n)/1e3,i=3600,r=i*24,a=r*7,l=r*30,c=l*12,d=textHumanizer(o),u=(m,g)=>`${m} ${g}${d(TEXT_MAP.AGO)}`;return s<i?~~(s/60)==0?d(TEXT_MAP.JUST_NOW):u(~~(s/60),d(TEXT_MAP.MINUTES)):s<r?u(~~(s/i),d(TEXT_MAP.HOURS)):s<a?u(~~(s/r),d(TEXT_MAP.DAYS)):s<l?u(~~(s/a),d(TEXT_MAP.WEEKS)):s<c?u(~~(s/l),d(TEXT_MAP.MONTHS)):u(~~(s/c),d(TEXT_MAP.YEARS))},humanizeYMD=(t,o)=>{if(!t)return t;const n=new Date(t),s=n.getFullYear(),i=String(n.getMonth()+1).padStart(2,"0"),r=String(n.getDate()).padStart(2,"0"),a=n.getHours()>11?textHumanizer(o)(TEXT_MAP.PM):textHumanizer(o)(TEXT_MAP.AM);return`${s}/${i}/${r} ${a}`};var item_vue_vue_type_style_index_0_scoped_true_lang$2="";const _sfc_main$1m=defineComponent({name:"FlowArticleListItem",props:{article:{type:Object,required:!0}},setup(t){const{i18n:o,router:n,globalState:s}=useEnhancer(),i=useUniversalStore(),r=computed(()=>i.isLikedPage(t.article.id)),a=isHybridType(t.article.origin),l=isReprintType(t.article.origin),c=isOriginalType(t.article.origin);return{LANGUAGE_KEYS,isLiked:r,isHybrid:a,isReprint:l,isOriginal:c,getThumbnailURL:g=>getMobileArticleListThumbnailURL(g,s.imageExt.value.isWebP),getArticleDetailRoute,handleClick:()=>{n.push(getArticleDetailRoute(t.article.id))},humanlizeDate:g=>timeAgo(g,o.language.value)}}}),_withScopeId$J=t=>(pushScopeId("data-v-3bf36fb1"),t=t(),popScopeId(),t),_hoisted_1$1c={class:"thumbnail"},_hoisted_2$$=["alt","title"],_hoisted_3$V={class:"content"},_hoisted_4$P={class:"body"},_hoisted_5$L={class:"title"},_hoisted_6$F=["innerHTML"],_hoisted_7$D={class:"meta"},_hoisted_8$y={class:"date"},_hoisted_9$w=_withScopeId$J(()=>createBaseVNode("i",{class:"iconfont icon-clock"},null,-1)),_hoisted_10$r={class:"views"},_hoisted_11$o=_withScopeId$J(()=>createBaseVNode("i",{class:"iconfont icon-eye"},null,-1)),_hoisted_12$m={class:"comments"},_hoisted_13$m=_withScopeId$J(()=>createBaseVNode("i",{class:"iconfont icon-comment"},null,-1)),_hoisted_14$l={class:"likes"};function _sfc_render$1m(t,o,n,s,i,r){const a=resolveComponent("i18n"),l=resolveComponent("router-link");return openBlock(),createElementBlock("div",{class:"article-item",onClick:o[0]||(o[0]=(...c)=>t.handleClick&&t.handleClick(...c))},[createBaseVNode("div",_hoisted_1$1c,[createBaseVNode("span",{class:normalizeClass(["oirigin",{original:t.isOriginal,reprint:t.isReprint,hybrid:t.isHybrid}])},[t.isOriginal?(openBlock(),createBlock(a,{key:0,lkey:t.LANGUAGE_KEYS.ORIGIN_ORIGINAL},null,8,["lkey"])):t.isReprint?(openBlock(),createBlock(a,{key:1,lkey:t.LANGUAGE_KEYS.ORIGIN_REPRINT},null,8,["lkey"])):t.isHybrid?(openBlock(),createBlock(a,{key:2,lkey:t.LANGUAGE_KEYS.ORIGIN_HYBRID},null,8,["lkey"])):createCommentVNode("v-if",!0)],2),createBaseVNode("div",{class:"image",style:normalizeStyle({backgroundImage:`url(${t.getThumbnailURL(t.article.thumb)})`}),alt:t.article.title,title:t.article.title},null,12,_hoisted_2$$)]),createBaseVNode("div",_hoisted_3$V,[createBaseVNode("div",_hoisted_4$P,[createBaseVNode("h4",_hoisted_5$L,[createVNode(l,{class:"link",to:t.getArticleDetailRoute(t.article.id),title:t.article.title},{default:withCtx(()=>[createTextVNode(toDisplayString(t.article.title),1)]),_:1},8,["to","title"])]),createBaseVNode("p",{class:"description",style:{"-webkit-box-orient":"vertical"},innerHTML:t.article.description},null,8,_hoisted_6$F)]),createBaseVNode("div",_hoisted_7$D,[createBaseVNode("span",_hoisted_8$y,[_hoisted_9$w,createBaseVNode("span",null,toDisplayString(t.humanlizeDate(t.article.create_at)),1)]),createBaseVNode("span",_hoisted_10$r,[_hoisted_11$o,createBaseVNode("span",null,toDisplayString(t.article.meta.views||0),1)]),createBaseVNode("span",_hoisted_12$m,[_hoisted_13$m,createBaseVNode("span",null,toDisplayString(t.article.meta.comments||0),1)]),createBaseVNode("span",_hoisted_14$l,[createBaseVNode("i",{class:normalizeClass(["iconfont icon-heart",{liked:t.isLiked}])},null,2),createBaseVNode("span",null,toDisplayString(t.article.meta.likes||0),1)])])])])}var ListItem$1=_export_sfc(_sfc_main$1m,[["render",_sfc_render$1m],["__scopeId","data-v-3bf36fb1"]]),mammon_vue_vue_type_style_index_0_scoped_true_lang$1="";const _sfc_main$1l=defineComponent({name:"MobileFlowMammon",setup(){const{isDarkTheme:t}=useEnhancer();return{isDarkTheme:t}}});function _sfc_render$1l(t,o,n,s,i,r){const a=resolveComponent("Adsense"),l=resolveComponent("client-only");return openBlock(),createBlock(l,{transition:""},{default:withCtx(()=>[t.isDarkTheme?(openBlock(),createBlock(a,{key:"dark-mammon","ins-class":"mammon-ins","data-ad-format":"fluid","data-ad-layout-key":"-6e+e3+1s-2k+2w","data-ad-slot":"1512607272",class:"mammon"})):(openBlock(),createBlock(a,{key:"default-mammon","ins-class":"mammon-ins","data-ad-format":"fluid","data-ad-layout-key":"-6t+e6+1w-2w+2b","data-ad-slot":"5090380893",class:"mammon"}))]),_:1})}var Mammon=_export_sfc(_sfc_main$1l,[["render",_sfc_render$1l],["__scopeId","data-v-1062f9f4"]]),index_vue_vue_type_style_index_0_scoped_true_lang$5="";const _sfc_main$1k=defineComponent({name:"MobileFlowArticleList",components:{ListItem:ListItem$1,Mammon},props:{tagSlug:{type:String,required:!1},categorySlug:{type:String,required:!1},searchKeyword:{type:String,required:!1},date:{type:String,required:!1}},setup(t){const{meta:o}=useEnhancer(),n=useMetaStore(),s=useArticleListStore(),i=computed(()=>{const c=[...s.list.data];return c.length<5||c.splice(5,0,{ad:!0}),c}),r=computed(()=>{const c=s.list.pagination;return c?c.current_page<c.total_page:!1});o(()=>{var d,u;const c=Object.values(t).filter(Boolean).map(m=>firstUpperCase(m));return c.length?{pageTitle:c.join(" | ")}:{title:`${META.title} - ${META.sub_title}`,description:(d=n.appOptions.data)==null?void 0:d.description,keywords:(u=n.appOptions.data)==null?void 0:u.keywords.join(",")}});const a=async(c={})=>{await s.fetchList(y({category_slug:t.categorySlug,tag_slug:t.tagSlug,date:t.date,keyword:t.searchKeyword},c))},l=async()=>{await a({page:s.list.pagination.current_page+1}),onClient(nextScreen)};return onBeforeMount(()=>{watch(()=>t,()=>a(),{flush:"post",deep:!0})}),useUniversalFetch(()=>a()),{LANGUAGE_KEYS,articles:i,articleListStore:s,hasMoreArticles:r,loadmoreArticles:l}}}),_withScopeId$I=t=>(pushScopeId("data-v-2c635b7d"),t=t(),popScopeId(),t),_hoisted_1$1b={class:"articles"},_hoisted_2$_={key:0,class:"header"},_hoisted_3$U={class:"content"},_hoisted_4$O=_withScopeId$I(()=>createBaseVNode("i",{class:"iconfont icon-cancel"},null,-1)),_hoisted_5$K={class:"skeletons",key:"skeleton"},_hoisted_6$E={class:"thumb"},_hoisted_7$C={class:"content"},_hoisted_8$x={class:"title"},_hoisted_9$v={class:"description"},_hoisted_10$q={class:"loadmore"},_hoisted_11$n=["disabled"],_hoisted_12$l={class:"text"},_hoisted_13$l={key:0,class:"icon"},_hoisted_14$k=_withScopeId$I(()=>createBaseVNode("i",{class:"iconfont icon-loadmore"},null,-1)),_hoisted_15$j=[_hoisted_14$k];function _sfc_render$1k(t,o,n,s,i,r){const a=resolveComponent("i18n"),l=resolveComponent("router-link"),c=resolveComponent("skeleton-base"),d=resolveComponent("skeleton-line"),u=resolveComponent("empty"),m=resolveComponent("mammon"),g=resolveComponent("list-item"),f=resolveComponent("placeholder");return openBlock(),createElementBlock("div",_hoisted_1$1b,[createCommentVNode(" header "),t.tagSlug||t.categorySlug||t.date||t.searchKeyword?(openBlock(),createElementBlock("div",_hoisted_2$_,[createBaseVNode("div",_hoisted_3$U,[t.categorySlug?(openBlock(),createBlock(a,{key:0},{zh:withCtx(()=>[createTextVNode("\u5206\u7C7B \u201C"+toDisplayString(t.categorySlug)+"\u201D \u7684\u8FC7\u6EE4\u7ED3\u679C",1)]),en:withCtx(()=>[createTextVNode('Category "'+toDisplayString(t.categorySlug)+`" 's result`,1)]),_:1})):createCommentVNode("v-if",!0),t.tagSlug?(openBlock(),createBlock(a,{key:1},{zh:withCtx(()=>[createTextVNode("\u6807\u7B7E \u201C"+toDisplayString(t.tagSlug)+"\u201D \u7684\u8FC7\u6EE4\u7ED3\u679C",1)]),en:withCtx(()=>[createTextVNode('Tag "'+toDisplayString(t.tagSlug)+`" 's result`,1)]),_:1})):createCommentVNode("v-if",!0),t.date?(openBlock(),createBlock(a,{key:2},{zh:withCtx(()=>[createTextVNode("\u65E5\u671F \u201C"+toDisplayString(t.date)+"\u201D \u7684\u8FC7\u6EE4\u7ED3\u679C",1)]),en:withCtx(()=>[createTextVNode('Date "'+toDisplayString(t.date)+`" 's result`,1)]),_:1})):createCommentVNode("v-if",!0),t.searchKeyword?(openBlock(),createBlock(a,{key:3},{zh:withCtx(()=>[createTextVNode("\u5173\u952E\u8BCD \u201C"+toDisplayString(t.searchKeyword)+"\u201D \u7684\u8FC7\u6EE4\u7ED3\u679C",1)]),en:withCtx(()=>[createTextVNode('Search keyword "'+toDisplayString(t.searchKeyword)+`" 's result`,1)]),_:1})):createCommentVNode("v-if",!0)]),createVNode(l,{to:"/",class:"close"},{default:withCtx(()=>[_hoisted_4$O]),_:1})])):createCommentVNode("v-if",!0),createCommentVNode(" list "),createVNode(f,{data:t.articles.length,loading:!t.articles.length&&t.articleListStore.list.fetching},{loading:withCtx(()=>[createBaseVNode("ul",_hoisted_5$K,[(openBlock(),createElementBlock(Fragment,null,renderList(3,$=>createBaseVNode("li",{key:$,class:"item"},[createBaseVNode("div",_hoisted_6$E,[createVNode(c)]),createBaseVNode("div",_hoisted_7$C,[createBaseVNode("div",_hoisted_8$x,[createVNode(d)]),createBaseVNode("div",_hoisted_9$v,[createVNode(d)])])])),64))])]),placeholder:withCtx(()=>[createVNode(u,{class:"empty","i18n-key":t.LANGUAGE_KEYS.ARTICLE_PLACEHOLDER},null,8,["i18n-key"])]),default:withCtx(()=>[createBaseVNode("div",null,[createCommentVNode(" list "),createVNode(TransitionGroup,{key:"list",name:"list-fade",tag:"div",class:"list"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.articles,($,E)=>(openBlock(),createElementBlock(Fragment,{key:E},[$.ad?(openBlock(),createBlock(m,{key:0,class:"list-item"})):(openBlock(),createBlock(g,{key:1,article:$,class:"list-item"},null,8,["article"]))],64))),128))]),_:1}),createCommentVNode(" loadmore "),createBaseVNode("div",_hoisted_10$q,[createBaseVNode("button",{class:"button",disabled:t.articleListStore.list.fetching||!t.hasMoreArticles,onClick:o[0]||(o[0]=(...$)=>t.loadmoreArticles&&t.loadmoreArticles(...$))},[createBaseVNode("div",_hoisted_12$l,[t.articleListStore.list.fetching?(openBlock(),createBlock(a,{key:0,lkey:t.LANGUAGE_KEYS.ARTICLE_LIST_LOADING},null,8,["lkey"])):t.hasMoreArticles?(openBlock(),createBlock(a,{key:1,lkey:t.LANGUAGE_KEYS.ARTICLE_LIST_LOADMORE},null,8,["lkey"])):(openBlock(),createBlock(a,{key:2,lkey:t.LANGUAGE_KEYS.ARTICLE_LIST_NO_MORE},null,8,["lkey"]))]),t.hasMoreArticles?(openBlock(),createElementBlock("span",_hoisted_13$l,_hoisted_15$j)):createCommentVNode("v-if",!0)],8,_hoisted_11$n)])])]),_:1},8,["data","loading"])])}var MobileFlow=_export_sfc(_sfc_main$1k,[["render",_sfc_render$1k],["__scopeId","data-v-2c635b7d"]]);const useAnnouncementStore=defineStore("announcement",{state:()=>({fetching:!1,announcements:[]}),actions:{fetchList(t){return this.announcements=[],this.fetching=!0,service$1.get("/announcement",{params:t}).then(o=>{this.announcements=o.result.data}).finally(()=>{this.fetching=!1})}}});Swiper.use([Grid,Pagination,Navigation,Mousewheel,Autoplay,A11y,Lazy,EffectFade]);var carrousel_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$1j=defineComponent({name:"FlowCarrousel",components:{Swiper:Swiper$1,SwiperSlide},props:{articles:{type:Array,required:!0},fetching:{type:Boolean,required:!0}},setup(t){const{globalState:o,adConfig:n,isDarkTheme:s}=useEnhancer(),i=computed(()=>{const a=[...t.articles].slice(0,9);if(n.value.PC_CARROUSEL){const l=n.value.PC_CARROUSEL,{index:c}=l,d=V(l,["index"]);a.length&&a.splice(c,0,y({ad:!0},d))}return a});return{LANGUAGE_KEYS,isDarkTheme:s,articleList:i,getArticleDetailRoute,getThumbURL:a=>getArticleBannerThumbnailURL(a,o.imageExt.value.isWebP)}}}),_withScopeId$H=t=>(pushScopeId("data-v-d619964c"),t=t(),popScopeId(),t),_hoisted_1$1a={class:"article-skeleton",key:"skeleton"},_hoisted_2$Z={class:"title"},_hoisted_3$T={class:"content"},_hoisted_4$N={class:"first"},_hoisted_5$J={class:"content"},_hoisted_6$D=["src","alt"],_hoisted_7$B={class:"title"},_hoisted_8$w=_withScopeId$H(()=>createBaseVNode("div",{class:"background"},null,-1)),_hoisted_9$u={class:"prospect"},_hoisted_10$p={class:"ad-symbol"},_hoisted_11$m=["src","alt"],_hoisted_12$k={class:"title"},_hoisted_13$k=_withScopeId$H(()=>createBaseVNode("div",{class:"background"},null,-1)),_hoisted_14$j={class:"prospect"};function _sfc_render$1j(t,o,n,s,i,r){const a=resolveComponent("i18n"),l=resolveComponent("empty"),c=resolveComponent("skeleton-line"),d=resolveComponent("skeleton-paragraph"),u=resolveComponent("ulink"),m=resolveComponent("router-link"),g=resolveComponent("swiper-slide"),f=resolveComponent("swiper"),$=resolveComponent("placeholder");return openBlock(),createElementBlock("div",{class:normalizeClass(["carrousel",{dark:t.isDarkTheme}])},[createVNode($,{data:t.articleList.length,loading:t.fetching},{placeholder:withCtx(()=>[createVNode(l,{class:"article-empty",key:"empty"},{default:withCtx(()=>[createVNode(a,{lkey:t.LANGUAGE_KEYS.ARTICLE_PLACEHOLDER},null,8,["lkey"])]),_:1})]),loading:withCtx(()=>[createBaseVNode("div",_hoisted_1$1a,[createBaseVNode("div",_hoisted_2$Z,[createVNode(c)]),createBaseVNode("div",_hoisted_3$T,[createBaseVNode("div",_hoisted_4$N,[createVNode(c)]),createVNode(d,{lines:5})])])]),default:withCtx(()=>[createVNode(f,{class:"swiper",autoplay:{delay:3500,disableOnInteraction:!1},"set-wrapper-size":!0,mousewheel:!0,"observe-parents":!0,"grab-cursor":!1,"simulate-touch":!1,"preload-images":!1,lazy:!1,pagination:{clickable:!0}},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.articleList.slice(0,9),(E,v)=>(openBlock(),createBlock(g,{key:v},{default:withCtx(()=>[createBaseVNode("div",_hoisted_5$J,[E.ad?(openBlock(),createBlock(u,{key:0,class:"link",href:E.url},{default:withCtx(()=>[createBaseVNode("img",{src:E.src,alt:E.title},null,8,_hoisted_6$D),createBaseVNode("div",_hoisted_7$B,[_hoisted_8$w,createBaseVNode("div",_hoisted_9$u,[createBaseVNode("span",{class:"text",style:normalizeStyle({backgroundImage:`url('${t.getThumbURL(E.src)}')`})},toDisplayString(E.title),5)])]),createBaseVNode("span",_hoisted_10$p,[createVNode(a,{lkey:t.LANGUAGE_KEYS.AD},null,8,["lkey"])])]),_:2},1032,["href"])):(openBlock(),createBlock(m,{key:1,to:t.getArticleDetailRoute(E.id),class:"link"},{default:withCtx(()=>[createBaseVNode("img",{src:t.getThumbURL(E.thumb),alt:E.title,draggable:"false"},null,8,_hoisted_11$m),createBaseVNode("div",_hoisted_12$k,[_hoisted_13$k,createBaseVNode("div",_hoisted_14$j,[createBaseVNode("span",{class:"text",style:normalizeStyle({backgroundImage:`url('${t.getThumbURL(E.thumb)}')`})},toDisplayString(E.title),5)])])]),_:2},1032,["to"]))])]),_:2},1024))),128))]),_:1})]),_:1},8,["data","loading"])],2)}var Carrousel=_export_sfc(_sfc_main$1j,[["render",_sfc_render$1j],["__scopeId","data-v-d619964c"]]),markdown_vue_vue_type_style_index_0_lang="";const _sfc_main$1i=defineComponent({name:"Markdown",props:{markdown:String,html:String,tagMap:Object,relink:{type:Boolean,default:!1},sanitize:{type:Boolean,default:!1},plain:{type:Boolean,default:!1},compact:{type:Boolean,default:!1}},setup(t){const{isDarkTheme:o}=useEnhancer(),n=computed(()=>t.markdown?markdownToHTML(t.markdown,{sanitize:t.sanitize,relink:t.relink,tagMap:t.tagMap}):t.html||"");return{isDarkTheme:o,markdownHTML:n}}}),_hoisted_1$19=["innerHTML"];function _sfc_render$1i(t,o,n,s,i,r){return openBlock(),createElementBlock("div",{class:normalizeClass([t.plain?"global-markdown-plain":"global-markdown-html",{compact:t.compact,dark:t.isDarkTheme}]),innerHTML:t.markdownHTML},null,10,_hoisted_1$19)}var Markdown=_export_sfc(_sfc_main$1i,[["render",_sfc_render$1i]]),announcement_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$1h=defineComponent({name:"FlowAnnouncement",components:{Swiper:Swiper$1,SwiperSlide,Markdown},props:{announcements:{type:Array,required:!0},fetching:{type:Boolean,required:!0}},setup(){const{i18n:t,isDarkTheme:o}=useEnhancer(),n=ref(0),s=ref();return{LANGUAGE_KEYS,isDarkTheme:o,activeIndex:n,humanlizeDate:d=>timeAgo(d,t.language.value),prevSlide:()=>{var d;return(d=s.value)==null?void 0:d.slidePrev()},nextSlide:()=>{var d;return(d=s.value)==null?void 0:d.slideNext()},handleSwiperReady:d=>{s.value=d},handleSwiperTransitionStart:()=>{var d;n.value=((d=s.value)==null?void 0:d.activeIndex)||0}}}}),_withScopeId$G=t=>(pushScopeId("data-v-11f3ab30"),t=t(),popScopeId(),t),_hoisted_1$18={class:"announcement-skeleton",key:"skeleton"},_hoisted_2$Y={class:"left"},_hoisted_3$S={class:"right"},_hoisted_4$M={class:"warpper",key:"warpper"},_hoisted_5$I=["data-content"],_hoisted_6$C={class:"title"},_hoisted_7$A=_withScopeId$G(()=>createBaseVNode("i",{class:"iconfont icon-windmill"},null,-1)),_hoisted_8$v=[_hoisted_7$A],_hoisted_9$t={class:"swiper-box"},_hoisted_10$o={class:"date"},_hoisted_11$l={class:"navigation"},_hoisted_12$j=_withScopeId$G(()=>createBaseVNode("i",{class:"iconfont icon-announcement-prev"},null,-1)),_hoisted_13$j=[_hoisted_12$j],_hoisted_14$i=_withScopeId$G(()=>createBaseVNode("i",{class:"iconfont icon-announcement-next"},null,-1)),_hoisted_15$i=[_hoisted_14$i];function _sfc_render$1h(t,o,n,s,i,r){const a=resolveComponent("i18n"),l=resolveComponent("empty"),c=resolveComponent("skeleton-line"),d=resolveComponent("markdown"),u=resolveComponent("swiper-slide"),m=resolveComponent("swiper"),g=resolveComponent("placeholder");return openBlock(),createElementBlock("div",{class:normalizeClass(["announcement",{dark:t.isDarkTheme}])},[createVNode(g,{data:t.announcements.length,loading:t.fetching},{placeholder:withCtx(()=>[createVNode(l,{class:"announcement-empty",key:"empty"},{default:withCtx(()=>[createVNode(a,{lkey:t.LANGUAGE_KEYS.EMPTY_PLACEHOLDER},null,8,["lkey"])]),_:1})]),loading:withCtx(()=>[createBaseVNode("div",_hoisted_1$18,[createBaseVNode("div",_hoisted_2$Y,[createVNode(c)]),createBaseVNode("div",_hoisted_3$S,[createVNode(c)])])]),default:withCtx(()=>{var f;return[createBaseVNode("div",_hoisted_4$M,[createBaseVNode("div",{class:"background","data-content":(f=t.announcements[t.activeIndex])==null?void 0:f.content},null,8,_hoisted_5$I),createBaseVNode("div",_hoisted_6$C,[createBaseVNode("span",{class:"icon-box",style:normalizeStyle({transform:`rotate(-${t.activeIndex*135}deg)`})},_hoisted_8$v,4)]),createBaseVNode("div",_hoisted_9$t,[createVNode(m,{class:"swiper",direction:"vertical",height:42,"allow-touch-move":!1,"slides-per-view":1,"set-wrapper-size":!0,autoplay:{delay:3500,disableOnInteraction:!1},onTransitionStart:t.handleSwiperTransitionStart,onSwiper:t.handleSwiperReady},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.announcements,($,E)=>(openBlock(),createBlock(u,{key:E},{default:withCtx(()=>[createVNode(d,{class:"content",plain:!0,markdown:$.content},null,8,["markdown"]),createBaseVNode("div",_hoisted_10$o,toDisplayString(t.humanlizeDate($.create_at)),1)]),_:2},1024))),128))]),_:1},8,["onTransitionStart","onSwiper"]),createBaseVNode("div",_hoisted_11$l,[createBaseVNode("div",{class:normalizeClass(["button prev",{disabled:t.activeIndex===0}]),onClick:o[0]||(o[0]=(...$)=>t.prevSlide&&t.prevSlide(...$))},_hoisted_13$j,2),createBaseVNode("div",{class:normalizeClass(["button next",{disabled:t.activeIndex===t.announcements.length-1}]),onClick:o[1]||(o[1]=(...$)=>t.nextSlide&&t.nextSlide(...$))},_hoisted_15$i,2)])])])]}),_:1},8,["data","loading"])],2)}var Announcement=_export_sfc(_sfc_main$1h,[["render",_sfc_render$1h],["__scopeId","data-v-11f3ab30"]]),item_vue_vue_type_style_index_0_scoped_true_lang$1="";const _sfc_main$1g=defineComponent({name:"FlowArticleListItem",props:{article:{type:Object,required:!0}},setup(t){const{globalState:o,i18n:n}=useEnhancer(),s=useUniversalStore(),i=computed(()=>s.isLikedPage(t.article.id)),r=isHybridType(t.article.origin),a=isReprintType(t.article.origin),l=isOriginalType(t.article.origin),c=getExtendsObject(t.article.extends);return{LANGUAGE_KEYS,isLiked:i,isHybrid:r,isReprint:a,isOriginal:l,extendsMap:c,getThumbnailURL:m=>getArticleListThumbnailURL(m,o.imageExt.value.isWebP),getArticleDetailRoute,getCategoryFlowRoute,getTagFlowRoute,humanlizeDate:m=>timeAgo(m,n.language.value)}}}),_withScopeId$F=t=>(pushScopeId("data-v-0b3b273e"),t=t(),popScopeId(),t),_hoisted_1$17={class:"article-item"},_hoisted_2$X={class:"item-content"},_hoisted_3$R=["alt","title"],_hoisted_4$L={class:"item-body"},_hoisted_5$H={class:"item-content"},_hoisted_6$B={class:"title"},_hoisted_7$z={key:0,class:"language"},_hoisted_8$u=["innerHTML"],_hoisted_9$s={class:"item-meta"},_hoisted_10$n={class:"date"},_hoisted_11$k=_withScopeId$F(()=>createBaseVNode("i",{class:"iconfont icon-clock"},null,-1)),_hoisted_12$i={class:"views"},_hoisted_13$i=_withScopeId$F(()=>createBaseVNode("i",{class:"iconfont icon-eye"},null,-1)),_hoisted_14$h={class:"comments"},_hoisted_15$h=_withScopeId$F(()=>createBaseVNode("i",{class:"iconfont icon-comment"},null,-1)),_hoisted_16$f={class:"likes"},_hoisted_17$e={class:"categories"},_hoisted_18$e=_withScopeId$F(()=>createBaseVNode("i",{class:"iconfont icon-category"},null,-1));function _sfc_render$1g(t,o,n,s,i,r){const a=resolveComponent("i18n"),l=resolveComponent("router-link"),c=resolveComponent("placeholder");return openBlock(),createElementBlock("div",_hoisted_1$17,[createBaseVNode("div",{class:"item-background",style:normalizeStyle({backgroundImage:`url(${t.getThumbnailURL(t.article.thumb)})`})},null,4),createBaseVNode("div",_hoisted_2$X,[createVNode(l,{class:"item-thumb",to:t.getArticleDetailRoute(t.article.id)},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(["item-oirigin",{original:t.isOriginal,hybrid:t.isHybrid,reprint:t.isReprint}])},[t.isOriginal?(openBlock(),createBlock(a,{key:0,lkey:t.LANGUAGE_KEYS.ORIGIN_ORIGINAL},null,8,["lkey"])):t.isReprint?(openBlock(),createBlock(a,{key:1,lkey:t.LANGUAGE_KEYS.ORIGIN_REPRINT},null,8,["lkey"])):t.isHybrid?(openBlock(),createBlock(a,{key:2,lkey:t.LANGUAGE_KEYS.ORIGIN_HYBRID},null,8,["lkey"])):createCommentVNode("v-if",!0)],2),createBaseVNode("div",{class:"image",style:normalizeStyle({backgroundImage:`url(${t.getThumbnailURL(t.article.thumb)})`}),alt:t.article.title,title:t.article.title},null,12,_hoisted_3$R)]),_:1},8,["to"]),createBaseVNode("div",_hoisted_4$L,[createBaseVNode("div",_hoisted_5$H,[createBaseVNode("h5",_hoisted_6$B,[createVNode(l,{class:"link",to:t.getArticleDetailRoute(t.article.id),title:t.article.title},{default:withCtx(()=>[createTextVNode(toDisplayString(t.article.title),1)]),_:1},8,["to","title"]),t.extendsMap.language?(openBlock(),createElementBlock("span",_hoisted_7$z,toDisplayString(t.extendsMap.language),1)):createCommentVNode("v-if",!0)]),createBaseVNode("p",{class:"description",style:{"-webkit-box-orient":"vertical"},innerHTML:t.article.description},null,8,_hoisted_8$u)]),createBaseVNode("div",_hoisted_9$s,[createBaseVNode("span",_hoisted_10$n,[_hoisted_11$k,createBaseVNode("span",null,toDisplayString(t.humanlizeDate(t.article.create_at)),1)]),createBaseVNode("span",_hoisted_12$i,[_hoisted_13$i,createBaseVNode("span",null,toDisplayString(t.article.meta.views||0),1)]),createBaseVNode("span",_hoisted_14$h,[_hoisted_15$h,createBaseVNode("span",null,toDisplayString(t.article.meta.comments||0),1)]),createBaseVNode("span",_hoisted_16$f,[createBaseVNode("i",{class:normalizeClass(["iconfont icon-like",{liked:t.isLiked}])},null,2),createBaseVNode("span",null,toDisplayString(t.article.meta.likes||0),1)]),createBaseVNode("span",_hoisted_17$e,[_hoisted_18$e,createVNode(c,{transition:!1,data:t.article.category.length},{placeholder:withCtx(()=>[createVNode(a,{lkey:t.LANGUAGE_KEYS.CATEGORY_PLACEHOLDER},null,8,["lkey"])]),default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.article.category.slice(0,1),(d,u)=>(openBlock(),createBlock(l,{key:u,to:t.getCategoryFlowRoute(d.slug)},{default:withCtx(()=>[createVNode(a,{zh:d.name,en:d.slug},null,8,["zh","en"])]),_:2},1032,["to"]))),128))]),_:1},8,["data"])])])])])])}var ListItem=_export_sfc(_sfc_main$1g,[["render",_sfc_render$1g],["__scopeId","data-v-0b3b273e"]]),list_vue_vue_type_style_index_0_scoped_true_lang$1="",Events$1;(function(t){t.Loadmore="loadmore"})(Events$1||(Events$1={}));const _sfc_main$1f=defineComponent({name:"FlowArticleList",components:{ListItem},props:{articles:{type:Array,required:!0},pagination:Object,fetching:{type:Boolean,required:!0},mammon:{type:Boolean,default:!0}},emits:[Events$1.Loadmore],setup(t,o){const{isZhLang:n,isDarkTheme:s}=useEnhancer(),i=computed(()=>t.pagination?t.pagination.current_page<t.pagination.total_page:!1);return{LANGUAGE_KEYS,isZhLang:n,isDarkTheme:s,isLoadMoreEnabled:i,handleLoadmore:()=>{o.emit(Events$1.Loadmore)}}}}),_withScopeId$E=t=>(pushScopeId("data-v-448fcee6"),t=t(),popScopeId(),t),_hoisted_1$16={class:"article-list"},_hoisted_2$W={class:"article-list-skeleton",key:"skeleton"},_hoisted_3$Q={class:"thumb"},_hoisted_4$K={class:"content"},_hoisted_5$G={class:"title"},_hoisted_6$A={class:"description"},_hoisted_7$y={key:"list"},_hoisted_8$t={class:"article-load"},_hoisted_9$r=["disabled"],_hoisted_10$m=_withScopeId$E(()=>createBaseVNode("span",{class:"icon"},[createBaseVNode("i",{class:"iconfont icon-peachblossom"})],-1));function _sfc_render$1f(t,o,n,s,i,r){const a=resolveComponent("skeleton-base"),l=resolveComponent("skeleton-line"),c=resolveComponent("skeleton-paragraph"),d=resolveComponent("empty"),u=resolveComponent("Adsense"),m=resolveComponent("client-only"),g=resolveComponent("list-item"),f=resolveComponent("placeholder"),$=resolveComponent("i18n");return openBlock(),createElementBlock("div",{class:normalizeClass(["articles",{dark:t.isDarkTheme}])},[createCommentVNode(" list "),createBaseVNode("div",_hoisted_1$16,[createVNode(f,{data:t.articles.length,loading:!t.articles.length&&t.fetching},{loading:withCtx(()=>[createBaseVNode("ul",_hoisted_2$W,[(openBlock(),createElementBlock(Fragment,null,renderList(6,E=>createBaseVNode("li",{key:E,class:"item"},[createBaseVNode("div",_hoisted_3$Q,[createVNode(a)]),createBaseVNode("div",_hoisted_4$K,[createBaseVNode("div",_hoisted_5$G,[createVNode(l)]),createBaseVNode("div",_hoisted_6$A,[createVNode(c,{lines:4})])])])),64))])]),placeholder:withCtx(()=>[createVNode(d,{class:"empty","i18n-key":t.LANGUAGE_KEYS.ARTICLE_PLACEHOLDER},null,8,["i18n-key"])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_7$y,[createCommentVNode(" list-mammon "),createVNode(m,null,{default:withCtx(()=>[t.mammon?(openBlock(),createElementBlock(Fragment,{key:0},[t.isDarkTheme?(openBlock(),createBlock(u,{key:0,"ins-class":"mammon-ins","data-ad-format":"fluid","data-ad-layout-key":"-hj-9+3a-97+6s","data-ad-slot":"1765379407",class:"article-list-mammon"})):(openBlock(),createBlock(u,{key:1,"ins-class":"mammon-ins","data-ad-format":"fluid","data-ad-layout-key":"-hj-9+3a-97+6s","data-ad-slot":"1148538406",class:"article-list-mammon"}))],2112)):createCommentVNode("v-if",!0)]),_:1}),createVNode(TransitionGroup,{name:"list-fade"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.articles,E=>(openBlock(),createBlock(g,{class:"list-item",key:E.id,article:E},null,8,["article"]))),128))]),_:1})])]),_:1},8,["data","loading"])]),createCommentVNode(" loadmore "),createBaseVNode("div",_hoisted_8$t,[createBaseVNode("button",{class:"loadmore-button",disabled:t.fetching||!t.isLoadMoreEnabled,onClick:o[0]||(o[0]=(...E)=>t.handleLoadmore&&t.handleLoadmore(...E))},[_hoisted_10$m,createBaseVNode("div",{class:normalizeClass(["text",{en:!t.isZhLang}])},[t.fetching?(openBlock(),createBlock($,{key:0,lkey:t.LANGUAGE_KEYS.ARTICLE_LIST_LOADING},null,8,["lkey"])):t.isLoadMoreEnabled?(openBlock(),createBlock($,{key:1,lkey:t.LANGUAGE_KEYS.ARTICLE_LIST_LOADMORE},null,8,["lkey"])):(openBlock(),createBlock($,{key:2,lkey:t.LANGUAGE_KEYS.ARTICLE_LIST_NO_MORE},null,8,["lkey"]))],2)],8,_hoisted_9$r)])],2)}var ArticleList=_export_sfc(_sfc_main$1f,[["render",_sfc_render$1f],["__scopeId","data-v-448fcee6"]]);const _sfc_main$1e=defineComponent({name:"IndexPage",components:{Carrousel,Announcement,ArticleList},setup(){const{meta:t}=useEnhancer(),o=useMetaStore(),n=useArticleListStore(),s=useAnnouncementStore();t(()=>{var r,a;return{title:`${META.title} - ${META.sub_title}`,description:(r=o.appOptions.data)==null?void 0:r.description,keywords:(a=o.appOptions.data)==null?void 0:a.keywords.join(",")}});const i=async()=>{var a;const r=((a=n.list.pagination)==null?void 0:a.current_page)+1;await n.fetchList({page:r}),r>1&&onClient(nextScreen)};return useUniversalFetch(()=>Promise.all([n.fetchList(),s.fetchList()])),{articleListStore:n,announcementStore:s,loadmoreArticles:i}}}),_hoisted_1$15={class:"index-page"};function _sfc_render$1e(t,o,n,s,i,r){const a=resolveComponent("carrousel"),l=resolveComponent("announcement"),c=resolveComponent("article-list");return openBlock(),createElementBlock("div",_hoisted_1$15,[createVNode(a,{articles:t.articleListStore.list.data,fetching:t.articleListStore.list.fetching},null,8,["articles","fetching"]),createVNode(l,{announcements:t.announcementStore.announcements,fetching:t.announcementStore.fetching||t.articleListStore.list.fetching},null,8,["announcements","fetching"]),createVNode(c,{mammon:!1,fetching:t.articleListStore.list.fetching,articles:t.articleListStore.list.data,pagination:t.articleListStore.list.pagination,onLoadmore:t.loadmoreArticles},null,8,["fetching","articles","pagination","onLoadmore"])])}var IndexFlowPage=_export_sfc(_sfc_main$1e,[["render",_sfc_render$1e]]);const useCategoryStore=defineStore("category",{state:()=>({fetched:!1,fetching:!1,categories:[]}),actions:{fetchAll(){return this.fetched?Promise.resolve():(this.fetching=!0,service$1.get("/category",{params:{per_page:50}}).then(t=>{this.categories=t.result.data,this.fetched=!0}).finally(()=>{this.fetching=!1}))}}});var header_vue_vue_type_style_index_0_scoped_true_lang$2="";const _sfc_main$1d=defineComponent({name:"FlowArticleListHeader",props:{backgroundColor:{type:String,default:""},backgroundImage:{type:String,default:""},icon:{type:String,required:!0}},setup(t){const o=computed(()=>t.backgroundImage||getTargetCDNURL("/images/thumbnail/carrousel.jpg"));return{LANGUAGE_KEYS,backgroundImageUrl:o}}}),_hoisted_1$14={class:"header"},_hoisted_2$V={class:"content"},_hoisted_3$P={class:"logo"},_hoisted_4$J={class:"title"},_hoisted_5$F={class:"text"};function _sfc_render$1d(t,o,n,s,i,r){return openBlock(),createElementBlock("div",_hoisted_1$14,[createBaseVNode("div",{class:"background",style:normalizeStyle({backgroundColor:t.backgroundColor,backgroundImage:`url(${t.backgroundImageUrl})`})},null,4),createBaseVNode("div",_hoisted_2$V,[createBaseVNode("div",_hoisted_3$P,[createVNode(Transition,{name:"module",mode:"out-in"},{default:withCtx(()=>[createBaseVNode("i",{key:"date",class:normalizeClass(["iconfont",t.icon])},null,2)]),_:1})]),createBaseVNode("div",_hoisted_4$J,[createVNode(Transition,{name:"module",mode:"out-in"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_5$F,[renderSlot(t.$slots,"default",{},void 0,!0)])]),_:3})])])])}var ArticleListHeader=_export_sfc(_sfc_main$1d,[["render",_sfc_render$1d],["__scopeId","data-v-5bb57b68"]]),category_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$1c=defineComponent({name:"CategoryPage",components:{ArticleListHeader,ArticleList},props:{categorySlug:{type:String,required:!0}},setup(t){const{i18n:o,meta:n,isZhLang:s}=useEnhancer(),i=useArticleListStore(),r=useCategoryStore(),a=computed(()=>r.categories.find(g=>g.slug===t.categorySlug)),l=computed(()=>{var g;return getExtendValue(((g=a.value)==null?void 0:g.extends)||[],"icon")||"icon-category"}),c=computed(()=>{var g;return getExtendValue(((g=a.value)==null?void 0:g.extends)||[],"background")}),d=computed(()=>{var g;return getExtendValue(((g=a.value)==null?void 0:g.extends)||[],"bgcolor")});n(()=>{var v;const g=firstUpperCase(t.categorySlug),f=o.t(t.categorySlug),$=s.value?[f,g]:[g,"Category"],E=((v=a.value)==null?void 0:v.description)||$.join(",");return{pageTitle:$.join(" | "),description:E}});const u=async()=>{await i.fetchList({category_slug:t.categorySlug,page:i.list.pagination.current_page+1}),onClient(nextScreen)},m=g=>(onClient(scrollToTop),Promise.all([r.fetchAll(),i.fetchList({category_slug:g})]));return onBeforeMount(()=>{watch(()=>t.categorySlug,g=>m(g),{flush:"post"})}),useUniversalFetch(()=>m(t.categorySlug)),{articleListStore:i,firstUpperCase,currentCategory:a,currentCategoryIcon:l,currentCategoryImage:c,currentCategoryColor:d,loadmoreArticles:u}}}),_withScopeId$D=t=>(pushScopeId("data-v-686a5c74"),t=t(),popScopeId(),t),_hoisted_1$13={class:"category-flow-page"},_hoisted_2$U=_withScopeId$D(()=>createBaseVNode("span",null,"Category",-1));function _sfc_render$1c(t,o,n,s,i,r){const a=resolveComponent("divider"),l=resolveComponent("i18n"),c=resolveComponent("article-list-header"),d=resolveComponent("article-list");return openBlock(),createElementBlock("div",_hoisted_1$13,[createVNode(c,{"background-color":t.currentCategoryColor,"background-image":t.currentCategoryImage,icon:t.currentCategoryIcon},{default:withCtx(()=>[t.currentCategory?(openBlock(),createBlock(l,{key:0},{zh:withCtx(()=>[createBaseVNode("span",null,toDisplayString(t.currentCategory.name),1),createVNode(a,{class:"divider",type:"vertical"}),createBaseVNode("span",null,toDisplayString(t.currentCategory.description||"..."),1)]),en:withCtx(()=>[_hoisted_2$U,createVNode(a,{class:"divider",type:"vertical"}),createBaseVNode("span",null,toDisplayString(t.firstUpperCase(t.currentCategory.slug)),1)]),_:1})):createCommentVNode("v-if",!0)]),_:1},8,["background-color","background-image","icon"]),createVNode(d,{fetching:t.articleListStore.list.fetching,articles:t.articleListStore.list.data,pagination:t.articleListStore.list.pagination,onLoadmore:t.loadmoreArticles},null,8,["fetching","articles","pagination","onLoadmore"])])}var CategoryFlowPage=_export_sfc(_sfc_main$1c,[["render",_sfc_render$1c],["__scopeId","data-v-686a5c74"]]);const tagEnName=t=>/.*[\u4e00-\u9fa5]+.*$/.test(t.name)?t.slug.includes("-")?t.slug:firstUpperCase(t.slug):t.name,useTagStore=defineStore("tag",{state:()=>({fetched:!1,fetching:!1,tags:[]}),getters:{sorted:t=>{const o=[...t.tags];return o.sort((n,s)=>s.count-n.count),o},fullNameTags:t=>{const o=t.tags,n=new Map;return o.forEach(s=>{n.set(s.name,s),n.set(s.name.toLowerCase(),s),n.set(s.name.toUpperCase(),s),n.set(firstUpperCase(s.name),s)}),n}},actions:{fetchAll(){return this.fetched?Promise.resolve():(this.fetching=!0,service$1.get("/tag",{params:{cache:1}}).then(t=>{this.tags=t.result.data,this.fetched=!0}).finally(()=>{this.fetching=!1}))}}});var tag_vue_vue_type_style_index_0_scoped_true_lang$1="";const _sfc_main$1b=defineComponent({name:"TagPage",components:{ArticleListHeader,ArticleList},props:{tagSlug:{type:String,required:!0}},setup(t){const{meta:o,isZhLang:n}=useEnhancer(),s=useTagStore(),i=useArticleListStore(),r=computed(()=>s.tags.find(m=>m.slug===t.tagSlug)),a=computed(()=>{var m;return getExtendValue(((m=r.value)==null?void 0:m.extends)||[],"icon")||"icon-tag"}),l=computed(()=>{var m;return getExtendValue(((m=r.value)==null?void 0:m.extends)||[],"background")}),c=computed(()=>{var m;return getExtendValue(((m=r.value)==null?void 0:m.extends)||[],"bgcolor")});o(()=>{var E,v;const m=firstUpperCase(t.tagSlug),g=(E=r.value)==null?void 0:E.name,f=n.value?[g,m]:[m,"Tag"],$=((v=r.value)==null?void 0:v.description)||f.join(",");return{pageTitle:f.join(" | "),description:$}});const d=async()=>{await i.fetchList({tag_slug:t.tagSlug,page:i.list.pagination.current_page+1}),onClient(nextScreen)},u=m=>(onClient(scrollToTop),Promise.all([s.fetchAll(),i.fetchList({tag_slug:m})]));return onBeforeMount(()=>{watch(()=>t.tagSlug,m=>u(m),{flush:"post"})}),useUniversalFetch(()=>u(t.tagSlug)),{articleListStore:i,tagEnName,currentTag:r,currentTagIcon:a,currentTagImage:l,currentTagColor:c,loadmoreArticles:d}}}),_withScopeId$C=t=>(pushScopeId("data-v-79e805c9"),t=t(),popScopeId(),t),_hoisted_1$12={class:"tag-flow-page"},_hoisted_2$T={key:0,class:"header"},_hoisted_3$O=_withScopeId$C(()=>createBaseVNode("span",null,"Tag",-1));function _sfc_render$1b(t,o,n,s,i,r){const a=resolveComponent("divider"),l=resolveComponent("i18n"),c=resolveComponent("article-list-header"),d=resolveComponent("article-list");return openBlock(),createElementBlock("div",_hoisted_1$12,[createVNode(c,{"background-color":t.currentTagColor,"background-image":t.currentTagImage,icon:t.currentTagIcon},{default:withCtx(()=>[t.currentTag?(openBlock(),createElementBlock("span",_hoisted_2$T,[createVNode(l,null,{zh:withCtx(()=>[createBaseVNode("span",null,"#"+toDisplayString(t.currentTag.name),1),createVNode(a,{class:"divider",type:"vertical"}),createBaseVNode("span",null,toDisplayString(t.currentTag.description||"..."),1)]),en:withCtx(()=>[_hoisted_3$O,createVNode(a,{class:"divider",type:"vertical"}),createBaseVNode("span",null,"#"+toDisplayString(t.tagEnName(t.currentTag)),1)]),_:1})])):createCommentVNode("v-if",!0)]),_:1},8,["background-color","background-image","icon"]),createVNode(d,{fetching:t.articleListStore.list.fetching,articles:t.articleListStore.list.data,pagination:t.articleListStore.list.pagination,onLoadmore:t.loadmoreArticles},null,8,["fetching","articles","pagination","onLoadmore"])])}var TagFlowPage=_export_sfc(_sfc_main$1b,[["render",_sfc_render$1b],["__scopeId","data-v-79e805c9"]]);const _sfc_main$1a=defineComponent({name:"DatePage",components:{ArticleListHeader,ArticleList},props:{date:{type:String,required:!0}},setup(t){const{meta:o}=useEnhancer(),n=useArticleListStore();o(()=>({pageTitle:`${t.date} | Date`}));const s=r=>(onClient(scrollToTop),n.fetchList(r)),i=()=>s({date:t.date,page:n.list.pagination.current_page+1}).then(nextScreen);return onBeforeMount(()=>{watch(()=>t.date,r=>s({date:r}),{flush:"post"})}),useUniversalFetch(()=>s({date:t.date})),{articleListStore:n,loadmoreArticles:i}}}),_hoisted_1$11={class:"date-flow-page"};function _sfc_render$1a(t,o,n,s,i,r){const a=resolveComponent("i18n"),l=resolveComponent("article-list-header"),c=resolveComponent("article-list");return openBlock(),createElementBlock("div",_hoisted_1$11,[createVNode(l,{icon:"icon-clock"},{default:withCtx(()=>[createVNode(a,{zh:`\u53D1\u5E03\u4E8E ${t.date} \u7684\u6240\u6709\u6587\u7AE0`,en:`Articles published at ${t.date}`},null,8,["zh","en"])]),_:1}),createVNode(c,{fetching:t.articleListStore.list.fetching,articles:t.articleListStore.list.data,pagination:t.articleListStore.list.pagination,onLoadmore:t.loadmoreArticles},null,8,["fetching","articles","pagination","onLoadmore"])])}var DateFlowPage=_export_sfc(_sfc_main$1a,[["render",_sfc_render$1a]]);const _sfc_main$19=defineComponent({name:"SearchPage",components:{ArticleListHeader,ArticleList},props:{keyword:{type:String,required:!0}},setup(t){const{meta:o}=useEnhancer(),n=useArticleListStore();o(()=>({pageTitle:`${t.keyword} | Search`}));const s=r=>(onClient(scrollToTop),n.fetchList(r)),i=async()=>{await s({keyword:t.keyword,page:n.list.pagination.current_page+1}),onClient(nextScreen)};return onBeforeMount(()=>{watch(()=>t.keyword,r=>s({keyword:r}),{flush:"post"})}),useUniversalFetch(()=>s({keyword:t.keyword})),{articleListStore:n,loadmoreArticles:i}}}),_hoisted_1$10={class:"search-flow-page"};function _sfc_render$19(t,o,n,s,i,r){const a=resolveComponent("i18n"),l=resolveComponent("article-list-header"),c=resolveComponent("article-list");return openBlock(),createElementBlock("div",_hoisted_1$10,[createVNode(l,{icon:"icon-search"},{default:withCtx(()=>[createVNode(a,{zh:`\u548C \u201C${t.keyword}\u201D \u6709\u5173\u7684\u6240\u6709\u6587\u7AE0`,en:`Keyword "${t.keyword}"'s result`},null,8,["zh","en"])]),_:1}),createVNode(c,{fetching:t.articleListStore.list.fetching,articles:t.articleListStore.list.data,pagination:t.articleListStore.list.pagination,onLoadmore:t.loadmoreArticles},null,8,["fetching","articles","pagination","onLoadmore"])])}var SearchFlowPage=_export_sfc(_sfc_main$19,[["render",_sfc_render$19]]);const COMMENT_API_PATH="/comment",COMMENT_EMPTY_PID=CommentParentType.Self,useCommentStore=defineStore("comment",{state:()=>({fetching:!1,posting:!1,deleting:!1,comments:[],pagination:null}),getters:{commentTreeList:t=>{const o=t.comments.map(l=>l.id),n=t.comments.filter(l=>l.pid===COMMENT_EMPTY_PID||!o.includes(l.pid)),s=t.comments.filter(l=>l.pid!==COMMENT_EMPTY_PID&&o.includes(l.pid)),i=new Map(t.comments.map(l=>[l.id,l])),r=new Map(n.map(l=>[l.id,{comment:l,children:[]}])),a=l=>{const c=i.get(l);return c?c.pid===COMMENT_EMPTY_PID?c.id:a(c.pid):UNDEFINED};return s.forEach(l=>{const c=a(l.pid);if(c&&r.has(c)){const d=r.get(c);r.set(c,S(y({},d),{children:[l,...d.children]}))}}),Array.from(r.values())}},actions:{clearList(){this.comments=[],this.pagination=null},fetchList(t={}){t=y({page:1,per_page:50,sort:SortType.Desc,loadmore:!1},t),t.page===1&&this.clearList(),this.fetching=!0;const o=service$1.get(COMMENT_API_PATH,{params:t});return delayPromise(480,o).then(s=>{this.pagination=s.result.pagination,t.loadmore?this.comments.push(...s.result.data):this.comments=s.result.data}).finally(()=>{this.fetching=!1})},postComment(t){return this.posting=!0,service$1.post("/disqus/comment",t).then(o=>(this.comments.unshift(o.result),this.pagination&&this.pagination.total++,o.result)).finally(()=>{this.posting=!1})},deleteComment(t){return this.deleting=!0,service$1.delete("/disqus/comment",{data:{comment_id:t}}).then(()=>{const o=this.comments.findIndex(n=>n.id===t);o>-1&&(this.comments.splice(o,1),this.pagination.total--)}).finally(()=>{this.deleting=!1})},postCommentVote(t,o){const n=useUniversalStore();return service$1.post("/vote/comment",{comment_id:t,vote:o,author:n.author}).then(()=>{const s=this.comments.find(i=>i.id===t);s&&(o>0?s.likes++:s.dislikes++)})}}});var GAEventCategories;(function(t){t.Comment="comment",t.Share="share",t.Widget="widget",t.Universal="global",t.Article="page_article",t.App="page_app",t.About="page_about",t.Lens="page_lens"})(GAEventCategories||(GAEventCategories={}));async function renderTextToQRCodeDataURL(t,o){return await browser.toDataURL(t,y({scale:6},o))}const baseParams={scrollbars:0,status:0,menubar:0,resizable:2,location:0},paramsToString=(t={})=>Object.keys(t).map(o=>`${o}=${t[o]}`).join(","),openWindow=(t,o={})=>{const{name:n="",closeInterval:s=268,onClose:i,params:r={}}=o,a=Math.round(screen.availWidth/6*2),l=Math.round(screen.availHeight/5*2),c=Math.round((screen.availHeight-l)/2),d=Math.round((screen.availWidth-a)/2),u={width:a,height:l,top:c,left:d},m=paramsToString(y(y(y({},baseParams),u),r)),g=window.open(t,n,m);if(g){if(i){let f=setInterval(()=>{g.closed&&(clearInterval(f),i())},s)}return g==null||g.focus(),g}},enableCopyrighter=()=>{window.__isEnabledCopyrighter=!0},disableCopyrighter=()=>{window.__isEnabledCopyrighter=!1},initCopyrighter=()=>{enableCopyrighter();const t=()=>["","\u8457\u4F5C\u6743\u5F52\u4F5C\u8005\u6240\u6709\u3002","\u5546\u4E1A\u8F6C\u8F7D\u8BF7\u8054\u7CFB\u4F5C\u8005\u83B7\u5F97\u6388\u6743\uFF0C\u975E\u5546\u4E1A\u8F6C\u8F7D\u8BF7\u6CE8\u660E\u51FA\u5904\u3002",`\u4F5C\u8005\uFF1A${META.author}`,"\u94FE\u63A5\uFF1A"+location.href,`\u6765\u6E90\uFF1A${META.title}`,""].join(`
`),o=s=>s+t(),n=s=>s+t();document.addEventListener("copy",s=>{var i,r,a;if(!!window.getSelection&&window.__isEnabledCopyrighter){const l=(i=window.getSelection())==null?void 0:i.toString();(r=s.clipboardData)==null||r.setData("text/plain",o(l)),(a=s.clipboardData)==null||a.setData("text/html",n(l)),s.preventDefault()}})},copy=t=>{var o;return disableCopyrighter(),(o=window.navigator.clipboard)==null?void 0:o.writeText(t).finally(()=>{enableCopyrighter()})};var share_vue_vue_type_style_index_0_scoped_true_lang$1="",SocialMedia;(function(t){t.Wechat="wechat",t.Weibo="weibo",t.Twitter="twitter",t.douban="douban",t.Evernote="evernote",t.Facebook="facebook",t.LinkedIn="linkedin"})(SocialMedia||(SocialMedia={}));const socials=[{id:SocialMedia.Wechat,name:"\u5FAE\u4FE1",class:"wechat",handler:async t=>{const o=await renderTextToQRCodeDataURL(t.url);window.$popup.vImage(o)}},{id:SocialMedia.Weibo,name:"\u5FAE\u535A",class:"weibo",url:t=>"https://service.weibo.com/share/share.php?"+lib.stringify({url:t.url,source:t.url,sourceUrl:t.url,title:t.title,content:t.description})},{id:SocialMedia.Twitter,name:"Twitter",class:"twitter",url:t=>"https://twitter.com/share?"+lib.stringify({url:t.url,text:t.title})},{id:SocialMedia.Facebook,name:"Facebook",class:"facebook",url:t=>"https://www.facebook.com/sharer/sharer.php?"+lib.stringify({u:encodeURI(t.url)})},{id:SocialMedia.LinkedIn,name:"LinkedIn",class:"linkedin",url:t=>"https://www.linkedin.com/sharing/share-offsite/?"+lib.stringify({url:t.url})},{id:SocialMedia.douban,name:"\u8C46\u74E3",class:"douban",url:t=>"https://www.douban.com/recommend/?"+lib.stringify({url:t.url,title:t.title,v:1})},{id:SocialMedia.Evernote,name:"\u5370\u8C61\u7B14\u8BB0",class:"evernote",url:t=>"https://www.evernote.com/clip.action?"+lib.stringify({url:t.url,title:t.title})}],_sfc_main$18=defineComponent({name:"Share",props:{socials:{type:Array,required:!1}},setup(t){const{route:o,gtag:n}=useEnhancer(),s=computed(()=>{var d;return((d=t.socials)==null?void 0:d.length)?socials.filter(u=>{var m;return(m=t.socials)==null?void 0:m.includes(u.id)}):socials}),i=()=>getPageURL(o.fullPath),r=()=>document.title||META.title,a=()=>{var d,u;return((u=(d=document.getElementsByName("description"))==null?void 0:d[0])==null?void 0:u.getAttribute("content"))||META.sub_title};return{enabledSocials:s,copyPageURL:()=>{const d=`${r()} - ${i()}`;copy(d),n==null||n.event("share_copy_url",{event_category:GAEventCategories.Share,event_label:d})},handleShare:d=>{n==null||n.event("share_social",{event_category:GAEventCategories.Share,event_label:d.id});const u={url:i(),title:r(),description:a()};d.handler?d.handler(u):openWindow(d.url(u),{name:`Share: ${META.title}`})}}}}),_withScopeId$B=t=>(pushScopeId("data-v-79c893cc"),t=t(),popScopeId(),t),_hoisted_1$$={class:"share"},_hoisted_2$S=["title","onClick"],_hoisted_3$N=_withScopeId$B(()=>createBaseVNode("i",{class:"iconfont icon-link"},null,-1)),_hoisted_4$I=[_hoisted_3$N];function _sfc_render$18(t,o,n,s,i,r){return openBlock(),createElementBlock("div",_hoisted_1$$,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.enabledSocials,(a,l)=>(openBlock(),createElementBlock("button",{class:normalizeClass(["share-ejector",a.class]),key:l,title:"Share to: "+a.name,onClick:c=>t.handleShare(a)},[createBaseVNode("i",{class:normalizeClass(["iconfont",`icon-${a.class}`])},null,2)],10,_hoisted_2$S))),128)),createBaseVNode("button",{class:"share-ejector link",onClick:o[0]||(o[0]=(...a)=>t.copyPageURL&&t.copyPageURL(...a))},_hoisted_4$I)])}var Share=_export_sfc(_sfc_main$18,[["render",_sfc_render$18],["__scopeId","data-v-79c893cc"]]);const email=/\w[-\w.+]*@([A-Za-z0-9][-A-Za-z0-9]+\.)+[A-Za-z]{2,14}/,url=/^((https|http):\/\/)+[A-Za-z0-9]+\.[A-Za-z0-9]+[\/=\?%\-&_~`@[\]\':+!]*([^<>\"\"])*$/,EMOJIS=["\u{1F603}","\u{1F602}","\u{1F605}","\u{1F609}","\u{1F60C}","\u{1F614}","\u{1F613}","\u{1F622}","\u{1F60D}","\u{1F618}","\u{1F61C}","\u{1F621}","\u{1F624}","\u{1F62D}","\u{1F631}","\u{1F633}","\u{1F635}","\u{1F31A}","\u{1F64F}","\u{1F446}","\u{1F447}","\u{1F44C}","\u{1F918}","\u{1F44D}","\u{1F44E}","\u{1F4AA}","\u{1F44F}","\u{1F33B}","\u{1F339}","\u{1F48A}","\u{1F436}","\u2764\uFE0F\u200D\u{1F525}","\u{1F494}","\u{1F4A9}","\u{1F47B}","\u{1F6A9}"];var CommentEvents;(function(t){t.Sort="sort",t.Page="page",t.Vote="vote",t.Blossom="blossom",t.Delete="delete",t.Reply="reply",t.CancelReply="cancelReply",t.Submit="submit"})(CommentEvents||(CommentEvents={}));const getDisqusUserURL=t=>`https://disqus.com/by/${t}/`,HAHA_KEYWORDS=["2333","haha","\u54C8\u54C8"],SIX_KEYWORDS=["666","\u8D5E","\u68D2","\u4F18\u79C0"],HEHE_KEYWORDS=["\u5475\u5475"],luanchEmojiRain=t=>{const o=window.$luanchEmojiRain;HAHA_KEYWORDS.find(n=>t.includes(n))?o({speed:12,staggered:!0,increaseSpeed:.4,emoji:getTargetCDNURL("/images/emojis/haha.png")}):SIX_KEYWORDS.find(n=>t.includes(n))?o({speed:12,staggered:!0,increaseSpeed:.4,emoji:getTargetCDNURL("/images/emojis/666.png")}):HEHE_KEYWORDS.find(n=>t.includes(n))?o({staggered:!1,speed:8,increaseSpeed:.04,emoji:getTargetCDNURL("/images/emojis/hehe.png")}):Math.random()<=.5&&o({scale:.6,staggered:!0,speed:8,increaseSpeed:.04,emoji:getTargetCDNURL("/images/emojis/doge.png")})};var topbar_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$17=defineComponent({name:"CommentTopbar",props:{postId:{type:Number,required:!0},sort:{type:Number,required:!0},total:{type:Number,default:0,required:!1},loaded:{type:Number,default:0,required:!1},fetching:{type:Boolean,required:!0},loading:{type:Boolean,required:!0},plain:{type:Boolean,default:!1}},emits:[CommentEvents.Sort],setup(t,o){const{gtag:n}=useEnhancer(),s=useUniversalStore(),i=computed(()=>s.user),r=computed(()=>t.loading?"\xB7\xB7\xB7":`${t.loaded} / ${t.total}`),a=ref();return{user:i,statisticsText:r,VALUABLE_LINKS,LANGUAGE_KEYS,UserType,SortType,handleSort:g=>{n==null||n.event("sort_switch",{event_category:GAEventCategories.Comment});const f=Number(g==null?void 0:g.value);f!==t.sort&&o.emit(CommentEvents.Sort,f)},handleDisqusLogin:()=>{n==null||n.event("disqus_login",{event_category:GAEventCategories.Comment,event_label:`id: ${t.postId}`}),openWindow(s.disqusConfig.authorize_url,{name:`Disqus Auth ${META.title}`,onClose:()=>{s.fetchDisqusUserInfo(),console.info("[disqus]","logined",s.user)}})},handleDisqusLogout:()=>{n==null||n.event("disqus_logout",{event_category:GAEventCategories.Comment,event_label:`id: ${t.postId}`}),console.log("[disqus]","logout"),s.fetchDisqusLogout()},handleDisqusThread:async()=>{if(n==null||n.event("disqus_thread_page",{event_category:GAEventCategories.Comment,event_label:`id: ${t.postId}`}),!a.value){const g=await service$1.get("/disqus/thread",{params:{post_id:t.postId}});a.value=g.result}window.open(`https://disqus.com/home/discussion/${s.disqusConfig.forum}/${a.value.slug}/`)},handleClearLocalProfile:()=>{s.removeLocalUser()}}}}),_withScopeId$A=t=>(pushScopeId("data-v-49ef053c"),t=t(),popScopeId(),t),_hoisted_1$_={class:"topbar-skeleton",key:"skeleton"},_hoisted_2$R={class:"left"},_hoisted_3$M={class:"right"},_hoisted_4$H={class:"statistics"},_hoisted_5$E=_withScopeId$A(()=>createBaseVNode("i",{class:"iconfont icon-discussion"},null,-1)),_hoisted_6$z=createTextVNode(" \u5171 "),_hoisted_7$x={class:"count"},_hoisted_8$s=createTextVNode(" \u6761\u770B\u6CD5 "),_hoisted_9$q={class:"count"},_hoisted_10$l=createTextVNode(" comments "),_hoisted_11$j=["value"],_hoisted_12$h=["value"],_hoisted_13$h=["value"],_hoisted_14$g=["value"],_hoisted_15$g=_withScopeId$A(()=>createBaseVNode("i",{class:"iconfont icon-disqus-logo"},null,-1)),_hoisted_16$e=[_hoisted_15$g],_hoisted_17$d={class:"user"},_hoisted_18$d={key:0,class:"unlogin"},_hoisted_19$a={class:"guest"},_hoisted_20$9=createTextVNode("\u4F7F\u7528"),_hoisted_21$8=_withScopeId$A(()=>createBaseVNode("i",{class:"iconfont icon-disqus"},null,-1)),_hoisted_22$7=createTextVNode("\u767B\u5F55"),_hoisted_23$6=createTextVNode("Login by"),_hoisted_24$4=_withScopeId$A(()=>createBaseVNode("i",{class:"iconfont icon-disqus right"},null,-1)),_hoisted_25$4={key:1,class:"logined"},_hoisted_26$4={class:"name"},_hoisted_27$4=_withScopeId$A(()=>createBaseVNode("i",{class:"icon guest iconfont icon-anonymous"},null,-1)),_hoisted_28$4={class:"text"},_hoisted_29$4=_withScopeId$A(()=>createBaseVNode("i",{class:"arrow iconfont icon-down-arrow"},null,-1)),_hoisted_30$4={class:"user-menu"},_hoisted_31$3={class:"menus"},_hoisted_32$2={class:"item"},_hoisted_33$2=createTextVNode("\u6362\u4E3A"),_hoisted_34$2=_withScopeId$A(()=>createBaseVNode("i",{class:"iconfont icon-disqus disqus"},null,-1)),_hoisted_35$2=createTextVNode("\u767B\u5F55"),_hoisted_36$2=createTextVNode("Login by "),_hoisted_37$2=_withScopeId$A(()=>createBaseVNode("i",{class:"iconfont icon-disqus disqus"},null,-1)),_hoisted_38$2={class:"item"},_hoisted_39$2={class:"name"},_hoisted_40$1=_withScopeId$A(()=>createBaseVNode("i",{class:"icon disqus iconfont icon-disqus-logo"},null,-1)),_hoisted_41$1={class:"text"},_hoisted_42$1=_withScopeId$A(()=>createBaseVNode("i",{class:"arrow iconfont icon-down-arrow"},null,-1)),_hoisted_43$1={class:"user-menu"},_hoisted_44$1={class:"menus"},_hoisted_45$1={class:"item"},_hoisted_46$1={class:"item"};function _sfc_render$17(t,o,n,s,i,r){const a=resolveComponent("skeleton-line"),l=resolveComponent("i18n"),c=resolveComponent("divider"),d=resolveComponent("ulink"),u=resolveComponent("placeholder");return openBlock(),createBlock(u,{loading:t.fetching},{loading:withCtx(()=>[createBaseVNode("div",_hoisted_1$_,[createBaseVNode("div",_hoisted_2$R,[createVNode(a,{class:"skeleton-item count"}),createVNode(a,{class:"skeleton-item sort"})]),createBaseVNode("div",_hoisted_3$M,[createVNode(a,{class:"skeleton-item user"})])])]),default:withCtx(()=>{var m,g;return[createBaseVNode("div",{class:normalizeClass(["topbar",{plain:t.plain}]),key:"element"},[createBaseVNode("div",_hoisted_4$H,[createBaseVNode("div",{class:normalizeClass(["total",{loading:t.loading}])},[_hoisted_5$E,createVNode(l,null,{zh:withCtx(()=>[_hoisted_6$z,createBaseVNode("span",_hoisted_7$x,toDisplayString(t.statisticsText),1),_hoisted_8$s]),en:withCtx(()=>[createBaseVNode("span",_hoisted_9$q,toDisplayString(t.statisticsText),1),_hoisted_10$l]),_:1})],2),createBaseVNode("select",{class:"sort",name:"sort",value:t.sort,onChange:o[0]||(o[0]=f=>t.handleSort(f.target))},[createBaseVNode("option",{value:t.SortType.Desc},[createVNode(l,{lkey:t.LANGUAGE_KEYS.COMMENT_SORT_NEW},null,8,["lkey"])],8,_hoisted_12$h),createBaseVNode("option",{value:t.SortType.Hot},[createVNode(l,{lkey:t.LANGUAGE_KEYS.COMMENT_SORT_HOT},null,8,["lkey"])],8,_hoisted_13$h),createBaseVNode("option",{value:t.SortType.Asc},[createVNode(l,{lkey:t.LANGUAGE_KEYS.COMMENT_SORT_OLD},null,8,["lkey"])],8,_hoisted_14$g)],40,_hoisted_11$j),createBaseVNode("button",{class:"disqus",onClick:o[1]||(o[1]=(...f)=>t.handleDisqusThread&&t.handleDisqusThread(...f))},_hoisted_16$e)]),createBaseVNode("div",_hoisted_17$d,[t.user.type===t.UserType.Null?(openBlock(),createElementBlock("div",_hoisted_18$d,[createBaseVNode("span",_hoisted_19$a,[createVNode(l,{zh:"\u8BBF\u5BA2\u8EAB\u4EFD",en:"Guest"})]),createVNode(c,{type:"vertical",size:"sm"}),createBaseVNode("button",{class:"disqus",onClick:o[2]||(o[2]=(...f)=>t.handleDisqusLogin&&t.handleDisqusLogin(...f))},[createVNode(l,null,{zh:withCtx(()=>[_hoisted_20$9,_hoisted_21$8,_hoisted_22$7]),en:withCtx(()=>[_hoisted_23$6,_hoisted_24$4]),_:1})])])):(openBlock(),createElementBlock("div",_hoisted_25$4,[t.user.type===t.UserType.Local?(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("div",_hoisted_26$4,[_hoisted_27$4,createBaseVNode("span",_hoisted_28$4,toDisplayString(((m=t.user.localProfile)==null?void 0:m.name)||""),1),_hoisted_29$4]),createBaseVNode("div",_hoisted_30$4,[createBaseVNode("ul",_hoisted_31$3,[createBaseVNode("li",_hoisted_32$2,[createBaseVNode("button",{class:"button",onClick:o[3]||(o[3]=(...f)=>t.handleDisqusLogin&&t.handleDisqusLogin(...f))},[createVNode(l,null,{zh:withCtx(()=>[_hoisted_33$2,_hoisted_34$2,_hoisted_35$2]),en:withCtx(()=>[_hoisted_36$2,_hoisted_37$2]),_:1})])]),createBaseVNode("li",_hoisted_38$2,[createBaseVNode("button",{class:"button",onClick:o[4]||(o[4]=(...f)=>t.handleClearLocalProfile&&t.handleClearLocalProfile(...f))},[createVNode(l,{zh:"\u9000\u51FA\u672C\u5730\u8BBF\u5BA2\u8EAB\u4EFD",en:"Clean local profile"})])])])])],64)):t.user.type===t.UserType.Disqus?(openBlock(),createElementBlock(Fragment,{key:1},[createBaseVNode("div",_hoisted_39$2,[_hoisted_40$1,createBaseVNode("span",_hoisted_41$1,toDisplayString(((g=t.user.disqusProfile)==null?void 0:g.name)||""),1),_hoisted_42$1]),createBaseVNode("div",_hoisted_43$1,[createBaseVNode("ul",_hoisted_44$1,[createBaseVNode("li",_hoisted_45$1,[createVNode(d,{class:"button",href:t.user.disqusProfile.profileUrl},{default:withCtx(()=>[createVNode(l,{zh:"\u8BBF\u95EE Disqus \u4E3B\u9875",en:"Disqus profile"})]),_:1},8,["href"])]),createBaseVNode("li",_hoisted_46$1,[createBaseVNode("button",{class:"button",onClick:o[5]||(o[5]=(...f)=>t.handleDisqusLogout&&t.handleDisqusLogout(...f))},[createVNode(l,{zh:"\u6CE8\u9500\u6388\u6743\u8EAB\u4EFD",en:"Disqus logout"})])])])])],64)):createCommentVNode("v-if",!0)]))])],2)]}),_:1},8,["loading"])}var CommentTopbar=_export_sfc(_sfc_main$17,[["render",_sfc_render$17],["__scopeId","data-v-49ef053c"]]),main_vue_vue_type_style_index_0_scoped_true_lang$3="";const _sfc_main$16=defineComponent({name:"CommentMain",props:{fetching:{type:Boolean,default:!1},hasData:{type:Boolean,required:!0},skeletonCount:{type:Number,default:6}},setup(){return{LANGUAGE_KEYS}}}),_hoisted_1$Z={class:"main-skeleton"},_hoisted_2$Q={class:"avatar"},_hoisted_3$L={class:"content"},_hoisted_4$G={class:"list-empty"},_hoisted_5$D={class:"main"};function _sfc_render$16(t,o,n,s,i,r){const a=resolveComponent("skeleton-base"),l=resolveComponent("skeleton-paragraph"),c=resolveComponent("i18n"),d=resolveComponent("placeholder");return openBlock(),createBlock(d,{loading:t.fetching,data:t.hasData},{loading:withCtx(()=>[createBaseVNode("ul",_hoisted_1$Z,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.skeletonCount,u=>(openBlock(),createElementBlock("li",{key:u,class:"item"},[createBaseVNode("div",_hoisted_2$Q,[createVNode(a)]),createBaseVNode("div",_hoisted_3$L,[createVNode(l,{lines:4})])]))),128))])]),placeholder:withCtx(()=>[createBaseVNode("div",_hoisted_4$G,[createVNode(c,{lkey:t.LANGUAGE_KEYS.COMMENT_LIST_EMPTY},null,8,["lkey"])])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_5$D,[renderSlot(t.$slots,"list",{},void 0,!0),renderSlot(t.$slots,"pagination",{},void 0,!0)])]),_:3},8,["loading","data"])}var CommentMain=_export_sfc(_sfc_main$16,[["render",_sfc_render$16],["__scopeId","data-v-1fe0ad89"]]);const getDefaultAvatar=()=>getTargetCDNURL("/images/gravatar.png"),getGravatarByHash=t=>t?isDev?`https://www.gravatar.com/avatar/${t}`:`${API_CONFIG.STATIC}/avatar/${t}`:getDefaultAvatar(),getDisqusAvatarByUsername=t=>{const o=`https://disqus.com/api/users/avatars/${t}.jpg`;return isSPA?o:getTargetProxyURL(o,ProxyModule.Disqus)};var location_vue_vue_type_style_index_0_scoped_true_lang="";const municipalitys=["Shanghai","Beijing","Tianjin","Chongqing","Chungking"],_sfc_main$15=defineComponent({name:"CommentItemLocation",props:{location:{type:Object,required:!0},emoji:{type:Boolean,default:!1}},setup(t){const o=computed(()=>t.location.country_code||t.location.country),n=computed(()=>{var i;return(i=countryFlagEmoji.get(t.location.country_code))==null?void 0:i.emoji}),s=computed(()=>t.location.country_code==="CN"&&municipalitys.includes(t.location.region)?t.location.region:t.location.city);return{emojiText:n,countryText:o,cityText:s}}}),_withScopeId$z=t=>(pushScopeId("data-v-4e2cbe9d"),t=t(),popScopeId(),t),_hoisted_1$Y={class:"location"},_hoisted_2$P={key:0,class:"emoji"},_hoisted_3$K=_withScopeId$z(()=>createBaseVNode("i",{class:"iconfont icon-earth"},null,-1)),_hoisted_4$F=_withScopeId$z(()=>createBaseVNode("span",{class:"separator"},"\u2022",-1)),_hoisted_5$C={class:"city"};function _sfc_render$15(t,o,n,s,i,r){return openBlock(),createElementBlock("span",_hoisted_1$Y,[t.emoji&&t.emojiText?(openBlock(),createElementBlock("span",_hoisted_2$P,toDisplayString(t.emojiText),1)):(openBlock(),createElementBlock(Fragment,{key:1},[_hoisted_3$K,createBaseVNode("span",null,toDisplayString(t.countryText),1),_hoisted_4$F],64)),createBaseVNode("span",_hoisted_5$C,toDisplayString(t.cityText),1)])}var CommentLocation=_export_sfc(_sfc_main$15,[["render",_sfc_render$15],["__scopeId","data-v-4e2cbe9d"]]);const _sfc_main$14=defineComponent({name:"CommentItemLink",props:{href:String}}),_hoisted_1$X=["href"];function _sfc_render$14(t,o,n,s,i,r){return t.href?(openBlock(),createElementBlock("a",mergeProps({key:0,target:"_blank",rel:"external nofollow noopener",href:t.href},t.$attrs),[renderSlot(t.$slots,"default")],16,_hoisted_1$X)):(openBlock(),createElementBlock("span",normalizeProps(mergeProps({key:1},t.$attrs)),[renderSlot(t.$slots,"default")],16))}var CommentLink=_export_sfc(_sfc_main$14,[["render",_sfc_render$14]]),ua_vue_vue_type_style_index_0_scoped_true_lang="";const osIconsNameMap={"Mac OS":"apple",Windows:"windows",Android:"android",Ubuntu:"ubuntu",Linux:"linux",iOS:"apple",Unix:"unix"},browersIconsNameMap={Chrome:"chrome",Chromium:"chrome",WeChat:"wechat",QQ:"qq",Safari:"safari","Mobile Safari":"safari",UCBrowser:"uc",Maxthon:"maxthon",Firefox:"firefox",IE:"ie",Opera:"opera",Edge:"edge"},_sfc_main$13=defineComponent({name:"CommentItemUA",props:{ua:{type:String,required:!0}},setup(t){const o=computed(()=>uaParser(t.ua)),n=computed(()=>{const i=o.value.result.os.name;return i&&osIconsNameMap[i]}),s=computed(()=>{const i=o.value.result.browser.name;return browersIconsNameMap[i||"internet"]});return{uaResult:o,osIconName:n,browserIconName:s}}}),_hoisted_1$W={class:"ua"},_hoisted_2$O={class:"os"},_hoisted_3$J={class:"browser"};function _sfc_render$13(t,o,n,s,i,r){return openBlock(),createElementBlock("span",_hoisted_1$W,[createBaseVNode("span",_hoisted_2$O,[t.osIconName?(openBlock(),createElementBlock("i",{key:0,class:normalizeClass(["iconfont",`icon-${t.osIconName}`])},null,2)):createCommentVNode("v-if",!0),createBaseVNode("span",null,toDisplayString(t.uaResult.result.os.name),1),createCommentVNode(" <span>{{ uaResult.result.os.version }}</span> ")]),createBaseVNode("span",_hoisted_3$J,[t.browserIconName?(openBlock(),createElementBlock("i",{key:0,class:normalizeClass(["iconfont",`icon-${t.browserIconName}`])},null,2)):createCommentVNode("v-if",!0),createBaseVNode("span",null,toDisplayString(t.uaResult.result.browser.name),1),createCommentVNode(" <span>{{ uaResult.result.browser.version }}</span> ")])])}var CommentUa=_export_sfc(_sfc_main$13,[["render",_sfc_render$13],["__scopeId","data-v-04e19a87"]]),item_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$12=defineComponent({name:"CommentItem",components:{Markdown,CommentLocation,CommentLink,CommentUa},props:{comment:{type:Object,required:!0},liked:{type:Boolean,default:!1},disliked:{type:Boolean,default:!1},isReply:{type:Boolean,default:!1},isChild:{type:Boolean,default:!1},hasChild:{type:Boolean,default:!1},hiddenAvatar:{type:Boolean,default:!1},hiddenUa:{type:Boolean,default:!1},plainVote:{type:Boolean,default:!1}},emits:[CommentEvents.Vote,CommentEvents.Delete,CommentEvents.Reply,CommentEvents.CancelReply],setup(t,o){const{i18n:n}=useEnhancer(),s=useCommentStore(),i=useUniversalStore(),r=computed(()=>s.deleting),a=computed(()=>getExtendValue(t.comment.extends,"disqus-author-id")),l=computed(()=>getExtendValue(t.comment.extends,"disqus-author-username")),c=computed(()=>Boolean(a.value)),d=computed(()=>Boolean(l.value)&&Boolean(i.disqusConfig)&&l.value===i.disqusConfig.admin_username),u=computed(()=>l.value?getDisqusAvatarByUsername(l.value):getGravatarByHash(t.comment.author.email_hash)),m=computed(()=>t.comment.author.site?t.comment.author.site:l.value?getDisqusUserURL(l.value):UNDEFINED),g=computed(()=>{var B;return i.user.type===UserType.Disqus&&a.value?((B=i.user.disqusProfile)==null?void 0:B.id)===a.value:!1});return{LANGUAGE_KEYS,humanlizeDate:B=>timeAgo(B,n.language.value),isDeleting:r,isDisqusAuthor:c,isAdminAuthor:d,isDeleteable:g,authorAvatar:u,authorURL:m,getCommentItemElementID,getReplyParentCommentText:B=>{var D;const L=(D=s.comments.find(R=>R.id===B))==null?void 0:D.author.name,w=L?`@${L}`:"";return`${`#${B}`} ${w}`},firstUpperCase,handleVote:B=>{o.emit(CommentEvents.Vote,t.comment.id,B)},handleDelete:()=>{window.confirm(n.t(LANGUAGE_KEYS.COMMENT_DELETE_CONFIRM))&&o.emit(CommentEvents.Delete,t.comment.id)},handleReply:()=>{o.emit(CommentEvents.Reply,t.comment.id)},handleCancelReply:()=>{o.emit(CommentEvents.CancelReply,t.comment.id)},scrollToCommentItem:B=>{scrollToElementAnchor(getCommentItemElementID(B),-300)}}}}),_withScopeId$y=t=>(pushScopeId("data-v-c1642e8e"),t=t(),popScopeId(),t),_hoisted_1$V=["id"],_hoisted_2$N={key:0,class:"cm-avatar"},_hoisted_3$I=["alt","src"],_hoisted_4$E={key:0,class:"iconfont icon-disqus-logo"},_hoisted_5$B={key:1,class:"iconfont icon-anonymous"},_hoisted_6$y={class:"cm-body"},_hoisted_7$w={class:"cm-header"},_hoisted_8$r={class:"left"},_hoisted_9$p={key:0,class:"moderator"},_hoisted_10$k={class:"right"},_hoisted_11$i={class:"flool"},_hoisted_12$g={class:"cm-content"},_hoisted_13$g={key:0,class:"reply"},_hoisted_14$f={class:"text"},_hoisted_15$f={class:"markdown"},_hoisted_16$d={class:"cm-footer"},_hoisted_17$c={class:"left"},_hoisted_18$c={class:"create_at"},_hoisted_19$9=["disabled"],_hoisted_20$8=_withScopeId$y(()=>createBaseVNode("i",{class:"iconfont icon-like"},null,-1)),_hoisted_21$7={class:"count"},_hoisted_22$6=["disabled"],_hoisted_23$5=_withScopeId$y(()=>createBaseVNode("i",{class:"iconfont icon-dislike"},null,-1)),_hoisted_24$3={class:"count"},_hoisted_25$3=_withScopeId$y(()=>createBaseVNode("i",{class:"iconfont icon-cancel"},null,-1)),_hoisted_26$3=_withScopeId$y(()=>createBaseVNode("i",{class:"iconfont icon-reply"},null,-1)),_hoisted_27$3={class:"right"},_hoisted_28$3=["disabled"],_hoisted_29$3=_withScopeId$y(()=>createBaseVNode("i",{class:"iconfont icon-delete"},null,-1)),_hoisted_30$3={key:0,class:"cm-reply"},_hoisted_31$2={class:"cm-children"};function _sfc_render$12(t,o,n,s,i,r){const a=resolveComponent("comment-link"),l=resolveComponent("i18n"),c=resolveComponent("comment-location"),d=resolveComponent("comment-ua"),u=resolveComponent("markdown");return openBlock(),createElementBlock("li",{class:normalizeClass(["comment-item",{"hide-avatar":t.hiddenAvatar,"is-child":t.isChild,"has-child":t.hasChild}]),key:t.comment.id,id:t.getCommentItemElementID(t.comment.id)},[createBaseVNode("div",null,[t.hiddenAvatar?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("div",_hoisted_2$N,[createVNode(a,{class:"link",href:t.authorURL},{default:withCtx(()=>[createBaseVNode("img",{alt:t.comment.author.name,src:t.authorAvatar,draggable:"false"},null,8,_hoisted_3$I),createBaseVNode("span",{class:normalizeClass(["role",t.isDisqusAuthor?"disqus":"anonymous"])},[t.isDisqusAuthor?(openBlock(),createElementBlock("i",_hoisted_4$E)):(openBlock(),createElementBlock("i",_hoisted_5$B))],2)]),_:1},8,["href"])])),createBaseVNode("div",_hoisted_6$y,[createBaseVNode("div",_hoisted_7$w,[createBaseVNode("div",_hoisted_8$r,[createVNode(a,{class:normalizeClass(["username",{url:Boolean(t.authorURL)}]),href:t.authorURL},{default:withCtx(()=>[createTextVNode(toDisplayString(t.firstUpperCase(t.comment.author.name)),1)]),_:1},8,["class","href"]),t.isAdminAuthor?(openBlock(),createElementBlock("span",_hoisted_9$p,[createVNode(l,{lkey:t.LANGUAGE_KEYS.COMMENT_MODERATOR},null,8,["lkey"])])):createCommentVNode("v-if",!0),t.comment.ip_location?(openBlock(),createBlock(c,{key:1,class:"location",location:t.comment.ip_location},null,8,["location"])):createCommentVNode("v-if",!0),t.hiddenUa?createCommentVNode("v-if",!0):(openBlock(),createElementBlock(Fragment,{key:2},[t.comment.agent?(openBlock(),createBlock(d,{key:0,class:"ua",ua:t.comment.agent},null,8,["ua"])):createCommentVNode("v-if",!0)],2112))]),createBaseVNode("div",_hoisted_10$k,[createBaseVNode("span",_hoisted_11$i,"#"+toDisplayString(t.comment.id),1)])]),createBaseVNode("div",_hoisted_12$g,[t.comment.pid?(openBlock(),createElementBlock("p",_hoisted_13$g,[createBaseVNode("span",_hoisted_14$f,[createVNode(l,{lkey:t.LANGUAGE_KEYS.COMMENT_REPLY},null,8,["lkey"])]),createBaseVNode("button",{class:"parent",onClick:o[0]||(o[0]=m=>t.scrollToCommentItem(t.comment.pid))},toDisplayString(t.getReplyParentCommentText(t.comment.pid)),1),createVNode(l,{zh:"\uFF1A",en:":"})])):createCommentVNode("v-if",!0),createBaseVNode("div",_hoisted_15$f,[createVNode(u,{markdown:t.comment.content,sanitize:!0,compact:!0},null,8,["markdown"])])]),createBaseVNode("div",_hoisted_16$d,[createBaseVNode("div",_hoisted_17$c,[createBaseVNode("span",_hoisted_18$c,toDisplayString(t.humanlizeDate(t.comment.create_at)),1),createBaseVNode("button",{class:normalizeClass(["vote",{actived:t.liked,alived:Boolean(t.comment.likes)}]),disabled:t.liked,onClick:o[1]||(o[1]=m=>t.handleVote(!0))},[_hoisted_20$8,t.plainVote?createCommentVNode("v-if",!0):(openBlock(),createBlock(l,{key:0,lkey:t.LANGUAGE_KEYS.COMMENT_UPVOTE},null,8,["lkey"])),createBaseVNode("span",_hoisted_21$7,"("+toDisplayString(t.comment.likes)+")",1)],10,_hoisted_19$9),createBaseVNode("button",{class:normalizeClass(["vote",{actived:t.disliked,alived:Boolean(t.comment.dislikes)}]),disabled:t.disliked,onClick:o[2]||(o[2]=m=>t.handleVote(!1))},[_hoisted_23$5,t.plainVote?createCommentVNode("v-if",!0):(openBlock(),createBlock(l,{key:0,lkey:t.LANGUAGE_KEYS.COMMENT_DOWNVOTE},null,8,["lkey"])),createBaseVNode("span",_hoisted_24$3,"("+toDisplayString(t.comment.dislikes)+")",1)],10,_hoisted_22$6),t.isReply?(openBlock(),createElementBlock("button",{key:0,class:"reply",onClick:o[3]||(o[3]=(...m)=>t.handleCancelReply&&t.handleCancelReply(...m))},[_hoisted_25$3,createVNode(l,{lkey:t.LANGUAGE_KEYS.COMMENT_REPLY_CANCEL},null,8,["lkey"])])):(openBlock(),createElementBlock("button",{key:1,class:"reply",onClick:o[4]||(o[4]=(...m)=>t.handleReply&&t.handleReply(...m))},[_hoisted_26$3,createVNode(l,{lkey:t.LANGUAGE_KEYS.COMMENT_REPLY},null,8,["lkey"])]))]),createBaseVNode("div",_hoisted_27$3,[t.isDeleteable?(openBlock(),createElementBlock("button",{key:0,class:"delete",disabled:t.isDeleting,onClick:o[5]||(o[5]=(...m)=>t.handleDelete&&t.handleDelete(...m))},[_hoisted_29$3,createVNode(l,{lkey:t.LANGUAGE_KEYS.COMMENT_DELETE},null,8,["lkey"])],8,_hoisted_28$3)):createCommentVNode("v-if",!0)])]),t.isReply?(openBlock(),createElementBlock("div",_hoisted_30$3,[renderSlot(t.$slots,"reply",{},void 0,!0)])):createCommentVNode("v-if",!0),createBaseVNode("div",_hoisted_31$2,[renderSlot(t.$slots,"children",{},void 0,!0)])])])],10,_hoisted_1$V)}var CommentItem=_export_sfc(_sfc_main$12,[["render",_sfc_render$12],["__scopeId","data-v-c1642e8e"]]),list_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$11=defineComponent({name:"CommentList",components:{CommentItem},props:{comments:{type:Array,required:!0},replyPid:{type:Number,required:!0},isChildList:{type:Boolean,default:!1},hiddenAvatar:{type:Boolean,default:!1},hiddenUa:{type:Boolean,default:!1},plainVote:{type:Boolean,required:!1}},emits:[CommentEvents.Reply,CommentEvents.Delete,CommentEvents.CancelReply],setup(t,o){const{i18n:n,gtag:s}=useEnhancer(),i=useCommentStore(),r=useUniversalStore(),a=ref(),l=ref(null),c=()=>{var v;const E=(v=a.value)==null?void 0:v.querySelectorAll(`.${LOZAD_CLASS_NAME}`);(E==null?void 0:E.length)&&(l.value=window.$lozad(E,{loaded:N=>N.classList.add(LOADED_CLASS_NAME)}),l.value.observe())},d=()=>{c()},u=E=>{o.emit(CommentEvents.Reply,E)},m=E=>{o.emit(CommentEvents.CancelReply,E)},g=async E=>{o.emit(CommentEvents.Delete,E)},f=async(E,v)=>{if(s==null||s.event("vote_comment",{event_category:GAEventCategories.Comment,event_label:v?"like":"dislike"}),v&&r.isLikedComment(E)||!v&&r.isDislikedComment(E))return!1;try{await i.postCommentVote(E,v?1:-1),v?r.likeComment(E):r.dislikeComment(E)}catch(N){const C=n.t(LANGUAGE_KEYS.POST_ACTION_ERROR);console.warn(C,N),alert(C)}},$=E=>E.map(v=>({comment:v,children:[]}));return onMounted(()=>{c()}),onBeforeUnmount(()=>{var E;(E=l.value)==null||E.observer.disconnect(),l.value=null}),{listElement:a,addCommentAnimateDone:d,isLikedComment:r.isLikedComment,isDislikedComment:r.isDislikedComment,handleVoteComment:f,handleDeleteComment:g,handleReplyComment:u,handleCancelReply:m,buildeCommentTree:$}}});function _sfc_render$11(t,o,n,s,i,r){const a=resolveComponent("comment-list"),l=resolveComponent("comment-item");return openBlock(),createElementBlock("ul",{class:normalizeClass(["comment-list",t.isChildList?"child":"root"]),ref:"listElement"},[createVNode(TransitionGroup,{name:"list-fade",onAfterEnter:t.addCommentAnimateDone},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.comments,c=>(openBlock(),createBlock(l,{key:c.comment.id,comment:c.comment,liked:t.isLikedComment(c.comment.id),disliked:t.isDislikedComment(c.comment.id),"has-child":Boolean(c.children.length),"is-child":t.isChildList,"is-reply":t.replyPid===c.comment.id,"hidden-avatar":t.hiddenAvatar,"hidden-ua":t.hiddenUa,"plain-vote":t.plainVote,onVote:t.handleVoteComment,onDelete:t.handleDeleteComment,onReply:t.handleReplyComment,onCancelReply:t.handleCancelReply},createSlots({reply:withCtx(()=>[renderSlot(t.$slots,"reply",{comment:c.comment,isChild:!1},void 0,!0)]),_:2},[c.children.length?{name:"children",fn:withCtx(()=>[createVNode(a,{comments:t.buildeCommentTree(c.children),"is-child-list":!0,"hidden-avatar":t.hiddenAvatar,"hidden-ua":t.hiddenUa,"plain-vote":t.plainVote,"reply-pid":t.replyPid,onDelete:t.handleDeleteComment,onReply:t.handleReplyComment,onCancelReply:t.handleCancelReply},{reply:withCtx(()=>[renderSlot(t.$slots,"reply",{comment:c.comment,isChild:!0},void 0,!0)]),_:2},1032,["comments","hidden-avatar","hidden-ua","plain-vote","reply-pid","onDelete","onReply","onCancelReply"])])}:void 0]),1032,["comment","liked","disliked","has-child","is-child","is-reply","hidden-avatar","hidden-ua","plain-vote","onVote","onDelete","onReply","onCancelReply"]))),128))]),_:3},8,["onAfterEnter"])],2)}var CommentList=_export_sfc(_sfc_main$11,[["render",_sfc_render$11],["__scopeId","data-v-647a8d8f"]]),loadmore_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$10=defineComponent({name:"CommentPagination",props:{fetching:{type:Boolean,required:!0},remain:{type:Number,required:!0},pagination:{type:Object,required:!1}},setup(t,o){const{gtag:n}=useEnhancer(),s=computed(()=>{var r,a,l;return((r=t.pagination)==null?void 0:r.total_page)>1&&((a=t.pagination)==null?void 0:a.current_page)!==((l=t.pagination)==null?void 0:l.total_page)});return{COMMENT_FOOTER_ELEMENT_ID,hasMore:s,handleLoadmore:()=>{n==null||n.event("loadmore",{event_category:GAEventCategories.Comment}),t.pagination&&o.emit(CommentEvents.Page,t.pagination.current_page+1)}}}}),_withScopeId$x=t=>(pushScopeId("data-v-ece98bfc"),t=t(),popScopeId(),t),_hoisted_1$U=["id"],_hoisted_2$M=["disabled"],_hoisted_3$H=_withScopeId$x(()=>createBaseVNode("i",{class:"iconfont icon-loadmore"},null,-1)),_hoisted_4$D={key:1,class:"no-more"};function _sfc_render$10(t,o,n,s,i,r){const a=resolveComponent("i18n");return openBlock(),createBlock(Transition,{name:"module"},{default:withCtx(()=>[createBaseVNode("div",{class:"loadmore",id:t.COMMENT_FOOTER_ELEMENT_ID},[t.hasMore?(openBlock(),createElementBlock("button",{key:0,class:"button",disabled:t.fetching,onClick:o[0]||(o[0]=(...l)=>t.handleLoadmore&&t.handleLoadmore(...l))},[t.fetching?(openBlock(),createBlock(a,{key:0,zh:"\u52A0\u8F7D\u4E2D...",en:"Loading..."})):(openBlock(),createElementBlock(Fragment,{key:1},[createVNode(a,null,{zh:withCtx(()=>[createTextVNode("\u52A0\u8F7D\u66F4\u591A\u8BC4\u8BBA\uFF08\u5269 "+toDisplayString(t.remain)+" \u6761\uFF09",1)]),en:withCtx(()=>[createTextVNode("Loadmore (remain "+toDisplayString(t.remain)+")",1)]),_:1}),_hoisted_3$H],64))],8,_hoisted_2$M)):(openBlock(),createElementBlock("span",_hoisted_4$D,[createVNode(a,{zh:"\u6C34\u5C3D\u5C71\u7A77",en:"NO MORE"})]))],8,_hoisted_1$U)]),_:1})}var CommentLoadmore=_export_sfc(_sfc_main$10,[["render",_sfc_render$10],["__scopeId","data-v-ece98bfc"]]),main_vue_vue_type_style_index_0_scoped_true_lang$2="";const _sfc_main$$=defineComponent({name:"CommentPublisherMain",props:{fetching:{type:Boolean,default:!1}}}),_hoisted_1$T={class:"publisher-skeleton",key:"skeleton"},_hoisted_2$L={class:"avatar"},_hoisted_3$G={class:"content"};function _sfc_render$$(t,o,n,s,i,r){const a=resolveComponent("skeleton-base"),l=resolveComponent("placeholder");return openBlock(),createBlock(l,{loading:t.fetching},{loading:withCtx(()=>[createBaseVNode("div",_hoisted_1$T,[createBaseVNode("div",_hoisted_2$L,[createVNode(a)]),createBaseVNode("div",_hoisted_3$G,[createVNode(a)])])]),default:withCtx(()=>[renderSlot(t.$slots,"default",{},void 0,!0)]),_:3},8,["loading"])}var CommentPublisherMain=_export_sfc(_sfc_main$$,[["render",_sfc_render$$],["__scopeId","data-v-35d65f9e"]]),publisher_vue_vue_type_style_index_0_scoped_true_lang="",PublisherEvents;(function(t){t.UpdateProfile="update:profile"})(PublisherEvents||(PublisherEvents={}));const _sfc_main$_=defineComponent({name:"CommentPublisher",props:{id:{type:String,default:""},disabled:{type:Boolean,default:!1},profile:{type:Object,required:!0},total:{type:Number,default:0,required:!1},bordered:{type:Boolean,default:!1},defaultBlossomed:{type:Boolean,default:!0},hiddenAvatar:{type:Boolean,required:!1},fixedAvatar:{type:Boolean,required:!1}},emits:[CommentEvents.Blossom,PublisherEvents.UpdateProfile],setup(t,o){const{i18n:n,gtag:s}=useEnhancer(),i=useUniversalStore(),r=computed(()=>i.user),a=computed(()=>{var u,m;return r.value.type===UserType.Local?getGravatarByHash((u=r.value.localProfile)==null?void 0:u.email_hash):r.value.type===UserType.Disqus?getDisqusAvatarByUsername((m=r.value.disqusProfile)==null?void 0:m.username):getDefaultAvatar()}),l=(u,m)=>{o.emit(PublisherEvents.UpdateProfile,S(y({},t.profile),{[u]:m.target.value}))},c=ref(t.defaultBlossomed),d=()=>{c.value=!0,o.emit(CommentEvents.Blossom),s==null||s.event("focus_publisher",{event_category:GAEventCategories.Comment})};return{user:r,avatar:a,blossomed:c,UserType,COMMENT_PUBLISHER_ELEMENT_ID,LANGUAGE_KEYS,t:n.t,firstUpperCase,handleUpdateProfile:l,handleBlossom:d}}}),_hoisted_1$S=["id"],_hoisted_2$K={key:0,class:"profile"},_hoisted_3$F={class:"name"},_hoisted_4$C=["value","disabled","placeholder"],_hoisted_5$A={class:"email"},_hoisted_6$x=["value","disabled","placeholder"],_hoisted_7$v={class:"site"},_hoisted_8$q=["value","disabled","placeholder"],_hoisted_9$o={class:"postbox"},_hoisted_10$j={key:0,class:"avatar"},_hoisted_11$h={class:"editor",key:"editor"};function _sfc_render$_(t,o,n,s,i,r){const a=resolveComponent("uimage"),l=resolveComponent("i18n");return openBlock(),createElementBlock("form",{key:"publisher",class:normalizeClass(["publisher",{"hidden-avatar":t.hiddenAvatar,"fixed-avatar":t.fixedAvatar,blossomed:t.blossomed,bordered:t.bordered}]),name:"comment",id:t.id},[createVNode(Transition,{name:"module-slow"},{default:withCtx(()=>[t.user.type===t.UserType.Null?withDirectives((openBlock(),createElementBlock("div",_hoisted_2$K,[createBaseVNode("div",_hoisted_3$F,[createBaseVNode("input",{value:t.profile.name,onInput:o[0]||(o[0]=c=>t.handleUpdateProfile("name",c)),required:"",type:"text",name:"name",autocomplete:"on",disabled:t.disabled,placeholder:t.t(t.LANGUAGE_KEYS.COMMENT_POST_NAME)+" *"},null,40,_hoisted_4$C)]),createBaseVNode("div",_hoisted_5$A,[createBaseVNode("input",{value:t.profile.email,onInput:o[1]||(o[1]=c=>t.handleUpdateProfile("email",c)),required:"",type:"email",name:"email",autocomplete:"on",disabled:t.disabled,placeholder:t.t(t.LANGUAGE_KEYS.COMMENT_POST_EMAIL)+" *"},null,40,_hoisted_6$x)]),createBaseVNode("div",_hoisted_7$v,[createBaseVNode("input",{value:t.profile.site,onInput:o[2]||(o[2]=c=>t.handleUpdateProfile("site",c)),type:"url",name:"url",autocomplete:"on",disabled:t.disabled,placeholder:t.t(t.LANGUAGE_KEYS.COMMENT_POST_SITE)},null,40,_hoisted_8$q)])],512)),[[vShow,t.blossomed]]):createCommentVNode("v-if",!0)]),_:1}),createBaseVNode("div",_hoisted_9$o,[t.hiddenAvatar?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("div",_hoisted_10$j,[createVNode(a,{alt:t.profile.name,src:t.avatar},null,8,["alt","src"])])),createVNode(Transition,{name:"module-slow"},{default:withCtx(()=>[t.blossomed?(openBlock(),createElementBlock("div",_hoisted_11$h,[renderSlot(t.$slots,"pen",{},void 0,!0)])):(openBlock(),createElementBlock("div",{class:"placeholder",key:"placeholder",onClick:o[3]||(o[3]=(...c)=>t.handleBlossom&&t.handleBlossom(...c))},[createVNode(l,{zh:"\u5728\u4E0B\u6709\u4E00\u62D9\u89C1\uFF0C\u4E0D\u77E5...",en:`${t.total?"Join":"Start"} the discussion...`},null,8,["en"])]))]),_:3})])],10,_hoisted_1$S)}var CommentPublisher=_export_sfc(_sfc_main$_,[["render",_sfc_render$_],["__scopeId","data-v-1a4353c2"]]);const focusPosition=(t,o=0)=>{var r;if(!t)return;if(t.focus(),!o){const a=(r=window.getSelection())==null?void 0:r.getRangeAt(0),l=a.cloneRange();return l.selectNodeContents(t),l.setEnd(a.endContainer,a.endOffset),l.toString().length}let n=0,s=!1;const i=a=>{const l=a.childNodes;for(let c=0;c<l.length;++c){const d=l[c],u=d.nodeType===1&&d.tagName==="BR";if(d.nodeType!==3&&!u){i(d);return}if(n+=u?1:d.textContent.length,n>=o){if(s){i(d);return}s=!0;const m=document.getSelection(),g=document.createRange(),f=n-d.textContent.length;g.setStart(d,o-f),g.setEnd(d,o-f),m.removeAllRanges(),m.addRange(g);break}}};i(t)},insertContent=t=>{const{element:o,content:n}=t,[s,i]=Array.isArray(n)?n:[n];if(!o||!s&&!i)return!1;const r=o.innerText,a=(window.getSelection||document.getSelection)(),l=a==null?void 0:a.toString();if(l){const d=!!s&&!i?s:s+l+i,u=r.replace(l,d);o.innerText=u,focusPosition(o,u.indexOf(d)+d.length-1)}else{const c=s+i,d=(()=>{try{return a.getRangeAt(0)}catch{}})(),u=d==null?void 0:d.startOffset,m=d==null?void 0:d.endOffset;if(d&&u===m&&u>0){const g=[r.slice(0,u),c,r.slice(u)];o.innerText=g.join(""),focusPosition(o,g[0].length+g[1].length-1)}else{const g=r+c;o.innerText=g,focusPosition(o,g.length-1)}}};var pen_vue_vue_type_style_index_0_scoped_true_lang="",PenEvents;(function(t){t.Update="update:modelValue",t.UpdatePreviewed="update:previewed"})(PenEvents||(PenEvents={}));const _sfc_main$Z=defineComponent({name:"CommentPen",components:{Markdown},props:{modelValue:{type:String,required:!1},disabled:{type:Boolean,default:!1},previewed:{type:Boolean,default:!1},posting:{type:Boolean,required:!0},bordered:{type:Boolean,required:!1},autoFocus:{type:Boolean,default:!1},hiddenStationery:{type:Boolean,default:!1}},emits:[PenEvents.Update,PenEvents.UpdatePreviewed,CommentEvents.Submit],setup(t,o){const{i18n:n}=useEnhancer(),s=useUniversalStore(),i=ref(t.modelValue||""),r=ref(t.previewed||!1),a=ref();let l=null;const c=()=>{r.value=!r.value,o.emit(PenEvents.UpdatePreviewed,r.value)},d=()=>{var N;const v=(N=a.value)==null?void 0:N.innerText;v!==i.value&&(i.value=v,o.emit(PenEvents.Update,v))},u=v=>{v.preventDefault(),o.emit(CommentEvents.Submit,i.value)},m=(v,N="")=>{insertContent({element:a.value,content:[v,N]}),d()},g=v=>{m(` ${v} `)},f=()=>{m(" ![","](https://) ")},$=()=>{m(" [","](https://) ")},E=()=>{m("\n```javascript\n","\n```\n")};return watch(()=>t.modelValue,(v="")=>{v!==i.value&&(i.value=v,a.value&&(a.value.innerText=v))}),watch(()=>t.previewed,v=>{v!==r.value&&(r.value=v)}),onMounted(()=>{t.autoFocus&&nextTick().then(()=>{a.value&&focusPosition(a.value)}),l=new MutationObserver(()=>d()),l.observe(a.value,{attributes:!0,characterData:!0,childList:!0,subtree:!0})}),onBeforeUnmount(()=>{l==null||l.disconnect()}),{t:n.t,user:s.user,UserType,EMOJIS,VALUABLE_LINKS,LANGUAGE_KEYS,inputElement:a,content:i,isPreviewed:r,insertEmoji:g,insertImage:f,insertLink:$,insertCode:E,handleInputChange:d,handleTogglePreview:c,handleSubmit:u,enableCopyrighter,disableCopyrighter}}}),_withScopeId$w=t=>(pushScopeId("data-v-6462b798"),t=t(),popScopeId(),t),_hoisted_1$R={class:"markdown"},_hoisted_2$J=["contenteditable","placeholder"],_hoisted_3$E={key:0,class:"preview-content"},_hoisted_4$B={class:"pencilbox"},_hoisted_5$z={class:"stationery"},_hoisted_6$w=_withScopeId$w(()=>createBaseVNode("i",{class:"iconfont icon-markdown"},null,-1)),_hoisted_7$u=["disabled"],_hoisted_8$p=_withScopeId$w(()=>createBaseVNode("i",{class:"iconfont icon-emoji"},null,-1)),_hoisted_9$n={class:"emoji-box"},_hoisted_10$i={class:"emoji-list"},_hoisted_11$g=["onClick"],_hoisted_12$f=["disabled"],_hoisted_13$f=_withScopeId$w(()=>createBaseVNode("i",{class:"iconfont icon-image"},null,-1)),_hoisted_14$e=[_hoisted_13$f],_hoisted_15$e=["disabled"],_hoisted_16$c=_withScopeId$w(()=>createBaseVNode("i",{class:"iconfont icon-link"},null,-1)),_hoisted_17$b=[_hoisted_16$c],_hoisted_18$b=["disabled"],_hoisted_19$8=_withScopeId$w(()=>createBaseVNode("i",{class:"iconfont icon-code"},null,-1)),_hoisted_20$7=[_hoisted_19$8],_hoisted_21$6=["disabled"],_hoisted_22$5=["disabled"],_hoisted_23$4=_withScopeId$w(()=>createBaseVNode("i",{class:"iconfont icon-mail-plane"},null,-1));function _sfc_render$Z(t,o,n,s,i,r){const a=resolveComponent("markdown"),l=resolveComponent("ulink"),c=resolveComponent("i18n");return openBlock(),createElementBlock("div",{class:normalizeClass(["pen",{bordered:t.bordered}])},[createBaseVNode("div",_hoisted_1$R,[createBaseVNode("div",{ref:"inputElement",class:"markdown-input",contenteditable:!t.disabled,placeholder:t.t(t.LANGUAGE_KEYS.COMMENT_POST_PLACEHOLDER),onFocus:o[0]||(o[0]=(...d)=>t.disableCopyrighter&&t.disableCopyrighter(...d)),onBlur:o[1]||(o[1]=(...d)=>t.enableCopyrighter&&t.enableCopyrighter(...d))},null,40,_hoisted_2$J),createVNode(Transition,{name:"list-fade"},{default:withCtx(()=>[t.isPreviewed?(openBlock(),createElementBlock("div",_hoisted_3$E,[createVNode(a,{markdown:t.content,sanitize:!0,compact:!0},null,8,["markdown"])])):createCommentVNode("v-if",!0)]),_:1})]),createBaseVNode("div",_hoisted_4$B,[createBaseVNode("div",_hoisted_5$z,[createVNode(l,{class:"markdown",title:"markdown",href:t.VALUABLE_LINKS.MARKDOWN},{default:withCtx(()=>[_hoisted_6$w]),_:1},8,["href"]),t.hiddenStationery?createCommentVNode("v-if",!0):(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("button",{class:"emoji",title:"emoji",type:"button",disabled:t.disabled||t.isPreviewed},[_hoisted_8$p,createBaseVNode("div",_hoisted_9$n,[createBaseVNode("ul",_hoisted_10$i,[o[2]||(setBlockTracking(-1),o[2]=(openBlock(!0),createElementBlock(Fragment,null,renderList(t.EMOJIS,(d,u)=>(openBlock(),createElementBlock("li",{key:u,class:"item",onClick:m=>t.insertEmoji(d)},[createTextVNode(toDisplayString(d),1)],8,_hoisted_11$g))),128)),setBlockTracking(1),o[2])])])],8,_hoisted_7$u),createBaseVNode("button",{class:"image",title:"image",disabled:t.disabled||t.isPreviewed,onClick:o[3]||(o[3]=withModifiers((...d)=>t.insertImage&&t.insertImage(...d),["prevent"]))},_hoisted_14$e,8,_hoisted_12$f),createBaseVNode("button",{class:"link",title:"link",disabled:t.disabled||t.isPreviewed,onClick:o[4]||(o[4]=withModifiers((...d)=>t.insertLink&&t.insertLink(...d),["prevent"]))},_hoisted_17$b,8,_hoisted_15$e),createBaseVNode("button",{class:"code",title:"code",disabled:t.disabled||t.isPreviewed,onClick:o[5]||(o[5]=withModifiers((...d)=>t.insertCode&&t.insertCode(...d),["prevent"]))},_hoisted_20$7,8,_hoisted_18$b),createBaseVNode("button",{class:normalizeClass(["preview",{actived:t.isPreviewed}]),title:"preview",disabled:t.disabled,onClick:o[6]||(o[6]=withModifiers((...d)=>t.handleTogglePreview&&t.handleTogglePreview(...d),["prevent"]))},[createBaseVNode("i",{class:normalizeClass(["iconfont",t.isPreviewed?"icon-eye-close":"icon-eye"])},null,2)],10,_hoisted_21$6)],64))]),createBaseVNode("button",{type:"submit",class:"submit",disabled:t.disabled,onClick:o[7]||(o[7]=(...d)=>t.handleSubmit&&t.handleSubmit(...d))},[t.posting?(openBlock(),createBlock(c,{key:0,zh:"\u53D1\u5E03\u4E2D...",en:"Posting..."})):t.user.type===t.UserType.Local?(openBlock(),createBlock(c,{key:1},{zh:withCtx(()=>{var d;return[createTextVNode("\u4EE5 "+toDisplayString((d=t.user.localProfile)==null?void 0:d.name)+" \u7684\u8EAB\u4EFD\u53D1\u5E03",1)]}),en:withCtx(()=>{var d;return[createTextVNode("Post as "+toDisplayString((d=t.user.localProfile)==null?void 0:d.name),1)]}),_:1})):t.user.type===t.UserType.Disqus?(openBlock(),createBlock(c,{key:2},{zh:withCtx(()=>{var d;return[createTextVNode("\u4EE5 "+toDisplayString((d=t.user.disqusProfile)==null?void 0:d.name)+" \u7684\u8EAB\u4EFD\u53D1\u5E03",1)]}),en:withCtx(()=>{var d;return[createTextVNode("Post as "+toDisplayString((d=t.user.disqusProfile)==null?void 0:d.name),1)]}),_:1})):(openBlock(),createBlock(c,{key:3,zh:"\u53D1\u5E03",en:"Publish"})),_hoisted_23$4],8,_hoisted_22$5)])],2)}var CommentPen=_export_sfc(_sfc_main$Z,[["render",_sfc_render$Z],["__scopeId","data-v-6462b798"]]),index_vue_vue_type_style_index_0_scoped_true_lang$4="";const _sfc_main$Y=defineComponent({name:"Dsiqus",components:{CommentTopbar,CommentMain,CommentList,CommentLoadmore,CommentPublisherMain,CommentPublisher,CommentPen},props:{postId:{type:Number,required:!0},fetching:{type:Boolean,default:!1},plain:{type:Boolean,default:!1}},setup(t){const{i18n:o,gtag:n,globalState:s}=useEnhancer(),i=useUniversalStore(),r=useCommentStore(),a=computed(()=>r.posting),l=computed(()=>r.fetching),c=computed(()=>t.fetching||!r.comments.length&&r.fetching);var d;(function(k){k.Root="root",k.Reply="reply"})(d||(d={}));const u=ref(),m=computed(()=>a.value&&u.value===d.Root),g=computed(()=>a.value&&u.value===d.Reply),f=reactive({sort:SortType.Desc,replyPID:0}),$=ref({name:"",email:"",site:""}),E=reactive({content:"",previewed:!1}),v=()=>{E.content=""},N=()=>{E.previewed=!1},C=()=>{f.replyPID=0},A=k=>{f.replyPID=k,n==null||n.event("reply_comment",{event_category:GAEventCategories.Comment})},B=(k={})=>r.fetchList(S(y({},k),{sort:f.sort,post_id:t.postId})),L=k=>{f.sort!==k&&(f.sort=k,B(),scrollToElementAnchor(COMMENT_ELEMENT_ID))},w=k=>{const b=r.comments,I=getCommentItemElementID(b[b.length-2].id);B({page:k,loadmore:!0}).then(()=>{nextTick().then(()=>{scrollToElementAnchor(I,null,500)})})},T=k=>{r.deleteComment(k).catch(b=>{console.warn("delete comment failed",b),alert(b.message)})},D=async k=>{if(n==null||n.event("submit_comment",{event_category:GAEventCategories.Comment}),!k.content||!k.content.trim())throw`${o.t(LANGUAGE_KEYS.COMMENT_POST_CONTENT)} ?`;if(k.content.length>3e3)throw`${o.t(LANGUAGE_KEYS.COMMENT_POST_ERROR_CONTENT)} ?`;const b=i.user.type===UserType.Null,I=$.value;if(b){if(!I.name)throw o.t(LANGUAGE_KEYS.COMMENT_POST_NAME)+"?";if(!I.email)throw o.t(LANGUAGE_KEYS.COMMENT_POST_EMAIL)+"?";if(!email.test(I.email))throw o.t(LANGUAGE_KEYS.COMMENT_POST_ERROR_EMAIL);if(I.site&&!url.test(I.site))throw o.t(LANGUAGE_KEYS.COMMENT_POST_ERROR_URL)}const M=b?toRaw(I):i.user.type===UserType.Local?i.user.localProfile:{name:i.user.disqusProfile.name,site:i.user.disqusProfile.url};M.email||Reflect.deleteProperty(M,"email"),M.site||Reflect.deleteProperty(M,"site");try{const P=await r.postComment({pid:k.pid,post_id:t.postId,content:k.content,agent:s.userAgent.original,author:M});b&&i.saveLocalUser(S(y({},M),{email_hash:P.author.email_hash})),luanchEmojiRain(k.content)}catch(P){throw console.warn("submit comment failed:",P),P.message}},R=async k=>{u.value=d.Root;try{await D({content:k,pid:0}),N(),v()}catch(b){alert(b)}finally{u.value=UNDEFINED}},z=async k=>{u.value=d.Reply;try{await D({content:k,pid:f.replyPID}),C()}catch(b){alert(b)}finally{u.value=UNDEFINED}};return watch(c,k=>{k&&C()}),onBeforeUnmount(()=>{C()}),onUnmounted(()=>{r.clearList()}),{ANCHOR:ANCHORS,isFetching:l,isLoading:c,isPosting:a,isRootPosting:m,isReplyPosting:g,commentStore:r,commentState:f,rootPenState:E,guestProfile:$,replyComment:A,handleDeleteComment:T,handleRootSubmit:R,handleReplySubmit:z,cancelCommentReply:C,fetchSortComments:L,fetchPageComments:w}}}),_hoisted_1$Q=["id"];function _sfc_render$Y(t,o,n,s,i,r){var $;const a=resolveComponent("comment-topbar"),l=resolveComponent("divider"),c=resolveComponent("comment-pen"),d=resolveComponent("comment-publisher"),u=resolveComponent("comment-publisher-main"),m=resolveComponent("comment-list"),g=resolveComponent("comment-loadmore"),f=resolveComponent("comment-main");return openBlock(),createElementBlock("div",{id:t.ANCHOR.COMMENT_ELEMENT_ID,class:"comment-box"},[createVNode(a,{total:($=t.commentStore.pagination)==null?void 0:$.total,loaded:t.commentStore.comments.length,"post-id":t.postId,fetching:t.fetching,loading:t.isLoading,plain:t.plain,sort:t.commentState.sort,onSort:t.fetchSortComments},null,8,["total","loaded","post-id","fetching","loading","plain","sort","onSort"]),createVNode(l,{class:"divider",size:"lg"}),createVNode(u,{fetching:t.fetching},{default:withCtx(()=>{var E;return[createVNode(d,{profile:t.guestProfile,"onUpdate:profile":o[2]||(o[2]=v=>t.guestProfile=v),id:t.ANCHOR.COMMENT_PUBLISHER_ELEMENT_ID,disabled:t.isLoading||t.isRootPosting,total:(E=t.commentStore.pagination)==null?void 0:E.total,"default-blossomed":!!t.plain,"hidden-avatar":t.plain},{pen:withCtx(()=>[createVNode(c,{modelValue:t.rootPenState.content,"onUpdate:modelValue":o[0]||(o[0]=v=>t.rootPenState.content=v),previewed:t.rootPenState.previewed,"onUpdate:previewed":o[1]||(o[1]=v=>t.rootPenState.previewed=v),"auto-focus":!t.plain,"hidden-stationery":t.plain,disabled:t.isRootPosting||t.isLoading,posting:t.isRootPosting,onSubmit:t.handleRootSubmit},null,8,["modelValue","previewed","auto-focus","hidden-stationery","disabled","posting","onSubmit"])]),_:1},8,["profile","id","disabled","total","default-blossomed","hidden-avatar"])]}),_:1},8,["fetching"]),createVNode(l,{class:"divider",size:"lg"}),createVNode(f,{fetching:t.isLoading,"skeleton-count":t.plain?3:5,"has-data":Boolean(t.commentStore.commentTreeList.length)},{list:withCtx(()=>[createVNode(m,{comments:t.commentStore.commentTreeList,"reply-pid":t.commentState.replyPID,"hidden-avatar":t.plain,"hidden-ua":t.plain,"plain-vote":t.plain,onDelete:t.handleDeleteComment,onReply:t.replyComment,onCancelReply:t.cancelCommentReply},{reply:withCtx(E=>[createVNode(d,{profile:t.guestProfile,"onUpdate:profile":o[3]||(o[3]=v=>t.guestProfile=v),disabled:!1,bordered:!0,"default-blossomed":!0,"hidden-avatar":t.plain,"fixed-avatar":E.isChild},{pen:withCtx(()=>[createVNode(c,{posting:t.isReplyPosting,bordered:!0,"auto-focus":!0,"hidden-stationery":t.plain,onSubmit:t.handleReplySubmit},null,8,["posting","hidden-stationery","onSubmit"])]),_:2},1032,["profile","hidden-avatar","fixed-avatar"])]),_:1},8,["comments","reply-pid","hidden-avatar","hidden-ua","plain-vote","onDelete","onReply","onCancelReply"])]),pagination:withCtx(()=>{var E;return[createVNode(g,{fetching:t.isFetching,pagination:t.commentStore.pagination,remain:((E=t.commentStore.pagination)==null?void 0:E.total)-t.commentStore.comments.length,onPage:t.fetchPageComments},null,8,["fetching","pagination","remain","onPage"])]}),_:1},8,["fetching","skeleton-count","has-data"])],8,_hoisted_1$Q)}var Comment=_export_sfc(_sfc_main$Y,[["render",_sfc_render$Y],["__scopeId","data-v-5a55b2b6"]]),skeleton_vue_vue_type_style_index_0_scoped_true_lang$1="";const _sfc_main$X=defineComponent({name:"ArticleDetailSkeleton",props:{socialCount:{type:Number,required:!0},reletedCount:{type:Number,required:!0}}}),_hoisted_1$P={class:"article-skeleton"},_hoisted_2$I={class:"module"},_hoisted_3$D={class:"content-skeleton"},_hoisted_4$A={class:"module"},_hoisted_5$y={class:"share-skeleton"},_hoisted_6$v={class:"module"},_hoisted_7$t={class:"meta-skeleton"},_hoisted_8$o={class:"module"};function _sfc_render$X(t,o,n,s,i,r){const a=resolveComponent("skeleton-line"),l=resolveComponent("skeleton-paragraph"),c=resolveComponent("skeleton-base");return openBlock(),createElementBlock("div",_hoisted_1$P,[createBaseVNode("div",_hoisted_2$I,[createBaseVNode("div",_hoisted_3$D,[createVNode(a,{class:"title"}),createVNode(l,{class:"content",lines:9,"line-height":"1.2em"})])]),createBaseVNode("div",_hoisted_4$A,[createBaseVNode("div",_hoisted_5$y,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.socialCount,d=>(openBlock(),createBlock(c,{class:"item",key:d}))),128))])]),createBaseVNode("div",_hoisted_6$v,[createBaseVNode("div",_hoisted_7$t,[createVNode(l,{align:!0,lines:4,"line-height":"1.2em"})])]),createBaseVNode("div",_hoisted_8$o,[createBaseVNode("ul",{class:"releted-skeleton",style:normalizeStyle({"grid-template-columns":`repeat(${t.reletedCount}, 1fr)`})},[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.reletedCount,d=>(openBlock(),createBlock(c,{key:d,class:"item"}))),128))],4)])])}var ArticleSkeleton=_export_sfc(_sfc_main$X,[["render",_sfc_render$X],["__scopeId","data-v-1512c3d0"]]),content_vue_vue_type_style_index_0_scoped_true_lang="";const ARTICLE_CONTENT_ELEMENT_IDS={default:"article_content_default",more:"article_content_more"},_sfc_main$W=defineComponent({name:"ArticleContent",components:{Markdown},props:{article:{type:Object,required:!0}},setup(t){const{i18n:o}=useEnhancer(),n=useArticleDetailStore(),s=computed(()=>isHybridType(t.article.origin)),i=computed(()=>isReprintType(t.article.origin)),r=computed(()=>isOriginalType(t.article.origin)),a=ref(),l=ref(!1),c=computed(()=>n.isLongContent&&!n.renderedFullContent),d=()=>{l.value=!0,nextTick(()=>{setTimeout(()=>{n.renderFullContent(),l.value=!1},0)})},u=f=>{var v;const $=(v=a.value)==null?void 0:v.querySelector(`#${f}`),E=$&&$.querySelectorAll(`.${LOZAD_CLASS_NAME}`);(E==null?void 0:E.length)&&window.$lozad(E,{loaded:C=>C.classList.add(LOADED_CLASS_NAME)}).observe()},m=()=>u(ARTICLE_CONTENT_ELEMENT_IDS.more),g=f=>humanizeYMD(f,o.language.value);return onMounted(()=>{u(ARTICLE_CONTENT_ELEMENT_IDS.default)}),{LANGUAGE_KEYS,i18n:o,element:a,publishedAt:g,isHybrid:s,isReprint:i,isOriginal:r,articleDetailStore:n,isRenderMoreEnabled:c,isRenderMoreContent:l,ARTICLE_CONTENT_ELEMENT_IDS,handleRenderMore:d,handleRenderMoreAnimateDone:m}}}),_withScopeId$v=t=>(pushScopeId("data-v-4916d372"),t=t(),popScopeId(),t),_hoisted_1$O={ref:"element",class:"detail"},_hoisted_2$H={class:"knowledge",key:"knowledge"},_hoisted_3$C={class:"title"},_hoisted_4$z={class:"text"},_hoisted_5$x={class:"meta"},_hoisted_6$u=_withScopeId$v(()=>createBaseVNode("i",{class:"iconfont icon-t"},null,-1)),_hoisted_7$s=_withScopeId$v(()=>createBaseVNode("i",{class:"iconfont icon-clock-outline"},null,-1)),_hoisted_8$n=_withScopeId$v(()=>createBaseVNode("i",{class:"iconfont icon-eye"},null,-1)),_hoisted_9$m={key:0,class:"readmore"},_hoisted_10$h=["disabled"],_hoisted_11$f=_withScopeId$v(()=>createBaseVNode("i",{class:"iconfont icon-loadmore"},null,-1));function _sfc_render$W(t,o,n,s,i,r){var d;const a=resolveComponent("i18n"),l=resolveComponent("divider"),c=resolveComponent("markdown");return openBlock(),createElementBlock("div",_hoisted_1$O,[createVNode(Transition,{name:"module"},{default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(["oirigin",{original:t.isOriginal,reprint:t.isReprint,hybrid:t.isHybrid}])},[t.isOriginal?(openBlock(),createBlock(a,{key:0,lkey:t.LANGUAGE_KEYS.ORIGIN_ORIGINAL},null,8,["lkey"])):t.isReprint?(openBlock(),createBlock(a,{key:1,lkey:t.LANGUAGE_KEYS.ORIGIN_REPRINT},null,8,["lkey"])):t.isHybrid?(openBlock(),createBlock(a,{key:2,lkey:t.LANGUAGE_KEYS.ORIGIN_HYBRID},null,8,["lkey"])):createCommentVNode("v-if",!0)],2)]),_:1}),createBaseVNode("div",_hoisted_2$H,[createBaseVNode("div",_hoisted_3$C,[createBaseVNode("h2",_hoisted_4$z,toDisplayString(t.article.title),1),createBaseVNode("div",_hoisted_5$x,[_hoisted_6$u,createVNode(a,null,{zh:withCtx(()=>[createBaseVNode("span",null,"\u5171 "+toDisplayString(t.articleDetailStore.contentLength)+" \u5B57\uFF0C\u9700\u9605\u8BFB "+toDisplayString(t.articleDetailStore.readMinutes)+" \u5206\u949F",1)]),en:withCtx(()=>[createBaseVNode("span",null,toDisplayString(t.articleDetailStore.contentLength)+" words, "+toDisplayString(t.articleDetailStore.readMinutes)+" min read",1)]),_:1}),createVNode(l,{type:"vertical",class:"vertical"}),createBaseVNode("span",null,[_hoisted_7$s,createBaseVNode("span",null,toDisplayString(t.publishedAt(t.article.create_at)),1)]),createVNode(l,{type:"vertical",class:"vertical"}),createBaseVNode("span",null,[_hoisted_8$n,createBaseVNode("span",null,toDisplayString(t.article.meta.views)+"\xA0",1),createVNode(a,{lkey:t.LANGUAGE_KEYS.ARTICLE_VIEWS},null,8,["lkey"])])])]),createVNode(c,{id:t.ARTICLE_CONTENT_ELEMENT_IDS.default,html:(d=t.articleDetailStore.defaultContent)==null?void 0:d.html},null,8,["id","html"]),createVNode(Transition,{name:"module",mode:"out-in",onAfterEnter:t.handleRenderMoreAnimateDone},{default:withCtx(()=>{var u;return[t.isRenderMoreEnabled?(openBlock(),createElementBlock("div",_hoisted_9$m,[createBaseVNode("button",{class:"readmore-btn",disabled:t.isRenderMoreContent,onClick:o[0]||(o[0]=(...m)=>t.handleRenderMore&&t.handleRenderMore(...m))},[createVNode(a,{lkey:t.isRenderMoreContent?t.LANGUAGE_KEYS.ARTICLE_RENDERING:t.LANGUAGE_KEYS.ARTICLE_READ_ALL},null,8,["lkey"]),_hoisted_11$f],8,_hoisted_10$h)])):t.articleDetailStore.renderedFullContent?(openBlock(),createBlock(c,{key:1,id:t.ARTICLE_CONTENT_ELEMENT_IDS.more,html:(u=t.articleDetailStore.moreContent)==null?void 0:u.html},null,8,["id","html"])):createCommentVNode("v-if",!0)]}),_:1},8,["onAfterEnter"])])],512)}var ArticleContent=_export_sfc(_sfc_main$W,[["render",_sfc_render$W],["__scopeId","data-v-4916d372"]]),share_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$V=defineComponent({name:"ArticleLikeShare",components:{BaseShare:Share},props:{socials:{type:Array,default:()=>[]}},setup(t){return{skeletonCount:t.socials.length?t.socials.length:Object.keys(SocialMedia).length,VALUABLE_LINKS}}}),_hoisted_1$N={class:"share-box"};function _sfc_render$V(t,o,n,s,i,r){const a=resolveComponent("base-share");return openBlock(),createElementBlock("div",_hoisted_1$N,[createVNode(a,{class:"share",socials:t.socials},null,8,["socials"])])}var ArticleShare=_export_sfc(_sfc_main$V,[["render",_sfc_render$V],["__scopeId","data-v-6e0ee578"]]),related_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$U=defineComponent({name:"ArticleRelated",props:{articles:{type:Array,default:()=>[]},columns:{type:Number,default:4},count:{type:Number,default:8}},setup(t){const{i18n:o}=useEnhancer(),n=i=>timeAgo(i,o.language.value);return{articleList:computed(()=>{const i=[...t.articles].slice(0,t.count);return i.length>=t.count?i:[...i,...new Array(t.count-i.length).fill({title:"-",id:null,_id:"",thumb:""})]}),getTimeAgo:n,getArticleDetailRoute,getMobileArticleListThumbnailURL}}}),_hoisted_1$M={class:"related"},_hoisted_2$G={class:"title"},_hoisted_3$B={class:"description"};function _sfc_render$U(t,o,n,s,i,r){const a=resolveComponent("router-link");return openBlock(),createElementBlock("div",_hoisted_1$M,[createBaseVNode("ul",{class:"articles",style:normalizeStyle({gridTemplateColumns:`repeat(${t.columns}, 1fr)`})},[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.articleList,(l,c)=>(openBlock(),createElementBlock("li",{class:normalizeClass([{disabled:!l.id},"item"]),key:c},[createVNode(a,{class:"item-article",title:l.title,to:t.getArticleDetailRoute(l.id)},{default:withCtx(()=>[createBaseVNode("div",{class:"thumb",style:normalizeStyle({backgroundImage:`url(${t.getMobileArticleListThumbnailURL(l.thumb)})`})},null,4),createBaseVNode("div",_hoisted_2$G,toDisplayString(l.title),1),createBaseVNode("div",_hoisted_3$B,toDisplayString(l.description),1)]),_:2},1032,["title","to"])],2))),128))],4)])}var ArticleRelated=_export_sfc(_sfc_main$U,[["render",_sfc_render$U],["__scopeId","data-v-1103e678"]]),meta_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$T=defineComponent({name:"ArticleMeta",props:{article:{type:Object,required:!0},plain:{type:Boolean,default:!1}},setup(t){const{i18n:o,gtag:n,globalState:s}=useEnhancer(),i=useUniversalStore(),r=useArticleDetailStore(),a=computed(()=>i.isLikedPage(t.article.id)),l=computed(()=>getPageURL(getArticleDetailRoute(t.article.id))),c=computed(()=>t.article.meta.likes);return{VALUABLE_LINKS,LANGUAGE_KEYS,articleURL:l,likes:c,copy,isLiked:a,tagEnName,firstUpperCase,handleLike:async()=>{if(a.value)return!1;n==null||n.event("article_like",{event_category:GAEventCategories.Article});try{await r.postArticleLike(t.article.id),i.likePage(t.article.id)}catch(f){const $=o.t(LANGUAGE_KEYS.POST_ACTION_ERROR);console.warn($,f),alert($)}},handleOpenSponsor:()=>{s.switchTogglers.sponsorModal(),n==null||n.event("article_sponsor",{event_category:GAEventCategories.Article})},getDateTitle:f=>humanizeYMD(f,o.language.value),getDateLink:f=>getDateFlowRoute(dateToYMD(new Date(f))),getTagFlowRoute,getCategoryFlowRoute}}}),_withScopeId$u=t=>(pushScopeId("data-v-7ada551e"),t=t(),popScopeId(),t),_hoisted_1$L={class:"actions"},_hoisted_2$F=["disabled"],_hoisted_3$A=_withScopeId$u(()=>createBaseVNode("i",{class:"icon iconfont icon-like"},null,-1)),_hoisted_4$y={class:"text"},_hoisted_5$w=_withScopeId$u(()=>createBaseVNode("i",{class:"icon iconfont icon-heart"},null,-1)),_hoisted_6$t=[_hoisted_5$w],_hoisted_7$r={class:"line"},_hoisted_8$m={key:0},_hoisted_9$l={key:0},_hoisted_10$g={key:1},_hoisted_11$e={key:0},_hoisted_12$e={class:"line"},_hoisted_13$e=_withScopeId$u(()=>createBaseVNode("i",{class:"icon iconfont icon-copyright"},null,-1)),_hoisted_14$d=createTextVNode("\u81EA\u7531\u8F6C\u8F7D - \u7F72\u540D - \u975E\u5546\u4E1A\u6027\u4F7F\u7528"),_hoisted_15$d=createTextVNode("Creative Commons BY-NC 3.0 CN"),_hoisted_16$b={key:0};function _sfc_render$T(t,o,n,s,i,r){const a=resolveComponent("i18n"),l=resolveComponent("router-link"),c=resolveComponent("divider"),d=resolveComponent("ulink");return openBlock(),createElementBlock("div",{class:normalizeClass(["meta",{plain:t.plain}])},[createBaseVNode("div",_hoisted_1$L,[createBaseVNode("button",{class:normalizeClass(["button like",{liked:t.isLiked}]),disabled:t.isLiked,onClick:o[0]||(o[0]=(...u)=>t.handleLike&&t.handleLike(...u))},[_hoisted_3$A,createBaseVNode("span",_hoisted_4$y,[createVNode(a,null,{zh:withCtx(()=>[createTextVNode("\u771F\u68D2\uFF01"+toDisplayString(t.likes),1)]),en:withCtx(()=>[createTextVNode(toDisplayString(t.isLiked?"Upvoted":"Upvote")+" ("+toDisplayString(t.likes)+")",1)]),_:1})])],10,_hoisted_2$F),t.plain?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("button",{key:0,class:"button sponsor",onClick:o[1]||(o[1]=(...u)=>t.handleOpenSponsor&&t.handleOpenSponsor(...u))},_hoisted_6$t))]),createBaseVNode("div",_hoisted_7$r,[createVNode(a,{zh:"\u672C\u6587\u4E8E",en:"Published at"}),createVNode(l,{class:"link date",title:t.getDateTitle(t.article.create_at),to:t.getDateLink(t.article.create_at)},{default:withCtx(()=>[createTextVNode(toDisplayString(t.getDateTitle(t.article.create_at)),1)]),_:1},8,["title","to"]),createVNode(a,{zh:"\u53D1\u5E03\u5728",en:"in category"}),(openBlock(!0),createElementBlock(Fragment,null,renderList(t.article.category,(u,m)=>(openBlock(),createElementBlock("span",{key:m},[createVNode(l,{class:"link category",title:`${t.firstUpperCase(u.slug)} | ${u.description}`,to:t.getCategoryFlowRoute(u.slug)},{default:withCtx(()=>[createVNode(a,{zh:u.name,en:t.firstUpperCase(u.slug)},null,8,["zh","en"])]),_:2},1032,["title","to"]),t.article.category[m+1]?(openBlock(),createElementBlock("span",_hoisted_8$m,[createVNode(a,{zh:"\u3001",en:","})])):createCommentVNode("v-if",!0)]))),128)),t.article.category.length?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("span",_hoisted_9$l,[createVNode(a,{zh:"\u672A\u77E5\u5206\u7C7B\u4E0B",en:"(no catgory)"})])),t.plain?(openBlock(),createElementBlock("br",_hoisted_10$g)):(openBlock(),createBlock(c,{key:2,type:"vertical",size:"sm"})),(openBlock(!0),createElementBlock(Fragment,null,renderList(t.article.tag,(u,m)=>(openBlock(),createElementBlock("span",{key:m},[createVNode(l,{class:"link tag",title:`${t.tagEnName(u)} | ${u.description}`,to:t.getTagFlowRoute(u.slug)},{default:withCtx(()=>[createVNode(a,{zh:`#${u.name}`,en:`#${t.tagEnName(u)}`},null,8,["zh","en"])]),_:2},1032,["title","to"]),t.article.tag[m+1]?(openBlock(),createElementBlock("span",_hoisted_11$e,[createVNode(a,{zh:"\u3001",en:","})])):createCommentVNode("v-if",!0)]))),128))]),createBaseVNode("div",_hoisted_12$e,[_hoisted_13$e,createVNode(a,null,{zh:withCtx(()=>[createVNode(d,{class:"link copyright",href:"https://creativecommons.org/licenses/by-nc/3.0/cn/deed.zh"},{default:withCtx(()=>[_hoisted_14$d]),_:1})]),en:withCtx(()=>[createVNode(d,{class:"link copyright",href:"https://creativecommons.org/licenses/by-nc/3.0/cn/deed.en"},{default:withCtx(()=>[_hoisted_15$d]),_:1})]),_:1}),t.plain?(openBlock(),createElementBlock("br",_hoisted_16$b)):(openBlock(),createBlock(c,{key:1,type:"vertical"})),createBaseVNode("span",{class:"link permalink",onClick:o[2]||(o[2]=u=>t.copy(t.articleURL))},toDisplayString(t.articleURL),1)])],2)}var ArticleMeta=_export_sfc(_sfc_main$T,[["render",_sfc_render$T],["__scopeId","data-v-7ada551e"]]),index_vue_vue_type_style_index_0_scoped_true_lang$3="";const _sfc_main$S=defineComponent({name:"ArticleDetail",components:{Comment,ArticleSkeleton,ArticleContent,ArticleShare,ArticleMeta,ArticleRelated},props:{articleId:{type:Number,required:!0},isMobile:{type:Boolean,default:!1}},setup(t){const{meta:o}=useEnhancer(),n=useArticleDetailStore(),s=useCommentStore(),i=computed(()=>n.article||UNDEFINED),r=computed(()=>n.fetching);o(()=>{var l,c,d,u,m;return{pageTitle:(l=i.value)==null?void 0:l.title,description:((c=i.value)==null?void 0:c.description)||"",keywords:((u=(d=i.value)==null?void 0:d.keywords)==null?void 0:u.join(","))||((m=i.value)==null?void 0:m.title)}});const a=l=>Promise.all([n.fetchDetail({articleID:l}),s.fetchList({post_id:l})]);return onBeforeMount(()=>{watch(()=>t.articleId,l=>a(l),{flush:"post"})}),useUniversalFetch(()=>a(t.articleId)),{SocialMedia,article:i,fetching:r,ANCHORS}}}),_withScopeId$t=t=>(pushScopeId("data-v-43627687"),t=t(),popScopeId(),t),_hoisted_1$K={class:"article-page"},_hoisted_2$E={key:0},_hoisted_3$z={class:"module margin background overflow"},_hoisted_4$x=_withScopeId$t(()=>createBaseVNode("div",{class:"divider"},null,-1)),_hoisted_5$v={class:"module margin background"},_hoisted_6$s=_withScopeId$t(()=>createBaseVNode("div",{class:"bridge left"},null,-1)),_hoisted_7$q=_withScopeId$t(()=>createBaseVNode("div",{class:"bridge right"},null,-1)),_hoisted_8$l={class:"module margin overflow"},_hoisted_9$k={class:"comment"};function _sfc_render$S(t,o,n,s,i,r){const a=resolveComponent("article-skeleton"),l=resolveComponent("article-content"),c=resolveComponent("article-meta"),d=resolveComponent("article-share"),u=resolveComponent("article-related"),m=resolveComponent("placeholder"),g=resolveComponent("comment");return openBlock(),createElementBlock("div",_hoisted_1$K,[createVNode(m,{loading:t.fetching},{loading:withCtx(()=>[createVNode(a,{"social-count":t.isMobile?3:8,"releted-count":t.isMobile?2:3},null,8,["social-count","releted-count"])]),default:withCtx(()=>{var f,$,E;return[t.article?(openBlock(),createElementBlock("div",_hoisted_2$E,[createBaseVNode("div",_hoisted_3$z,[createVNode(l,{id:t.ANCHORS.ARTICLE_CONTENT_ELEMENT_ID,article:t.article},null,8,["id","article"]),_hoisted_4$x,createVNode(c,{id:t.ANCHORS.ARTICLE_META_ELEMENT_ID,plain:t.isMobile,article:t.article},null,8,["id","plain","article"])]),createBaseVNode("div",_hoisted_5$v,[_hoisted_6$s,_hoisted_7$q,createVNode(d,{id:t.ANCHORS.ARTICLE_SHARE_ELEMENT_ID,"article-id":t.articleId,likes:(($=(f=t.article)==null?void 0:f.meta)==null?void 0:$.likes)||0,socials:t.isMobile?[t.SocialMedia.Wechat,t.SocialMedia.Weibo,t.SocialMedia.Twitter]:[]},null,8,["id","article-id","likes","socials"])]),createBaseVNode("div",_hoisted_8$l,[createVNode(u,{id:t.ANCHORS.ARTICLE_RELETED_ELEMENT_ID,columns:t.isMobile?2:3,count:t.isMobile?4:6,articles:(E=t.article)==null?void 0:E.related},null,8,["id","columns","count","articles"])])])):createCommentVNode("v-if",!0)]}),_:1},8,["loading"]),createBaseVNode("div",_hoisted_9$k,[createVNode(g,{plain:t.isMobile,fetching:t.fetching,"post-id":t.articleId},null,8,["plain","fetching","post-id"])])])}var ArticleDetailPage=_export_sfc(_sfc_main$S,[["render",_sfc_render$S],["__scopeId","data-v-43627687"]]);const useArchiveStore=defineStore("archive",{state:()=>({fetching:!1,statistic:null,data:null}),getters:{hydrated:t=>{if(!t.data)return null;const{articles:o,tags:n,categories:s}=t.data,i=new Map(n.map(a=>[a._id,S(y({},a),{count:0})])),r=new Map(s.map(a=>[a._id,S(y({},a),{count:0})]));return o.forEach(a=>{a.tag.forEach(l=>{i.has(l)&&i.get(l).count++}),a.category.forEach(l=>{r.has(l)&&r.get(l).count++})}),{tags:Array.from(i.values()),categories:Array.from(r.values())}},tree:t=>{var n;const o=[];return(n=t.data)==null||n.articles.map(s=>S(y({},s),{createAt:dateToHuman(new Date(s.create_at))})).sort(({create_at:s},{create_at:i})=>Date.parse(i)-Date.parse(s)).forEach(s=>{const{createAt:i}=s;let a=o.find(d=>d.year===i.year);a||(a={year:i.year,months:[]},o.push(a));let c=a.months.find(d=>d.month===i.month);c||(c={month:i.month,articles:[]},a.months.push(c)),c.articles.push(s)}),o}},actions:{fetchArchive(){return this.data?Promise.resolve():(this.fetching=!0,service$1.get("/archive").then(t=>{this.data=t.result}).finally(()=>{this.fetching=!1}))},fetchStatistic(){return this.statistic?Promise.resolve():(this.fetching=!0,service$1.get("/expansion/statistic").then(t=>{this.statistic=t.result}).finally(()=>{this.fetching=!1}))}}});var banner_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$R=defineComponent({name:"FullPageBanner",props:{position:{type:Number,default:20},image:{type:String,required:!0},blur:{type:Boolean,default:!0},isMobile:{type:Boolean,default:!1}},setup(t){const{isDarkTheme:o}=useEnhancer();return{isDarkTheme:o,imageURL:getTargetCDNURL(t.image)}}}),_hoisted_1$J={class:"title"},_hoisted_2$D={class:"description"};function _sfc_render$R(t,o,n,s,i,r){return openBlock(),createElementBlock("div",{class:normalizeClass(["banner",{dark:t.isDarkTheme,mobile:t.isMobile}]),style:normalizeStyle({backgroundImage:`url(${t.imageURL})`,backgroundPositionY:`${t.position}%`})},[createBaseVNode("div",{class:normalizeClass(["content",{blur:t.blur}])},[createBaseVNode("h2",_hoisted_1$J,[renderSlot(t.$slots,"title",{},void 0,!0)]),createBaseVNode("div",_hoisted_2$D,[renderSlot(t.$slots,"description",{},void 0,!0)])],2)],6)}var PageBanner=_export_sfc(_sfc_main$R,[["render",_sfc_render$R],["__scopeId","data-v-940dce28"]]),title_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$Q=defineComponent({name:"FullPageTitle",props:{level:{type:Number,default:3}}}),_hoisted_1$I={class:"left"},_hoisted_2$C={class:"center"},_hoisted_3$y={class:"right"};function _sfc_render$Q(t,o,n,s,i,r){return openBlock(),createElementBlock("div",{class:normalizeClass(["title",`heading-${t.level}`])},[createBaseVNode("div",_hoisted_1$I,[renderSlot(t.$slots,"left",{},void 0,!0)]),createBaseVNode("div",_hoisted_2$C,[renderSlot(t.$slots,"default",{},void 0,!0)]),createBaseVNode("div",_hoisted_3$y,[renderSlot(t.$slots,"right",{},void 0,!0)])],2)}var PageTitle=_export_sfc(_sfc_main$Q,[["render",_sfc_render$Q],["__scopeId","data-v-4a539a84"]]),archive_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$P=defineComponent({name:"ArchivePage",components:{PageBanner,PageTitle},props:{isMobile:{type:Boolean,default:!1}},setup(){const{i18n:t,meta:o,isZhLang:n}=useEnhancer(),s=useArchiveStore(),i=computed(()=>s.tree),r=computed(()=>s.fetching);return o(()=>{const a=firstUpperCase(t.t(LANGUAGE_KEYS.PAGE_ARCHIVE,Language.En));return{pageTitle:(n.value?[t.t(LANGUAGE_KEYS.PAGE_ARCHIVE),a]:[a]).join(" | "),description:`${META.title} \u6570\u636E\u5F52\u6863`}}),useUniversalFetch(()=>Promise.all([s.fetchArchive(),s.fetchStatistic()])),{LANGUAGE_KEYS,getArticleDetailRoute,replaceToChineseNumber,toChineseMonth,toEngMonth,archiveStore:s,articleTree:i,isFetching:r}}}),_withScopeId$s=t=>(pushScopeId("data-v-340129ec"),t=t(),popScopeId(),t),_hoisted_1$H={class:"container"},_hoisted_2$B={class:"archive-content"},_hoisted_3$x={class:"archive-skeleton",key:"skeleton"},_hoisted_4$w={class:"content"},_hoisted_5$u={class:"title"},_hoisted_6$r={class:"description"},_hoisted_7$p={class:"content-warpper",key:"content"},_hoisted_8$k={class:"text"},_hoisted_9$j={class:"statistic"},_hoisted_10$f={class:"item"},_hoisted_11$d={class:"count"},_hoisted_12$d=_withScopeId$s(()=>createBaseVNode("span",{class:"kind"},[createBaseVNode("i",{class:"iconfont icon-coffee"}),createBaseVNode("span",{class:"text"},"Articles")],-1)),_hoisted_13$d={class:"item"},_hoisted_14$c={class:"count"},_hoisted_15$c=_withScopeId$s(()=>createBaseVNode("span",{class:"kind"},[createBaseVNode("i",{class:"iconfont icon-tag"}),createBaseVNode("span",{class:"text"},"Tags")],-1)),_hoisted_16$a={class:"item"},_hoisted_17$a={class:"count"},_hoisted_18$a=_withScopeId$s(()=>createBaseVNode("span",{class:"kind"},[createBaseVNode("i",{class:"iconfont icon-comment"}),createBaseVNode("span",{class:"text"},"Comments")],-1)),_hoisted_19$7={class:"item"},_hoisted_20$6={class:"count"},_hoisted_21$5=_withScopeId$s(()=>createBaseVNode("span",{class:"kind"},[createBaseVNode("i",{class:"iconfont icon-eye"}),createBaseVNode("span",{class:"text"},"Today views")],-1)),_hoisted_22$4={class:"year-list"},_hoisted_23$3={class:"text"},_hoisted_24$2={class:"month-list"},_hoisted_25$2={class:"month-title"},_hoisted_26$2={class:"text"},_hoisted_27$2={class:"article-list"},_hoisted_28$2={class:"left"},_hoisted_29$2={class:"article-title"},_hoisted_30$2={class:"date"},_hoisted_31$1=["title","href"],_hoisted_32$1=["innerHTML"],_hoisted_33$1={key:0,class:"metas"},_hoisted_34$1={class:"item views"},_hoisted_35$1=_withScopeId$s(()=>createBaseVNode("i",{class:"iconfont icon-eye"},null,-1)),_hoisted_36$1={class:"item likes"},_hoisted_37$1=_withScopeId$s(()=>createBaseVNode("i",{class:"like-icon iconfont icon-like"},null,-1)),_hoisted_38$1={class:"item comments"},_hoisted_39$1=_withScopeId$s(()=>createBaseVNode("i",{class:"iconfont icon-comment"},null,-1));function _sfc_render$P(t,o,n,s,i,r){var $,E;const a=resolveComponent("i18n"),l=resolveComponent("page-banner"),c=resolveComponent("empty"),d=resolveComponent("skeleton-line"),u=resolveComponent("skeleton-paragraph"),m=resolveComponent("page-title"),g=resolveComponent("divider"),f=resolveComponent("placeholder");return openBlock(),createElementBlock("div",{class:normalizeClass(["archive-page",{mobile:t.isMobile}])},[createVNode(l,{blur:!1,position:75,"is-mobile":t.isMobile,image:"/images/page-archive/banner.jpg"},{title:withCtx(()=>[createVNode(a,{zh:"\u4E07\u7269\u4E4B\u4E2D\uFF0C\u5E0C\u671B\u81F3\u7F8E",en:"Hope is a good thing"})]),description:withCtx(()=>[createVNode(a,{zh:"\u81F3\u7F8E\u4E4B\u7269\uFF0C\u6C38\u4E0D\u51CB\u96F6",en:"Maybe the best of things and no good thing ever dies"})]),_:1},8,["is-mobile"]),createBaseVNode("div",_hoisted_1$H,[createBaseVNode("div",_hoisted_2$B,[createVNode(f,{data:(($=t.archiveStore.data)==null?void 0:$.articles.length)&&((E=t.archiveStore.data)==null?void 0:E.tags.length),loading:t.isFetching},{placeholder:withCtx(()=>[createVNode(c,{class:"archive-empty",key:"empty"},{default:withCtx(()=>[createVNode(a,{lkey:t.LANGUAGE_KEYS.ARTICLE_PLACEHOLDER},null,8,["lkey"])]),_:1})]),loading:withCtx(()=>[createBaseVNode("ul",_hoisted_3$x,[(openBlock(),createElementBlock(Fragment,null,renderList(4,v=>createBaseVNode("li",{key:v,class:"item"},[createBaseVNode("div",_hoisted_4$w,[createBaseVNode("div",_hoisted_5$u,[createVNode(d)]),createBaseVNode("div",_hoisted_6$r,[createVNode(u,{lines:6})])])])),64))])]),default:withCtx(()=>{var v,N,C,A;return[createBaseVNode("div",_hoisted_7$p,[createVNode(m,{class:"root-title",level:1},{default:withCtx(()=>[createBaseVNode("span",_hoisted_8$k,[createVNode(a,{zh:"\u4E07\u8C61\u661F\u76D8",en:"Statistic"})])]),_:1}),createBaseVNode("div",_hoisted_9$j,[createBaseVNode("span",_hoisted_10$f,[createBaseVNode("span",_hoisted_11$d,toDisplayString((v=t.archiveStore.statistic)==null?void 0:v.articles),1),createVNode(g,{class:"divider",type:"vertical"}),_hoisted_12$d]),createBaseVNode("span",_hoisted_13$d,[createBaseVNode("span",_hoisted_14$c,toDisplayString((N=t.archiveStore.statistic)==null?void 0:N.tags),1),createVNode(g,{class:"divider",type:"vertical"}),_hoisted_15$c]),createBaseVNode("span",_hoisted_16$a,[createBaseVNode("span",_hoisted_17$a,toDisplayString((C=t.archiveStore.statistic)==null?void 0:C.comments),1),createVNode(g,{class:"divider",type:"vertical"}),_hoisted_18$a]),createBaseVNode("span",_hoisted_19$7,[createBaseVNode("span",_hoisted_20$6,toDisplayString((A=t.archiveStore.statistic)==null?void 0:A.views),1),createVNode(g,{class:"divider",type:"vertical"}),_hoisted_21$5])]),createBaseVNode("ul",_hoisted_22$4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.articleTree,B=>(openBlock(),createElementBlock("li",{key:B.year,class:"year-item"},[createVNode(m,{class:"root-title",level:1},{default:withCtx(()=>[createBaseVNode("span",_hoisted_23$3,[createVNode(a,{zh:t.replaceToChineseNumber(B.year),en:B.year},null,8,["zh","en"])])]),_:2},1024),createBaseVNode("ul",_hoisted_24$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(B.months,L=>(openBlock(),createElementBlock("li",{key:L.month,class:"month"},[createBaseVNode("h4",_hoisted_25$2,[createBaseVNode("span",_hoisted_26$2,[createVNode(a,{zh:t.toChineseMonth(L.month),en:t.toEngMonth(L.month)},null,8,["zh","en"])])]),createBaseVNode("ul",_hoisted_27$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(L.articles,(w,T)=>(openBlock(),createElementBlock("li",{key:T,class:"article"},[createBaseVNode("div",_hoisted_28$2,[createBaseVNode("h4",_hoisted_29$2,[createBaseVNode("span",_hoisted_30$2," D"+toDisplayString(w.createAt.day),1),createBaseVNode("a",{class:"link",target:"_blank",title:w.title,href:t.getArticleDetailRoute(w.id)},toDisplayString(w.title),9,_hoisted_31$1)]),createBaseVNode("p",{class:"description",innerHTML:w.description},null,8,_hoisted_32$1)]),t.isMobile?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("div",_hoisted_33$1,[createBaseVNode("span",_hoisted_34$1,[_hoisted_35$1,createBaseVNode("span",null,toDisplayString(w.meta.views),1)]),createVNode(g,{type:"vertical"}),createBaseVNode("span",_hoisted_36$1,[_hoisted_37$1,createBaseVNode("span",null,toDisplayString(w.meta.likes),1)]),createVNode(g,{type:"vertical"}),createBaseVNode("span",_hoisted_38$1,[_hoisted_39$1,createBaseVNode("span",null,toDisplayString(w.meta.comments),1)])]))]))),128))])]))),128))])]))),128))])])]}),_:1},8,["data","loading"])])])],2)}var ArchivePage=_export_sfc(_sfc_main$P,[["render",_sfc_render$P],["__scopeId","data-v-340129ec"]]);const getAdminAvatar=t=>t||getDefaultAvatar(),i18ns={biography:{[Language.Zh]:"\u672C\u662F\u6D6A\u8776\u6E38\u8702\uFF0C\u81EA\u7559\u534A\u4EA9\u77F3\u6C60\uFF0C\u4F46\u6C42\u76F4\u6292\u80F8\u81C6\uFF0C\u6325\u58A8\u4E5D\u4E91\u4E4B\u4E2D",[Language.En]:"Either write something worth reading, Do something worth writing."},roadmap:{[Language.Zh]:"\u8DEF\u4E3A\u7EB8\uFF0C\u5730\u6210\u518C\uFF0C\u884C\u4F5C\u7B14\uFF0C\u5FC3\u5F53\u58A8\uFF1B\u601D\u65E0\u754C\uFF0C\u884C\u6709\u7586",[Language.En]:"Every path I went astray built up my Rome."},findJob:{[Language.Zh]:"\u627E\u6211\u5185\u63A8",[Language.En]:"Find job"},hireMe:{[Language.Zh]:"\u4E0E\u6211\u5408\u4F5C",[Language.En]:"Hire me"},myVlogs:{[Language.Zh]:"\u6211\u62CD\u6444\u7684",[Language.En]:"My albums"},merchBar:{[Language.Zh]:"\u6211\u7684\u5468\u8FB9",[Language.En]:"Merch bar"},guestbook:{[Language.Zh]:"\u7ED9\u6211\u7559\u8A00",[Language.En]:"Guestbook"},QQGroup:{[Language.Zh]:"\u540C\u6027\u8054\u8C0A",[Language.En]:"QQ group"},TelegramGroup:{[Language.Zh]:"\u81EA\u7531\u7535\u62A5",[Language.En]:"TG group"}},useAboutPageMeta=()=>{const{i18n:t,meta:o,isZhLang:n}=useEnhancer();return o(()=>{const s=firstUpperCase(t.t(LANGUAGE_KEYS.PAGE_ABOUT,Language.En));return{pageTitle:(n.value?[t.t(LANGUAGE_KEYS.PAGE_ABOUT),s]:[s]).join(" | "),description:`\u5173\u4E8E ${META.author}`}})};var desktop_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$O=defineComponent({name:"PCAboutPage",setup(){const{i18n:t,gtag:o,globalState:n,isZhLang:s,isDarkTheme:i}=useEnhancer(),r=useMetaStore(),a=computed(()=>r.adminInfo.data),l=[{to:RouteName.Lens,icon:"icon-lens",i18n:i18ns.myVlogs},{to:RouteName.Merch,icon:"icon-rubik",i18n:i18ns.merchBar},{to:RouteName.Job,icon:"icon-horse",i18n:i18ns.findJob},{to:RouteName.Freelancer,icon:"icon-coin-s",i18n:i18ns.hireMe},{to:RouteName.Guestbook,icon:"icon-comment",i18n:i18ns.guestbook}],c=[{class:"douban",qrcode:"/images/qrcodes/douban.png",icon:"icon-douban",link:VALUABLE_LINKS.DOUBAN,text:"Douban Archive"},{class:"wechat",qrcode:"/images/qrcodes/wechat.jpg",icon:"icon-wechat",text:"Scan on WeChat"},{class:"wechat-channel",qrcode:"/images/qrcodes/wechat-channel.png",icon:"icon-wechat-channel",text:"WeChat Channel"},{class:"instagram",qrcode:"/images/qrcodes/instagram.png",icon:"icon-instagram",link:VALUABLE_LINKS.INSTAGRAM,text:"Instagram Plogs"},{class:"youtube",qrcode:"/images/qrcodes/youtube.png",icon:"icon-youtube",link:VALUABLE_LINKS.YOUTUBE_CHANNEL,text:"YouTube Channel"}],d=$=>{o==null||o.event($,{event_category:GAEventCategories.About})},u=ref(!1),m=()=>{u.value=!0,d("roadmap_modal")},g=()=>{n.switchTogglers.sponsorModal(),d("sponsor_modal")},f=getTargetStaticURL("/assets/page-about-background.mp4");return useAboutPageMeta(),useUniversalFetch(()=>r.fetchAdminInfo()),{i18ns,qrcodes:c,links:l,language:t.language,VALUABLE_LINKS,FRIEND_LINKS,SPECIAL_LINKS,getAdminAvatar,getPageRoute,isZhLang:s,isDarkTheme:i,isOnRoadMap:u,backgroundVideo:f,adminInfo:a,handleGTagEvent:d,handleOpenSponsor:g,handleOpenMap:m}}}),_withScopeId$r=t=>(pushScopeId("data-v-e1818bbc"),t=t(),popScopeId(),t),_hoisted_1$G={class:"banner"},_hoisted_2$A={class:"background"},_hoisted_3$w={class:"video",loop:"",muted:"",autoplay:"",controls:!1},_hoisted_4$v=["src"],_hoisted_5$t={class:"avatar"},_hoisted_6$q={class:"name"},_hoisted_7$o={class:"role"},_hoisted_8$j={class:"socials"},_hoisted_9$i={class:"normal"},_hoisted_10$e=_withScopeId$r(()=>createBaseVNode("i",{class:"iconfont icon-github"},null,-1)),_hoisted_11$c=_withScopeId$r(()=>createBaseVNode("span",{class:"text"},"GitHub",-1)),_hoisted_12$c=_withScopeId$r(()=>createBaseVNode("i",{class:"iconfont icon-twitter"},null,-1)),_hoisted_13$c=_withScopeId$r(()=>createBaseVNode("span",{class:"text"},"Twitter",-1)),_hoisted_14$b=_withScopeId$r(()=>createBaseVNode("i",{class:"iconfont icon-instagram"},null,-1)),_hoisted_15$b=_withScopeId$r(()=>createBaseVNode("span",{class:"text"},"Instagram",-1)),_hoisted_16$9=_withScopeId$r(()=>createBaseVNode("i",{class:"iconfont icon-youtube"},null,-1)),_hoisted_17$9=_withScopeId$r(()=>createBaseVNode("span",{class:"text"},"YouTube",-1)),_hoisted_18$9={class:"mini"},_hoisted_19$6=_withScopeId$r(()=>createBaseVNode("i",{class:"iconfont icon-telegram"},null,-1)),_hoisted_20$5=_withScopeId$r(()=>createBaseVNode("i",{class:"iconfont icon-linkedin"},null,-1)),_hoisted_21$4=_withScopeId$r(()=>createBaseVNode("i",{class:"iconfont icon-douban"},null,-1)),_hoisted_22$3=_withScopeId$r(()=>createBaseVNode("i",{class:"iconfont icon-zhihu"},null,-1)),_hoisted_23$2={class:"container"},_hoisted_24$1={class:"links"},_hoisted_25$1={class:"text"},_hoisted_26$1={class:"discussion"},_hoisted_27$1=_withScopeId$r(()=>createBaseVNode("i",{class:"iconfont icon-qq"},null,-1)),_hoisted_28$1={class:"text"},_hoisted_29$1=_withScopeId$r(()=>createBaseVNode("i",{class:"iconfont icon-telegram"},null,-1)),_hoisted_30$1={class:"text"},_hoisted_31=_withScopeId$r(()=>createBaseVNode("i",{class:"iconfont icon-heart"},null,-1)),_hoisted_32={class:"text"},_hoisted_33=_withScopeId$r(()=>createBaseVNode("i",{class:"iconfont icon-spotify"},null,-1)),_hoisted_34=_withScopeId$r(()=>createBaseVNode("span",{class:"text"},"Spotify",-1)),_hoisted_35=_withScopeId$r(()=>createBaseVNode("i",{class:"iconfont icon-163music-logo"},null,-1)),_hoisted_36=_withScopeId$r(()=>createBaseVNode("span",{class:"text"},"BGM list",-1)),_hoisted_37={class:"qrcodes"},_hoisted_38=["onMouseenter"],_hoisted_39=_withScopeId$r(()=>createBaseVNode("div",{class:"background"},null,-1)),_hoisted_40={class:"qrcode"},_hoisted_41={class:"text"},_hoisted_42=["placeholder"],_hoisted_43={class:"wrapper"},_hoisted_44=_withScopeId$r(()=>createBaseVNode("i",{class:"iconfont icon-fullscreen"},null,-1)),_hoisted_45=[_hoisted_44],_hoisted_46=["src"],_hoisted_47=["src"],_hoisted_48={class:"github-box"},_hoisted_49=_withScopeId$r(()=>createBaseVNode("iframe",{class:"location",src:"/partials/location.html"},null,-1)),_hoisted_50={class:"footer-links"},_hoisted_51={class:"friendlinks"},_hoisted_52=["href"],_hoisted_53={class:"speciallinks"},_hoisted_54=["href"];function _sfc_render$O(t,o,n,s,i,r){var f,$,E;const a=resolveComponent("uimage"),l=resolveComponent("i18n"),c=resolveComponent("ulink"),d=resolveComponent("divider"),u=resolveComponent("router-link"),m=resolveComponent("popup"),g=resolveComponent("client-only");return openBlock(),createElementBlock("div",{class:normalizeClass(["about-page",{dark:t.isDarkTheme}])},[createBaseVNode("div",_hoisted_1$G,[createBaseVNode("div",_hoisted_2$A,[createBaseVNode("video",_hoisted_3$w,[createBaseVNode("source",{src:t.backgroundVideo,type:"video/mp4"},null,8,_hoisted_4$v)])]),createBaseVNode("div",_hoisted_5$t,[createVNode(a,{class:"image",src:t.getAdminAvatar((f=t.adminInfo)==null?void 0:f.avatar)},null,8,["src"]),createBaseVNode("h2",_hoisted_6$q,toDisplayString((($=t.adminInfo)==null?void 0:$.name)||"-"),1),createBaseVNode("p",_hoisted_7$o,toDisplayString(((E=t.adminInfo)==null?void 0:E.slogan)||"-"),1),createBaseVNode("div",{class:normalizeClass(["bio-text",t.language])},[createVNode(l,normalizeProps(guardReactiveProps(t.i18ns.biography)),null,16)],2),createBaseVNode("div",_hoisted_8$j,[createBaseVNode("span",_hoisted_9$i,[createVNode(c,{class:"item github",href:t.VALUABLE_LINKS.GITHUB},{default:withCtx(()=>[_hoisted_10$e,_hoisted_11$c]),_:1},8,["href"]),createVNode(c,{class:"item twitter",href:t.VALUABLE_LINKS.TWITTER},{default:withCtx(()=>[_hoisted_12$c,_hoisted_13$c]),_:1},8,["href"]),createVNode(c,{class:"item instagram",href:t.VALUABLE_LINKS.INSTAGRAM},{default:withCtx(()=>[_hoisted_14$b,_hoisted_15$b]),_:1},8,["href"]),createVNode(c,{class:"item youtube",href:t.VALUABLE_LINKS.YOUTUBE_CHANNEL},{default:withCtx(()=>[_hoisted_16$9,_hoisted_17$9]),_:1},8,["href"])]),createBaseVNode("span",_hoisted_18$9,[createVNode(c,{class:"item telegram",href:t.VALUABLE_LINKS.TELEGRAM},{default:withCtx(()=>[_hoisted_19$6]),_:1},8,["href"]),createVNode(c,{class:"item linkedin",href:t.VALUABLE_LINKS.LINKEDIN},{default:withCtx(()=>[_hoisted_20$5]),_:1},8,["href"]),createVNode(c,{class:"item douban",href:t.VALUABLE_LINKS.DOUBAN},{default:withCtx(()=>[_hoisted_21$4]),_:1},8,["href"]),createVNode(c,{class:"item zhihu",href:t.VALUABLE_LINKS.ZHIHU},{default:withCtx(()=>[_hoisted_22$3]),_:1},8,["href"])])])])]),createBaseVNode("div",_hoisted_23$2,[createBaseVNode("div",_hoisted_24$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.links,(v,N)=>(openBlock(),createBlock(u,{class:"item",key:N,to:t.getPageRoute(v.to)},{default:withCtx(()=>[createBaseVNode("i",{class:normalizeClass(["iconfont",v.icon])},null,2),createVNode(d,{class:"divider",type:"vertical"}),createBaseVNode("span",_hoisted_25$1,[createVNode(l,normalizeProps(guardReactiveProps(v.i18n)),null,16)])]),_:2},1032,["to"]))),128))]),createBaseVNode("div",_hoisted_26$1,[createVNode(c,{class:"item qq-group",href:t.VALUABLE_LINKS.QQ_GROUP},{default:withCtx(()=>[_hoisted_27$1,createVNode(d,{class:"divider",type:"vertical"}),createBaseVNode("span",_hoisted_28$1,[createVNode(l,normalizeProps(guardReactiveProps(t.i18ns.QQGroup)),null,16)])]),_:1},8,["href"]),createVNode(c,{class:"item telegram",href:t.VALUABLE_LINKS.TELEGRAM_GROUP},{default:withCtx(()=>[_hoisted_29$1,createVNode(d,{class:"divider",type:"vertical"}),createBaseVNode("span",_hoisted_30$1,[createVNode(l,normalizeProps(guardReactiveProps(t.i18ns.TelegramGroup)),null,16)])]),_:1},8,["href"]),createBaseVNode("button",{class:"item sponsor",onClick:o[0]||(o[0]=(...v)=>t.handleOpenSponsor&&t.handleOpenSponsor(...v))},[_hoisted_31,createVNode(d,{class:"divider",type:"vertical"}),createBaseVNode("span",_hoisted_32,[createVNode(l,{zh:"\u8D5E\u52A9\u6211",en:"Sponsor"})])]),createVNode(c,{class:"item spotify",href:t.VALUABLE_LINKS.SPOTIFY},{default:withCtx(()=>[_hoisted_33,createVNode(d,{class:"divider",type:"vertical"}),_hoisted_34]),_:1},8,["href"]),createVNode(c,{class:"item music-163",href:t.VALUABLE_LINKS.MUSIC_163},{default:withCtx(()=>[_hoisted_35,createVNode(d,{class:"divider",type:"vertical"}),_hoisted_36]),_:1},8,["href"])]),createBaseVNode("div",_hoisted_37,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.qrcodes,(v,N)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["item",v.class]),key:N,onMouseenter:C=>t.handleGTagEvent(v.class.replace("-","_")+"_qrcode")},[_hoisted_39,createBaseVNode("span",_hoisted_40,[createVNode(a,{class:"image",cdn:"",src:v.qrcode},null,8,["src"])]),createVNode(c,{class:"link",href:v.link},{default:withCtx(()=>[createBaseVNode("i",{class:normalizeClass(["icon iconfont",v.icon])},null,2),createBaseVNode("span",_hoisted_41,toDisplayString(v.text),1)]),_:2},1032,["href"])],42,_hoisted_38))),128))]),createBaseVNode("div",{class:"roadmap-box",placeholder:t.isZhLang?t.i18ns.roadmap.zh:t.i18ns.roadmap.en},[createBaseVNode("div",_hoisted_43,[createBaseVNode("button",{class:"fullscreen",onClick:o[1]||(o[1]=(...v)=>t.handleOpenMap&&t.handleOpenMap(...v))},_hoisted_45),createBaseVNode("iframe",{class:"iframe",src:t.VALUABLE_LINKS.GOOGLE_LIVE_MAP,frameborder:"0"},null,8,_hoisted_46),createVNode(g,null,{default:withCtx(()=>[createVNode(m,{visible:t.isOnRoadMap,"onUpdate:visible":o[2]||(o[2]=v=>t.isOnRoadMap=v)},{default:withCtx(()=>[createBaseVNode("iframe",{src:t.VALUABLE_LINKS.GOOGLE_LIVE_MAP,allowfullscreen:"",frameborder:"0",class:"roadmap-modal"},null,8,_hoisted_47)]),_:1},8,["visible"])]),_:1})])],8,_hoisted_42),createBaseVNode("div",_hoisted_48,[_hoisted_49,createVNode(c,{class:"github-chart",href:t.VALUABLE_LINKS.GITHUB,onMousedown:o[3]||(o[3]=v=>t.handleGTagEvent("github_chart_link"))},{default:withCtx(()=>[createVNode(a,{class:"image",cdn:"",src:"/effects/ghchart"})]),_:1},8,["href"])]),createBaseVNode("div",_hoisted_50,[createBaseVNode("div",_hoisted_51,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.FRIEND_LINKS,(v,N)=>(openBlock(),createElementBlock(Fragment,{key:N},[N!==0?(openBlock(),createBlock(d,{key:0,type:"vertical",size:"lg"})):createCommentVNode("v-if",!0),createBaseVNode("a",{href:v.url,class:"item",target:"_blank",rel:"external nofollow noopener"},toDisplayString(v.name),9,_hoisted_52)],64))),128))]),createBaseVNode("div",_hoisted_53,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.SPECIAL_LINKS,(v,N)=>(openBlock(),createElementBlock(Fragment,{key:N},[N!==0?(openBlock(),createBlock(d,{key:0,type:"vertical",size:"lg"})):createCommentVNode("v-if",!0),createBaseVNode("a",{href:v.url,class:"item",target:"_blank",rel:"external nofollow noopener"},toDisplayString(v.name),9,_hoisted_54)],64))),128))])])])],2)}var AboutDesktopPage=_export_sfc(_sfc_main$O,[["render",_sfc_render$O],["__scopeId","data-v-e1818bbc"]]),mobile_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$N=defineComponent({name:"MobileAboutPage",components:{PageBanner},setup(){const{i18n:t}=useEnhancer(),o=useMetaStore(),n=computed(()=>o.adminInfo.data);return useAboutPageMeta(),useUniversalFetch(()=>o.fetchAdminInfo()),{i18ns,language:t.language,adminInfo:n,RouteName,getAdminAvatar,getPageRoute,LANGUAGE_KEYS,VALUABLE_LINKS}}}),_withScopeId$q=t=>(pushScopeId("data-v-eefed2b6"),t=t(),popScopeId(),t),_hoisted_1$F={class:"about-page"},_hoisted_2$z={class:"profile"},_hoisted_3$v={class:"avatar"},_hoisted_4$u={class:"name"},_hoisted_5$s={class:"slogan"},_hoisted_6$p={class:"links"},_hoisted_7$n={class:"list col-2"},_hoisted_8$i=_withScopeId$q(()=>createBaseVNode("i",{class:"iconfont icon-horse"},null,-1)),_hoisted_9$h=_withScopeId$q(()=>createBaseVNode("i",{class:"iconfont icon-tool"},null,-1)),_hoisted_10$d=_withScopeId$q(()=>createBaseVNode("i",{class:"iconfont icon-lens"},null,-1)),_hoisted_11$b=_withScopeId$q(()=>createBaseVNode("i",{class:"iconfont icon-rubik"},null,-1)),_hoisted_12$b={class:"list col-2"},_hoisted_13$b=_withScopeId$q(()=>createBaseVNode("i",{class:"iconfont icon-qq"},null,-1)),_hoisted_14$a=_withScopeId$q(()=>createBaseVNode("i",{class:"iconfont icon-telegram"},null,-1)),_hoisted_15$a={class:"links"},_hoisted_16$8={class:"list col-3"},_hoisted_17$8=_withScopeId$q(()=>createBaseVNode("i",{class:"iconfont icon-github"},null,-1)),_hoisted_18$8=_withScopeId$q(()=>createBaseVNode("span",{class:"text"},"GitHub",-1)),_hoisted_19$5=_withScopeId$q(()=>createBaseVNode("i",{class:"iconfont icon-twitter"},null,-1)),_hoisted_20$4=_withScopeId$q(()=>createBaseVNode("span",{class:"text"},"Twitter",-1)),_hoisted_21$3=_withScopeId$q(()=>createBaseVNode("i",{class:"iconfont icon-instagram"},null,-1)),_hoisted_22$2=_withScopeId$q(()=>createBaseVNode("span",{class:"text"},"Instagram",-1)),_hoisted_23$1={class:"list col-5"},_hoisted_24=_withScopeId$q(()=>createBaseVNode("i",{class:"iconfont icon-telegram"},null,-1)),_hoisted_25=_withScopeId$q(()=>createBaseVNode("i",{class:"iconfont icon-linkedin"},null,-1)),_hoisted_26=_withScopeId$q(()=>createBaseVNode("i",{class:"iconfont icon-youtube"},null,-1)),_hoisted_27=_withScopeId$q(()=>createBaseVNode("i",{class:"iconfont icon-douban"},null,-1)),_hoisted_28=_withScopeId$q(()=>createBaseVNode("i",{class:"iconfont icon-zhihu"},null,-1)),_hoisted_29={class:"links"},_hoisted_30={class:"list col-2"};function _sfc_render$N(t,o,n,s,i,r){var g,f,$;const a=resolveComponent("i18n"),l=resolveComponent("page-banner"),c=resolveComponent("uimage"),d=resolveComponent("divider"),u=resolveComponent("router-link"),m=resolveComponent("ulink");return openBlock(),createElementBlock("div",_hoisted_1$F,[createVNode(l,{position:70,blur:!1,"is-mobile":!0,image:"/images/page-lens/banner-1.jpg"},{title:withCtx(()=>[createVNode(a,{lkey:t.LANGUAGE_KEYS.PAGE_ABOUT},null,8,["lkey"])]),_:1}),createBaseVNode("div",_hoisted_2$z,[createBaseVNode("div",_hoisted_3$v,[createVNode(c,{class:"image",src:t.getAdminAvatar((g=t.adminInfo)==null?void 0:g.avatar)},null,8,["src"])]),createBaseVNode("h2",_hoisted_4$u,toDisplayString(((f=t.adminInfo)==null?void 0:f.name)||"-"),1),createBaseVNode("h5",_hoisted_5$s,toDisplayString((($=t.adminInfo)==null?void 0:$.slogan)||"-"),1),createVNode(d,{dashed:""}),createBaseVNode("h4",{class:normalizeClass(["bio",t.language])},[createVNode(a,normalizeProps(guardReactiveProps(t.i18ns.biography)),null,16)],2)]),createBaseVNode("div",_hoisted_6$p,[createBaseVNode("div",_hoisted_7$n,[createVNode(u,{class:"item text-only",to:t.getPageRoute(t.RouteName.Job)},{default:withCtx(()=>[_hoisted_8$i,createVNode(a,normalizeProps(guardReactiveProps(t.i18ns.findJob)),null,16)]),_:1},8,["to"]),createVNode(u,{class:"item text-only",to:t.getPageRoute(t.RouteName.Freelancer)},{default:withCtx(()=>[_hoisted_9$h,createVNode(a,normalizeProps(guardReactiveProps(t.i18ns.hireMe)),null,16)]),_:1},8,["to"]),createVNode(u,{class:"item text-only",to:t.getPageRoute(t.RouteName.Lens)},{default:withCtx(()=>[_hoisted_10$d,createVNode(a,normalizeProps(guardReactiveProps(t.i18ns.myVlogs)),null,16)]),_:1},8,["to"]),createVNode(u,{class:"item text-only",to:t.getPageRoute(t.RouteName.Merch)},{default:withCtx(()=>[_hoisted_11$b,createVNode(a,normalizeProps(guardReactiveProps(t.i18ns.merchBar)),null,16)]),_:1},8,["to"])]),createVNode(d,{dashed:""}),createBaseVNode("div",_hoisted_12$b,[createVNode(m,{class:"item qq",href:t.VALUABLE_LINKS.QQ_GROUP},{default:withCtx(()=>[_hoisted_13$b,createVNode(a,normalizeProps(guardReactiveProps(t.i18ns.QQGroup)),null,16)]),_:1},8,["href"]),createVNode(m,{class:"item telegram",href:t.VALUABLE_LINKS.TELEGRAM_GROUP},{default:withCtx(()=>[_hoisted_14$a,createVNode(a,normalizeProps(guardReactiveProps(t.i18ns.TelegramGroup)),null,16)]),_:1},8,["href"])])]),createBaseVNode("div",_hoisted_15$a,[createBaseVNode("div",_hoisted_16$8,[createVNode(m,{class:"item github",href:t.VALUABLE_LINKS.GITHUB},{default:withCtx(()=>[_hoisted_17$8,_hoisted_18$8]),_:1},8,["href"]),createVNode(m,{class:"item twitter",href:t.VALUABLE_LINKS.TWITTER},{default:withCtx(()=>[_hoisted_19$5,_hoisted_20$4]),_:1},8,["href"]),createVNode(m,{class:"item instagram",href:t.VALUABLE_LINKS.INSTAGRAM},{default:withCtx(()=>[_hoisted_21$3,_hoisted_22$2]),_:1},8,["href"])]),createVNode(d,{dashed:""}),createBaseVNode("div",_hoisted_23$1,[createVNode(m,{class:"item telegram icon-only",href:t.VALUABLE_LINKS.TELEGRAM},{default:withCtx(()=>[_hoisted_24]),_:1},8,["href"]),createVNode(m,{class:"item linkedin icon-only",href:t.VALUABLE_LINKS.LINKEDIN},{default:withCtx(()=>[_hoisted_25]),_:1},8,["href"]),createVNode(m,{class:"item youtube icon-only",href:t.VALUABLE_LINKS.YOUTUBE_CHANNEL},{default:withCtx(()=>[_hoisted_26]),_:1},8,["href"]),createVNode(m,{class:"item douban icon-only",href:t.VALUABLE_LINKS.DOUBAN},{default:withCtx(()=>[_hoisted_27]),_:1},8,["href"]),createVNode(m,{class:"item zhihu icon-only",href:t.VALUABLE_LINKS.ZHIHU},{default:withCtx(()=>[_hoisted_28]),_:1},8,["href"])])]),createBaseVNode("div",_hoisted_29,[createBaseVNode("div",_hoisted_30,[createVNode(c,{cdn:"",class:"image-item",src:"/images/qrcodes/wechat.jpg"}),createVNode(c,{cdn:"",class:"image-item",src:"/images/qrcodes/wechat-channel.png"})])])])}var AboutMobilePage=_export_sfc(_sfc_main$N,[["render",_sfc_render$N],["__scopeId","data-v-eefed2b6"]]),guestbook_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$M=defineComponent({name:"GuestbookPage",components:{PageBanner,Comment},props:{isMobile:{type:Boolean,default:!1}},setup(){const t=CommentPostType.Guestbook,{i18n:o,meta:n,gtag:s,globalState:i,isDarkTheme:r,isZhLang:a}=useEnhancer(),l=useMetaStore(),c=useCommentStore(),d=useUniversalStore(),u=computed(()=>d.isLikedPage(t)),m=computed(()=>{var v;return((v=l.appOptions.data)==null?void 0:v.meta.likes)||0}),g="/images/page-guestbook/banner.jpg",f=ref(i.isHydrated.value);n(()=>{const v=firstUpperCase(o.t(LANGUAGE_KEYS.PAGE_GUESTBOOK,Language.En));return{pageTitle:(a.value?[o.t(LANGUAGE_KEYS.PAGE_GUESTBOOK),v]:[v]).join(" | "),description:`\u7ED9 ${META.author} \u7559\u8A00`}});const $=()=>Promise.all([l.fetchAppOptions(!0),c.fetchList({post_id:t})]).then(()=>{f.value=!1}),E=async()=>{if(u.value)return!1;s==null||s.event("like_site",{event_category:GAEventCategories.Universal});try{await l.postSiteLike(),d.likePage(t)}catch(v){const N=o.t(LANGUAGE_KEYS.POST_ACTION_ERROR);console.warn(N,v),alert(N)}};return useUniversalFetch(()=>$()),{LANGUAGE_KEYS,bannerImage:g,mockCommentLoading:f,isDarkTheme:r,isLiked:u,siteLikes:m,handleLike:E}}}),_withScopeId$p=t=>(pushScopeId("data-v-648e0427"),t=t(),popScopeId(),t),_hoisted_1$E={class:"desktop-banner"},_hoisted_2$y=["disabled"],_hoisted_3$u=_withScopeId$p(()=>createBaseVNode("i",{class:"icon iconfont icon-heart"},null,-1)),_hoisted_4$t={class:"count"},_hoisted_5$r={class:"slogan"},_hoisted_6$o={class:"text"},_hoisted_7$m={class:"comment"};function _sfc_render$M(t,o,n,s,i,r){const a=resolveComponent("i18n"),l=resolveComponent("page-banner"),c=resolveComponent("uimage"),d=resolveComponent("comment");return openBlock(),createElementBlock("div",{class:normalizeClass(["guestbook-page",{dark:t.isDarkTheme}])},[createCommentVNode(" mobile-banner "),t.isMobile?(openBlock(),createBlock(l,{key:0,class:"mobile-banner","is-mobile":!0,position:70,blur:!1,image:t.bannerImage},{title:withCtx(()=>[createVNode(a,{lkey:t.LANGUAGE_KEYS.PAGE_GUESTBOOK},null,8,["lkey"])]),description:withCtx(()=>[createVNode(a,{lkey:t.LANGUAGE_KEYS.GUESTBOOK_SLOGAN},null,8,["lkey"])]),_:1},8,["image"])):(openBlock(),createElementBlock(Fragment,{key:1},[createCommentVNode(" desktop-banner "),createBaseVNode("div",_hoisted_1$E,[createVNode(c,{cdn:"",class:"image",src:t.bannerImage},null,8,["src"]),createBaseVNode("button",{class:normalizeClass(["like",{liked:t.isLiked}]),disabled:t.isLiked,onClick:o[0]||(o[0]=(...u)=>t.handleLike&&t.handleLike(...u))},[_hoisted_3$u,createBaseVNode("span",_hoisted_4$t,toDisplayString(t.isLiked?`${t.siteLikes-1} + 1`:t.siteLikes),1)],10,_hoisted_2$y),createBaseVNode("span",_hoisted_5$r,[createBaseVNode("span",_hoisted_6$o,[createVNode(a,{lkey:t.LANGUAGE_KEYS.GUESTBOOK_SLOGAN},null,8,["lkey"])])])])],2112)),createBaseVNode("div",_hoisted_7$m,[createVNode(d,{"post-id":0,plain:t.isMobile,fetching:t.mockCommentLoading},null,8,["plain","fetching"])])],2)}var GuestbookPage=_export_sfc(_sfc_main$M,[["render",_sfc_render$M],["__scopeId","data-v-648e0427"]]),app_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$L=defineComponent({name:"AppPage",props:{isMobile:{type:Boolean,default:!1}},setup(){const{i18n:t,meta:o,gtag:n,isZhLang:s}=useEnhancer();return o(()=>{const r=firstUpperCase(t.t(LANGUAGE_KEYS.PAGE_APP,Language.En));return{pageTitle:(s.value?[t.t(LANGUAGE_KEYS.PAGE_APP),r]:[r]).join(" | "),description:`${META.title} App \u4E0B\u8F7D`}}),{META,VALUABLE_LINKS,LANGUAGE_KEYS,handleAppEvent:r=>{n==null||n.event(r,{event_category:GAEventCategories.App})}}}}),_withScopeId$o=t=>(pushScopeId("data-v-6b0565d4"),t=t(),popScopeId(),t),_hoisted_1$D={class:"app"},_hoisted_2$x={class:"logo"},_hoisted_3$t={class:"title"},_hoisted_4$s={class:"description"},_hoisted_5$q={class:"rss"},_hoisted_6$n={class:"prefix"},_hoisted_7$l={class:"deprecated"},_hoisted_8$h=["href"],_hoisted_9$g={class:"suffix"},_hoisted_10$c={class:"screen"},_hoisted_11$a={class:"download"},_hoisted_12$a=_withScopeId$o(()=>createBaseVNode("i",{class:"icon iconfont icon-android"},null,-1)),_hoisted_13$a=_withScopeId$o(()=>createBaseVNode("span",{class:"text"},"Android",-1)),_hoisted_14$9=_withScopeId$o(()=>createBaseVNode("i",{class:"new-window iconfont icon-new-window-s"},null,-1)),_hoisted_15$9=_withScopeId$o(()=>createBaseVNode("i",{class:"icon iconfont icon-apple"},null,-1)),_hoisted_16$7=_withScopeId$o(()=>createBaseVNode("span",{class:"text"},"iOS",-1)),_hoisted_17$7=_withScopeId$o(()=>createBaseVNode("i",{class:"new-window iconfont icon-new-window-s"},null,-1)),_hoisted_18$7=_withScopeId$o(()=>createBaseVNode("i",{class:"iconfont icon-git"},null,-1)),_hoisted_19$4=createTextVNode(" Source Code ");function _sfc_render$L(t,o,n,s,i,r){const a=resolveComponent("uimage"),l=resolveComponent("i18n"),c=resolveComponent("ulink");return openBlock(),createElementBlock("div",{class:normalizeClass(["app-page",{mobile:t.isMobile}])},[createBaseVNode("div",_hoisted_1$D,[createBaseVNode("div",_hoisted_2$x,[createVNode(a,{cdn:"",alt:"app-logo",src:"/images/page-app/logo.png"})]),createBaseVNode("h2",_hoisted_3$t,toDisplayString(t.META.title),1),createBaseVNode("p",_hoisted_4$s,[createVNode(l,{lkey:t.LANGUAGE_KEYS.APP_SLOGAN},null,8,["lkey"])]),createBaseVNode("p",_hoisted_5$q,[createBaseVNode("span",_hoisted_6$n,[createVNode(l,{zh:"\uFF08",en:"["})]),createBaseVNode("span",_hoisted_7$l,[createVNode(l,{zh:"\u6B64\u9879\u76EE\u5DF2\u5E9F\u5F03\uFF01",en:"DEPRECATED!"})]),createVNode(l,{zh:"\u5EFA\u8BAE\u4F7F\u7528",en:"Recommend"}),createBaseVNode("a",{class:"link",href:t.VALUABLE_LINKS.RSS,target:"_blank"},[createVNode(l,{zh:"RSS \u8BA2\u9605",en:"RSS subscription"})],8,_hoisted_8$h),createBaseVNode("span",_hoisted_9$g,[createVNode(l,{zh:"\uFF09",en:"]"})])]),createBaseVNode("div",_hoisted_10$c,[createVNode(a,{cdn:"",alt:"app-hot",class:"screen-img",src:"/images/page-app/hot.png"}),createBaseVNode("div",_hoisted_11$a,[createVNode(a,{cdn:"",class:"qrcode",alt:"qrcode",src:"/images/page-app/qrcode.png"}),createVNode(c,{class:"button",href:t.VALUABLE_LINKS.APP_APK_FILE,onMousedown:o[0]||(o[0]=d=>t.handleAppEvent("download_android_app"))},{default:withCtx(()=>[_hoisted_12$a,_hoisted_13$a,_hoisted_14$9]),_:1},8,["href"]),createVNode(c,{class:"button",href:t.VALUABLE_LINKS.GITHUB_SURMON_ME_NATIVE+"#ios",onMousedown:o[1]||(o[1]=d=>t.handleAppEvent("download_ios_app"))},{default:withCtx(()=>[_hoisted_15$9,_hoisted_16$7,_hoisted_17$7]),_:1},8,["href"]),createVNode(c,{class:"source-code",href:t.VALUABLE_LINKS.GITHUB_SURMON_ME_NATIVE,onMousedown:o[2]||(o[2]=d=>t.handleAppEvent("app_source_code"))},{default:withCtx(()=>[_hoisted_18$7,_hoisted_19$4]),_:1},8,["href"])])])])],2)}var AppPage=_export_sfc(_sfc_main$L,[["render",_sfc_render$L],["__scopeId","data-v-6b0565d4"]]),TunnelModule;(function(t){t.Instagram="instagram",t.YouTubePlaylist="youtube_playlist",t.YouTubeVideoList="youtube_video_list",t.BiliBili="bilibili",t.Wallpaper="wallpaper",t.GitHub="gitHub",t.Music="music"})(TunnelModule||(TunnelModule={}));const BFF_TUNNEL_PREFIX="/_tunnel",tunnel=axios.create({baseURL:BFF_TUNNEL_PREFIX,proxy:isServer});tunnel.interceptors.response.use(t=>t.data);const service={$:tunnel,request:(...t)=>tunnel.request(...t),dispatch:(t,o)=>tunnel.get(t,{params:o})},createMusicPlayer=t=>{var C;const{amplitude:o}=t,n=(C=t.volume)!=null?C:40,s=reactive({inited:!1,ready:!1,index:0,count:0,volume:n,wave:!1,playing:!1,speeds:0,progress:0}),i=computed(()=>s.volume===0),r=reactive({fetching:!1,data:[]}),a=computed(()=>r.data.map(A=>S(y({},A),{url:`https://music.163.com/song/media/outer/url?id=${A.id}.mp3`,cover_art_url:A.cover_art_url?getTargetProxyURL(A.cover_art_url+"?param=600y600",ProxyModule.NetEasyMusic):null}))),l=async()=>{try{r.fetching=!0,r.data=await service.dispatch(TunnelModule.Music),s.count=r.data.length}catch(A){throw r.data=[],s.count=0,A}finally{r.fetching=!1}},c=computed(()=>s.inited&&s.index!==void 0?o.getActiveSongMetadata():UNDEFINED),d=()=>o.play(),u=()=>o.pause(),m=()=>o.prev(),g=()=>o.next(),f=A=>o.setVolume(A),$=()=>f(i.value?n:0),E=()=>o.getPlayerState()==="playing"?u():d(),v=A=>{o.init({delay:668,debug:!1,volume:s.volume,songs:A,start_song:0,continue_next:!0,callbacks:{initialized:()=>{s.ready=!0,s.inited=!0},play:()=>{s.ready=!0,s.wave=!0,s.playing=!0},pause:()=>{s.wave=!1,s.playing=!1},stop:()=>{s.wave=!1,s.playing=!1},volumechange:()=>{s.volume=o.getVolume()},timeupdate:()=>{s.speeds=o.getSongPlayedSeconds(),s.progress=o.getSongPlayedPercentage()},song_change:()=>{s.index=o.getActiveIndex()},ended:()=>{s.playing=!1},error:B=>{console.warn("\u64AD\u653E\u5668\u51FA\u73B0\u5F02\u5E38\uFF0C\u81EA\u52A8\u4E0B\u4E00\u9996\uFF01",s.index,B),s.playing=!1,window.setTimeout(g,1668)}}}),o.setRepeat(!0)},N=async()=>{try{if(await l(),!a.value.length){s.ready=!1,console.warn("\u64AD\u653E\u5217\u8868\u4E3A\u7A7A\uFF0C\u672A\u627E\u5230\u6709\u6548\u97F3\u4E50\uFF0C\u65E0\u6CD5\u521D\u59CB\u5316\uFF01");return}v(a.value)}catch(A){s.ready=!1,console.warn("\u64AD\u653E\u5217\u8868\u8BF7\u6C42\u5931\u8D25\uFF0C\u65E0\u6CD5\u521D\u59CB\u5316\uFF01",A)}};return{state:readonly(s),muted:i,currentSong:c,start:N,play:d,pause:u,changeVolume:f,toggleMuted:$,togglePlay:E,prevSong:m,nextSong:g}},MusicPlayerSymbol=Symbol("music-player"),createMusic=t=>{const o=createMusicPlayer(t);return t.autoStart&&o.start(),S(y({},o),{install(n){n.provide(MusicPlayerSymbol,o)}})},useMusic=()=>inject(MusicPlayerSymbol);var music_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$K=defineComponent({name:"MusicPage",setup(){const{i18n:t,meta:o,isZhLang:n}=useEnhancer(),s=useMusic(),i=computed(()=>Boolean(s==null?void 0:s.muted.value)),r=computed(()=>s==null?void 0:s.currentSong.value);o(()=>{const m=firstUpperCase(t.t(LANGUAGE_KEYS.PAGE_MUSIC,Language.En));return{pageTitle:(n.value?[t.t(LANGUAGE_KEYS.PAGE_MUSIC),m]:[m]).join(" | ")}});const a=parseFloat((15/450*100).toFixed(1)),l=50-a/2,c=2*Math.PI*l,d=(()=>{const m=parseInt(String(l),10);return`M 50 50 m 0 -${m} a ${m} ${m} 0 1 1 0 ${m*2} a ${m} ${m} 0 1 1 0 -${m*2}`})(),u=computed(()=>s?{strokeDasharray:`${c}px, ${c}px`,strokeDashoffset:(1-s.state.progress/100)*c+"px"}:{});return{player:s,muted:i,currentSong:r,trackPath:d,relativeStrokeWidth:a,circlePathStyle:u}}}),_withScopeId$n=t=>(pushScopeId("data-v-b8407c1a"),t=t(),popScopeId(),t),_hoisted_1$C={class:"music-page"},_hoisted_2$w={class:"player"},_hoisted_3$s=["disabled"],_hoisted_4$r=_withScopeId$n(()=>createBaseVNode("i",{class:"iconfont icon-music-prev"},null,-1)),_hoisted_5$p=[_hoisted_4$r],_hoisted_6$m={class:"album-box"},_hoisted_7$k={class:"circle-progress"},_hoisted_8$g={viewBox:"0 0 100 100"},_hoisted_9$f=["d","stroke-width"],_hoisted_10$b=["d","stroke-width"],_hoisted_11$9=["src"],_hoisted_12$9={class:"toggle-box"},_hoisted_13$9=["disabled"],_hoisted_14$8={class:"toggle-muted"},_hoisted_15$8=["disabled"],_hoisted_16$6=["disabled"],_hoisted_17$6=_withScopeId$n(()=>createBaseVNode("i",{class:"iconfont icon-music-next"},null,-1)),_hoisted_18$6=[_hoisted_17$6],_hoisted_19$3={class:"song-info"},_hoisted_20$3={class:"name"},_hoisted_21$2=createTextVNode("Kind words are the music of the world.");function _sfc_render$K(t,o,n,s,i,r){var a,l,c,d,u,m,g,f;return openBlock(),createElementBlock("div",_hoisted_1$C,[createBaseVNode("div",_hoisted_2$w,[createBaseVNode("button",{class:"prev-song",disabled:!((l=(a=t.player)==null?void 0:a.state)==null?void 0:l.ready),onClick:o[0]||(o[0]=$=>{var E;return(E=t.player)==null?void 0:E.prevSong()})},_hoisted_5$p,8,_hoisted_3$s),createBaseVNode("div",_hoisted_6$m,[createBaseVNode("div",_hoisted_7$k,[(openBlock(),createElementBlock("svg",_hoisted_8$g,[createBaseVNode("path",{class:"circle-progress-circle-track",fill:"none",d:t.trackPath,"stroke-width":t.relativeStrokeWidth},null,8,_hoisted_9$f),createBaseVNode("path",{class:"circle-progress-circle-path","stroke-linecap":"bevel",fill:"none",d:t.trackPath,"stroke-width":t.relativeStrokeWidth,style:normalizeStyle(t.circlePathStyle)},null,12,_hoisted_10$b)]))]),createBaseVNode("div",{class:normalizeClass(["song-bg-box",{playing:(c=t.player)==null?void 0:c.state.playing}])},[createBaseVNode("img",{src:(d=t.currentSong)==null?void 0:d.cover_art_url,draggable:"false"},null,8,_hoisted_11$9)],2),createBaseVNode("div",_hoisted_12$9,[createVNode(Transition,{name:"module",mode:"out-in"},{default:withCtx(()=>{var $,E,v;return[(openBlock(),createElementBlock("button",{key:(($=t.player)==null?void 0:$.state.playing)?"pause":"play",disabled:!((E=t.player)==null?void 0:E.state.ready),class:"toggle-btn",onClick:o[1]||(o[1]=N=>{var C;return(C=t.player)==null?void 0:C.togglePlay()})},[createBaseVNode("i",{class:normalizeClass(["iconfont",((v=t.player)==null?void 0:v.state.playing)?"icon-music-pause":"icon-music-play"])},null,2)],8,_hoisted_13$9))]}),_:1})]),createBaseVNode("div",_hoisted_14$8,[createBaseVNode("button",{class:"muted-btn",disabled:!((u=t.player)==null?void 0:u.state.ready),onClick:o[2]||(o[2]=$=>{var E;return(E=t.player)==null?void 0:E.toggleMuted()})},[createBaseVNode("i",{class:normalizeClass(["iconfont",t.muted?"icon-music-muted":"icon-music-unmuted"])},null,2)],8,_hoisted_15$8)])]),createBaseVNode("button",{class:"next-song",disabled:!((m=t.player)==null?void 0:m.state.ready),onClick:o[3]||(o[3]=$=>{var E;return(E=t.player)==null?void 0:E.nextSong()})},_hoisted_18$6,8,_hoisted_16$6)]),createBaseVNode("div",_hoisted_19$3,[createBaseVNode("h4",_hoisted_20$3,[t.currentSong?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(t.currentSong.name)+" By "+toDisplayString(t.currentSong.artist)+" | "+toDisplayString(t.currentSong.album||"unknow"),1)],2112)):(openBlock(),createElementBlock(Fragment,{key:1},[_hoisted_21$2],2112))]),createBaseVNode("h5",null,toDisplayString((((g=t.player)==null?void 0:g.state.index)||0)+1)+" / "+toDisplayString(((f=t.player)==null?void 0:f.state.count)||"Infinity"),1)])])}var MusicPage=_export_sfc(_sfc_main$K,[["render",_sfc_render$K],["__scopeId","data-v-b8407c1a"]]);const LENS_NORMAL_DELAY=480,useLensStore=defineStore("lens",{state:()=>({instagram:{fetching:!1,data:[]},youtube:{fetching:!1,data:[]},bilibili:{fetching:!1,data:[]}}),actions:{fetchInstagramMedias(){this.instagram.fetching=!0;const t=service.dispatch(TunnelModule.Instagram);return delayPromise(LENS_NORMAL_DELAY,t).then(n=>{this.instagram.data=n}).finally(()=>{this.instagram.fetching=!1})},fetchYouTubePlaylist(){return this.youtube.data.length?Promise.resolve():(this.youtube.fetching=!0,service.dispatch(TunnelModule.YouTubePlaylist).then(t=>{t.sort((o,n)=>o.snippet.position-n.snippet.position),this.youtube.data=t}).finally(()=>{this.youtube.fetching=!1}))},fetchYouTubeVideoList(t){const o=service.dispatch(TunnelModule.YouTubeVideoList,{id:t});return delayPromise(LENS_NORMAL_DELAY,o)},fetchBilibiliVideos(){return this.bilibili.data.length?Promise.resolve():(this.bilibili.fetching=!0,service.dispatch(TunnelModule.BiliBili).then(t=>{this.bilibili.data=t}).finally(()=>{this.bilibili.fetching=!1}))}}}),getInstagramImage=(t,o)=>getTargetProxyURL(o?`${t.permalink}media/?size=${o}`:t.media_url,ProxyModule.Instagram),getYouTubePlaylistURL=t=>`https://www.youtube.com/playlist?list=${t}`,getYouTubeVideoEmbedURL=(t,o)=>{const n=o?`?list=${o}`:"";return`https://www.youtube.com/embed/${t}${n}`},randomNumber=t=>Math.floor(Math.random()*t)+1;var skeleton_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$J=defineComponent({name:"LensSkeleton",props:{columns:{type:Number,required:!0},rows:{type:Number,default:2},height:{type:Number,required:!0}}});function _sfc_render$J(t,o,n,s,i,r){const a=resolveComponent("skeleton-base");return openBlock(),createElementBlock("ul",{class:"skeletons",style:normalizeStyle({gridTemplateColumns:`repeat(${t.columns}, 1fr)`})},[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.columns*t.rows,l=>(openBlock(),createElementBlock("div",{class:"item",style:normalizeStyle({height:`${t.height}px`}),key:l},[createVNode(a)],4))),128))],4)}var LensSkeleton=_export_sfc(_sfc_main$J,[["render",_sfc_render$J],["__scopeId","data-v-4b617491"]]),gallery_vue_vue_type_style_index_0_scoped_true_lang="",GalleryEvents;(function(t){t.Close="close"})(GalleryEvents||(GalleryEvents={}));const _sfc_main$I=defineComponent({name:"LensInstagramGallery",components:{Swiper:Swiper$1,SwiperSlide},props:{medias:{type:Array,required:!0},index:{type:Number,default:0},visible:{type:Boolean,default:!1}},emits:[GalleryEvents.Close],setup(t,o){const{i18n:n}=useEnhancer(),s=g=>humanizeYMD(g,n.language.value),i=ref(t.index),r=ref(),a=computed(()=>t.medias[i.value]);return{galleryActiveIndex:i,galleryActiveMedia:a,humanlizeDate:s,getInstagramImage,handleGalleryClose:()=>{o.emit(GalleryEvents.Close)},handleGallerySwiperReady:g=>{r.value=g},handleGallerySwiperTransitionStart:()=>{var g;i.value=((g=r.value)==null?void 0:g.activeIndex)||0},galleryPrevSlide:()=>{var g;return(g=r.value)==null?void 0:g.slidePrev()},galleryNextSlide:()=>{var g;return(g=r.value)==null?void 0:g.slideNext()}}}}),_withScopeId$m=t=>(pushScopeId("data-v-65e2e5c5"),t=t(),popScopeId(),t),_hoisted_1$B={class:"instagram-gallery"},_hoisted_2$v={class:"topbar"},_hoisted_3$r={class:"left"},_hoisted_4$q={class:"timestamp"},_hoisted_5$o=_withScopeId$m(()=>createBaseVNode("i",{class:"iconfont icon-clock"},null,-1)),_hoisted_6$l={class:"text"},_hoisted_7$j={class:"center"},_hoisted_8$f={class:"pagination"},_hoisted_9$e={class:"right"},_hoisted_10$a={key:0,class:"caption"},_hoisted_11$8=_withScopeId$m(()=>createBaseVNode("i",{class:"iconfont icon-camera"},null,-1)),_hoisted_12$8={class:"text"},_hoisted_13$8=_withScopeId$m(()=>createBaseVNode("i",{class:"iconfont instagram icon-instagram"},null,-1)),_hoisted_14$7=_withScopeId$m(()=>createBaseVNode("span",{class:"text"},"On Instagram",-1)),_hoisted_15$7=_withScopeId$m(()=>createBaseVNode("i",{class:"iconfont window icon-new-window-s"},null,-1)),_hoisted_16$5=["disabled"],_hoisted_17$5=_withScopeId$m(()=>createBaseVNode("i",{class:"iconfont icon-prev"},null,-1)),_hoisted_18$5=[_hoisted_17$5],_hoisted_19$2=["disabled"],_hoisted_20$2=_withScopeId$m(()=>createBaseVNode("i",{class:"iconfont icon-next"},null,-1)),_hoisted_21$1=[_hoisted_20$2],_hoisted_22$1=["data-background","alt"],_hoisted_23=_withScopeId$m(()=>createBaseVNode("div",{class:"swiper-lazy-preloader swiper-lazy-preloader-white"},null,-1));function _sfc_render$I(t,o,n,s,i,r){const a=resolveComponent("divider"),l=resolveComponent("ulink"),c=resolveComponent("swiper-slide"),d=resolveComponent("swiper"),u=resolveComponent("popup");return openBlock(),createBlock(u,{visible:t.visible,onClose:t.handleGalleryClose},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$B,[createBaseVNode("div",_hoisted_2$v,[createBaseVNode("div",_hoisted_3$r,[createBaseVNode("span",_hoisted_4$q,[_hoisted_5$o,createBaseVNode("span",_hoisted_6$l,toDisplayString(t.humanlizeDate(t.galleryActiveMedia.timestamp)),1)])]),createBaseVNode("div",_hoisted_7$j,[createBaseVNode("span",_hoisted_8$f,toDisplayString(t.galleryActiveIndex+1)+" / "+toDisplayString(t.medias.length),1)]),createBaseVNode("div",_hoisted_9$e,[t.galleryActiveMedia.caption?(openBlock(),createElementBlock("span",_hoisted_10$a,[_hoisted_11$8,createBaseVNode("span",_hoisted_12$8,toDisplayString(t.galleryActiveMedia.caption),1),createVNode(a,{type:"vertical"})])):createCommentVNode("v-if",!0),createVNode(l,{class:"link",href:t.galleryActiveMedia.permalink},{default:withCtx(()=>[_hoisted_13$8,_hoisted_14$7,_hoisted_15$7]),_:1},8,["href"])])]),createBaseVNode("button",{class:"navigation prev",disabled:t.galleryActiveIndex===0,onClick:o[0]||(o[0]=(...m)=>t.galleryPrevSlide&&t.galleryPrevSlide(...m))},_hoisted_18$5,8,_hoisted_16$5),createBaseVNode("button",{class:"navigation next",disabled:t.galleryActiveIndex===t.medias.length-1,onClick:o[1]||(o[1]=(...m)=>t.galleryNextSlide&&t.galleryNextSlide(...m))},_hoisted_21$1,8,_hoisted_19$2),createVNode(d,{effect:"fade","fade-effect":{crossFade:!0},"initial-slide":t.index,mousewheel:!0,"observe-parents":!0,"grab-cursor":!1,"preload-images":!1,lazy:!0,"simulate-touch":!1,onSwiper:t.handleGallerySwiperReady,onTransitionStart:t.handleGallerySwiperTransitionStart},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.medias,(m,g)=>(openBlock(),createBlock(c,{key:g},{default:withCtx(()=>[createBaseVNode("div",{class:"image swiper-lazy","data-background":t.getInstagramImage(m),alt:m.caption},null,8,_hoisted_22$1),_hoisted_23]),_:2},1024))),128))]),_:1},8,["initial-slide","onSwiper","onTransitionStart"])])]),_:1},8,["visible","onClose"])}var Gallery=_export_sfc(_sfc_main$I,[["render",_sfc_render$I],["__scopeId","data-v-65e2e5c5"]]),grid_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$H=defineComponent({name:"LensInstagramGrid",components:{Gallery},props:{medias:{type:Array,required:!0}},setup(){const{gtag:t}=useEnhancer(),o=ref(),n=computed(()=>o.value!==UNDEFINED),s=()=>{o.value=UNDEFINED},i=c=>{o.value=c,t==null||t.event("instagram_view",{event_category:GAEventCategories.Lens})},r=ref(),a=ref(null),l=()=>{var d;const c=(d=r.value)==null?void 0:d.querySelectorAll(`.${LOZAD_CLASS_NAME}`);(c==null?void 0:c.length)&&(a.value=window.$lozad(c,{loaded:u=>u.classList.add(LOADED_CLASS_NAME)}),a.value.observe())};return onMounted(()=>{l()}),onBeforeUnmount(()=>{var c;(c=a.value)==null||c.observer.disconnect(),a.value=null}),{listElement:r,isOnGallery:n,galleryActiveIndex:o,getInstagramImage,handleGalleryOpen:i,handleGalleryClose:s}}}),_withScopeId$l=t=>(pushScopeId("data-v-2a5129fe"),t=t(),popScopeId(),t),_hoisted_1$A={class:"instagram-grid"},_hoisted_2$u={class:"medias",ref:"listElement"},_hoisted_3$q=["title","onClick"],_hoisted_4$p=_withScopeId$l(()=>createBaseVNode("div",{class:"mask"},[createBaseVNode("span",{class:"icon"},[createBaseVNode("i",{class:"iconfont icon-magnifier"})])],-1)),_hoisted_5$n=["data-background-image"];function _sfc_render$H(t,o,n,s,i,r){const a=resolveComponent("gallery"),l=resolveComponent("client-only");return openBlock(),createElementBlock("div",_hoisted_1$A,[createBaseVNode("ul",_hoisted_2$u,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.medias,(c,d)=>(openBlock(),createElementBlock("li",{class:"media",key:d,title:c.caption,onClick:u=>t.handleGalleryOpen(d)},[_hoisted_4$p,createBaseVNode("div",{class:"background lozad","data-background-image":t.getInstagramImage(c,"m")},null,8,_hoisted_5$n)],8,_hoisted_3$q))),128))],512),createVNode(l,null,{default:withCtx(()=>[createVNode(a,{medias:t.medias,index:t.galleryActiveIndex,visible:t.isOnGallery,onClose:t.handleGalleryClose},null,8,["medias","index","visible","onClose"])]),_:1})])}var InstagramGrid=_export_sfc(_sfc_main$H,[["render",_sfc_render$H],["__scopeId","data-v-2a5129fe"]]),swiper_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$G=defineComponent({name:"LensListSwiper",components:{Swiper:Swiper$1,SwiperSlide},props:{data:{type:Array,required:!0},rows:{type:Number,default:2},columns:{type:Number,default:5}},setup(){const t=ref(null),o=reactive({canPrev:!1,canNext:!0}),n=ref(),s=()=>{var c;return(c=n.value)==null?void 0:c.slidePrev()},i=()=>{var c;return(c=n.value)==null?void 0:c.slideNext()},r=c=>{o.canNext=!c.isEnd,o.canPrev=!c.isBeginning},a=c=>{n.value=c,r(c)},l=()=>{var d;const c=(d=n.value)==null?void 0:d.el.querySelectorAll(`.${LOZAD_CLASS_NAME}`);(c==null?void 0:c.length)&&(t.value=window.$lozad(c,{loaded:u=>u.classList.add(LOADED_CLASS_NAME)}),t.value.observe())};return onMounted(()=>{l()}),onBeforeUnmount(()=>{var c;(c=t.value)==null||c.observer.disconnect(),t.value=null}),{handleListSwiperReady:a,handleListSlideChange:r,listSwiperState:o,listPrevSlide:s,listNextSlide:i}}}),_withScopeId$k=t=>(pushScopeId("data-v-7aafddce"),t=t(),popScopeId(),t),_hoisted_1$z={class:"list-swiper"},_hoisted_2$t={class:"navigation prev"},_hoisted_3$p=["disabled"],_hoisted_4$o=_withScopeId$k(()=>createBaseVNode("i",{class:"iconfont icon-prev"},null,-1)),_hoisted_5$m=[_hoisted_4$o],_hoisted_6$k={class:"navigation next"},_hoisted_7$i=["disabled"],_hoisted_8$e=_withScopeId$k(()=>createBaseVNode("i",{class:"iconfont icon-next"},null,-1)),_hoisted_9$d=[_hoisted_8$e];function _sfc_render$G(t,o,n,s,i,r){const a=resolveComponent("swiper-slide"),l=resolveComponent("swiper",!0);return openBlock(),createElementBlock("div",_hoisted_1$z,[createBaseVNode("div",_hoisted_2$t,[createBaseVNode("button",{class:"button",disabled:!t.listSwiperState.canPrev,onClick:o[0]||(o[0]=(...c)=>t.listPrevSlide&&t.listPrevSlide(...c))},_hoisted_5$m,8,_hoisted_3$p)]),createBaseVNode("div",_hoisted_6$k,[createBaseVNode("button",{class:"button",disabled:!t.listSwiperState.canNext,onClick:o[1]||(o[1]=(...c)=>t.listNextSlide&&t.listNextSlide(...c))},_hoisted_9$d,8,_hoisted_7$i)]),createVNode(l,{class:"swiper",autoplay:!0,mousewheel:!1,"grab-cursor":!1,"allow-touch-move":!1,"slides-per-view":t.columns,"slides-per-group":t.columns,grid:{rows:t.rows,fill:"row"},"space-between":24,onSwiper:t.handleListSwiperReady,onSlideChange:t.handleListSlideChange},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.data,(c,d)=>(openBlock(),createBlock(a,{class:"slide-item",key:d},{default:withCtx(()=>[renderSlot(t.$slots,"item",normalizeProps(guardReactiveProps({item:c,index:d})),void 0,!0)]),_:2},1024))),128))]),_:3},8,["slides-per-view","slides-per-group","grid","onSwiper","onSlideChange"])])}var ListSwiper=_export_sfc(_sfc_main$G,[["render",_sfc_render$G],["__scopeId","data-v-7aafddce"]]),videos_vue_vue_type_style_index_0_scoped_true_lang="",YoutubeVideoListEvents;(function(t){t.View="view"})(YoutubeVideoListEvents||(YoutubeVideoListEvents={}));const _sfc_main$F=defineComponent({name:"LensYoutubeVideoList",components:{ListSwiper},props:{playlistId:{type:String,required:!0}},emits:[YoutubeVideoListEvents.View],setup(t,o){const{i18n:n,gtag:s}=useEnhancer(),i=useLensStore(),r=ref(!0),a=ref([]),l=async()=>{try{r.value=!0,a.value=await i.fetchYouTubeVideoList(t.playlistId)}catch{a.value=[]}finally{r.value=!1}},c=m=>{var f,$,E;const g=((f=m.high)==null?void 0:f.url)||(($=m.medium)==null?void 0:$.url)||((E=m.defult)==null?void 0:E.url);return g?getTargetProxyURL(g,ProxyModule.YouTube):""},d=m=>timeAgo(m,n.language.value),u=m=>{o.emit(YoutubeVideoListEvents.View,m),s==null||s.event("youtube_view",{event_category:GAEventCategories.Lens})};return onMounted(()=>{l()}),{LANGUAGE_KEYS,isFetching:r,videos:a,humanlizeDate:d,getThumbURL:c,handleView:u}}}),_withScopeId$j=t=>(pushScopeId("data-v-3bccfcb8"),t=t(),popScopeId(),t),_hoisted_1$y=["onClick"],_hoisted_2$s={class:"thumb"},_hoisted_3$o=_withScopeId$j(()=>createBaseVNode("div",{class:"mask"},[createBaseVNode("div",{class:"button"},[createBaseVNode("i",{class:"iconfont icon-music-play"})])],-1)),_hoisted_4$n={class:"published-at"},_hoisted_5$l=_withScopeId$j(()=>createBaseVNode("i",{class:"iconfont icon-clock"},null,-1)),_hoisted_6$j={class:"text"},_hoisted_7$h=["data-background-image"],_hoisted_8$d={class:"title"},_hoisted_9$c={class:"description"};function _sfc_render$F(t,o,n,s,i,r){const a=resolveComponent("list-swiper"),l=resolveComponent("placeholder");return openBlock(),createBlock(l,{data:t.videos,loading:t.isFetching},{placeholder:withCtx(()=>[renderSlot(t.$slots,"empty",{},void 0,!0)]),loading:withCtx(()=>[renderSlot(t.$slots,"loading",{},void 0,!0)]),default:withCtx(()=>[createVNode(a,{data:t.videos},{item:withCtx(({item:c})=>[createBaseVNode("div",{class:"video",onClick:d=>t.handleView(c)},[createBaseVNode("div",_hoisted_2$s,[_hoisted_3$o,createBaseVNode("span",_hoisted_4$n,[_hoisted_5$l,createBaseVNode("span",_hoisted_6$j,toDisplayString(t.humanlizeDate(c.snippet.publishedAt)),1)]),createBaseVNode("div",{class:"background lozad","data-background-image":t.getThumbURL(c.snippet.thumbnails)},null,8,_hoisted_7$h)]),createBaseVNode("h5",_hoisted_8$d,toDisplayString(c.snippet.title),1),createBaseVNode("div",_hoisted_9$c,toDisplayString(c.snippet.description||"-"),1)],8,_hoisted_1$y)]),_:1},8,["data"])]),_:3},8,["data","loading"])}var YoutubeVideoList=_export_sfc(_sfc_main$F,[["render",_sfc_render$F],["__scopeId","data-v-3bccfcb8"]]),playlist_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$E=defineComponent({name:"LensPageYoutubePlaylist",components:{YoutubeVideoList},props:{playlists:{type:Array,required:!0}},setup(){const t=ref(null),o=computed(()=>Boolean(t.value)),n=computed(()=>{const r=t.value;return r?getYouTubeVideoEmbedURL(r.snippet.resourceId.videoId,r.snippet.playlistId):UNDEFINED});return{isOnYouTubeModal:o,youTubeModalURL:n,openYouTubeModal:r=>{t.value=r},closeYouTubeModal:()=>{t.value=null}}}}),_hoisted_1$x={class:"youtube-playlist"},_hoisted_2$r={class:"playlist"},_hoisted_3$n=["title"],_hoisted_4$m=["src"];function _sfc_render$E(t,o,n,s,i,r){const a=resolveComponent("youtube-video-list"),l=resolveComponent("popup"),c=resolveComponent("client-only");return openBlock(),createElementBlock("div",_hoisted_1$x,[createBaseVNode("ul",_hoisted_2$r,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.playlists,(d,u)=>(openBlock(),createElementBlock("li",{class:"item",title:d.title,key:u},[renderSlot(t.$slots,"title",normalizeProps(guardReactiveProps({list:d,index:u})),void 0,!0),createVNode(a,{"playlist-id":d.id,onView:t.openYouTubeModal},{empty:withCtx(()=>[renderSlot(t.$slots,"empty",{},void 0,!0)]),loading:withCtx(()=>[renderSlot(t.$slots,"loading",{},void 0,!0)]),_:2},1032,["playlist-id","onView"])],8,_hoisted_3$n))),128))]),createVNode(c,null,{default:withCtx(()=>[createVNode(l,{visible:t.isOnYouTubeModal,onClose:t.closeYouTubeModal},{default:withCtx(()=>[createBaseVNode("iframe",{class:"youtube-modal",src:t.youTubeModalURL},null,8,_hoisted_4$m)]),_:1},8,["visible","onClose"])]),_:1})])}var YoutubePlaylist=_export_sfc(_sfc_main$E,[["render",_sfc_render$E],["__scopeId","data-v-17bc5c24"]]),index_vue_vue_type_style_index_0_scoped_true_lang$2="";const _sfc_main$D=defineComponent({name:"LensPage",components:{PageBanner,PageTitle,LensSkeleton,InstagramGrid,YoutubePlaylist},setup(){const{i18n:t,meta:o,isDarkTheme:n,isZhLang:s}=useEnhancer(),i=useLensStore(),r=computed(()=>i.instagram.data.filter(d=>d.media_type!=="VIDEO").slice(0,24)),a=computed(()=>i.youtube.data.filter(d=>d.contentDetails.itemCount>1)),l=universalRef("page-lens-banner",()=>`/images/page-lens/banner-${randomNumber(2)}.jpg`);o(()=>{const d=firstUpperCase(t.t(LANGUAGE_KEYS.PAGE_LENS,Language.En));return{pageTitle:(s.value?[t.t(LANGUAGE_KEYS.PAGE_LENS),d]:[d]).join(" | "),description:`${META.author} \u7684\u89C6\u9891\u521B\u4F5C`}});const c=()=>Promise.all([i.fetchInstagramMedias(),i.fetchYouTubePlaylist()]);return useUniversalFetch(()=>c()),{VALUABLE_LINKS,LANGUAGE_KEYS,getYouTubePlaylistURL,lensStore:i,instagramMedias:r,youtubeLists:a,isDarkTheme:n,bannerImageURL:l}}}),_withScopeId$i=t=>(pushScopeId("data-v-d2f8faa6"),t=t(),popScopeId(),t),_hoisted_1$w=createTextVNode("\u751F\u5982\u9006\u65C5\uFF0C\u4E00\u82C7\u4EE5\u822A"),_hoisted_2$q=createTextVNode('"why did you want to climb mount Everest?"'),_hoisted_3$m={class:"container"},_hoisted_4$l=createTextVNode("Newest \xB7 instagram"),_hoisted_5$k={class:"module-content"},_hoisted_6$i={class:"module-content"},_hoisted_7$g=_withScopeId$i(()=>createBaseVNode("span",{class:"brand"},"YouTube \xB7 Channel",-1));function _sfc_render$D(t,o,n,s,i,r){const a=resolveComponent("i18n"),l=resolveComponent("page-banner"),c=resolveComponent("ulink"),d=resolveComponent("page-title"),u=resolveComponent("empty"),m=resolveComponent("lens-skeleton"),g=resolveComponent("instagram-grid"),f=resolveComponent("placeholder"),$=resolveComponent("youtube-playlist");return openBlock(),createElementBlock("div",{class:normalizeClass(["lens-page",{dark:t.isDarkTheme}])},[createVNode(l,{blur:!1,position:36,image:t.bannerImageURL},{title:withCtx(()=>[createVNode(a,{zh:"\u51E1\u5FC3\u6240\u5411\uFF0C\u7D20\u5C65\u4EE5\u5F80",en:"Because it's there"})]),description:withCtx(()=>[createVNode(a,null,{zh:withCtx(()=>[_hoisted_1$w]),en:withCtx(()=>[_hoisted_2$q]),_:1})]),_:1},8,["image"]),createBaseVNode("div",_hoisted_3$m,[createVNode(d,{class:"module-title instagram",level:4},{default:withCtx(()=>[createVNode(c,{class:"link",href:t.VALUABLE_LINKS.INSTAGRAM},{default:withCtx(()=>[_hoisted_4$l]),_:1},8,["href"])]),_:1}),createVNode(f,{data:t.instagramMedias,loading:t.lensStore.instagram.fetching},{placeholder:withCtx(()=>[createVNode(u,{class:"module-empty",key:"empty"},{default:withCtx(()=>[createVNode(a,{lkey:t.LANGUAGE_KEYS.EMPTY_PLACEHOLDER},null,8,["lkey"])]),_:1})]),loading:withCtx(()=>[createVNode(m,{columns:6,rows:2,height:155,key:"loading",class:"module-loading"})]),default:withCtx(()=>[createBaseVNode("div",_hoisted_5$k,[createVNode(g,{medias:t.instagramMedias},null,8,["medias"])])]),_:1},8,["data","loading"]),createBaseVNode("div",_hoisted_6$i,[createVNode($,{playlists:t.youtubeLists},{title:withCtx(({list:E})=>[createVNode(d,{class:"module-title youtube",level:5},{left:withCtx(()=>[createVNode(c,{class:"link",href:t.getYouTubePlaylistURL(E.id)},{default:withCtx(()=>[createTextVNode(toDisplayString(E.snippet.title)+" ("+toDisplayString(E.contentDetails.itemCount)+") ",1)]),_:2},1032,["href"])]),right:withCtx(()=>[_hoisted_7$g]),_:2},1024)]),loading:withCtx(()=>[createVNode(m,{columns:5,rows:1,height:170,key:"loading",class:"module-loading"})]),empty:withCtx(()=>[createVNode(u,{class:"module-empty",key:"empty"},{default:withCtx(()=>[createVNode(a,{lkey:t.LANGUAGE_KEYS.EMPTY_PLACEHOLDER},null,8,["lkey"])]),_:1})]),_:1},8,["playlists"])])])],2)}var LensPage=_export_sfc(_sfc_main$D,[["render",_sfc_render$D],["__scopeId","data-v-d2f8faa6"]]);const emailLink=t=>{if(typeof t=="string")return`mailto:${t}`;const i=t,{email:n}=i,s=V(i,["email"]);return`mailto:${n}?`+lib.stringify(s)};var job_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$C=defineComponent({name:"JobPage",components:{PageBanner},setup(){const{i18n:t,meta:o,gtag:n,isZhLang:s}=useEnhancer(),i=computed(()=>{var l;return((l=useMetaStore().appOptions.data)==null?void 0:l.site_email)||""});return o(()=>{const l=firstUpperCase(t.t(LANGUAGE_KEYS.PAGE_JOB,Language.En));return{pageTitle:(s.value?[t.t(LANGUAGE_KEYS.PAGE_JOB),l]:[l]).join(" | "),description:`\u627E ${META.author} \u5185\u63A8`}}),{jobs:[{id:"qiniu",company:"\u4E03\u725B\u4E91",logo:"/images/page-job/qiniu.jpg",url:"https://www.qiniu.com/company",location:"\u4E0A\u6D77",description:"\u516C\u53F8\u8D5A\u94B1\uFF0CLeader nice\uFF0C\u540C\u4E8B\u5B8C\u7F8E\uFF0C\u4E1A\u52A1\u9760\u8C31\uFF0C\u6781\u5C11\u52A0\u73ED",email:()=>i.value},{id:"bytedance",company:"\u5B57\u8282\u8DF3\u52A8",logo:"/images/page-job/bytedance.jpg",qrcode:"/images/page-job/bytedance-qrcode.png",url:"https://job.toutiao.com/s/J9oWrQQ",location:"\u56FD\u5185",description:"\u996D\u597D\u5403\uFF0C\u4E0D\u8981\u94B1<br> \u85AA\u8D44\u4E0D\u4F4E\uFF0C\u52A0\u73ED\u7ED9\u94B1\uFF1B\u9A6C\u4E0A\u4E0A\u5E02\uFF0C\u672A\u6765\u53EF\u671F",email:()=>i.value},{id:"meituan",company:"\u7F8E\u56E2\u70B9\u8BC4",logo:"/images/page-job/meituan.png",url:"http://zhaopin.meituan.com",description:"\u4F18\u60E0\u5238\u591A <br> \u6280\u672F OK",email:()=>"iamjooger@gmail.com"},{id:"ant",company:"\u8682\u8681\u91D1\u670D",location:"\u56FD\u5185",logo:"/images/page-job/ant.jpg",url:"https://www.antgroup.com/about/join-us",description:"\u5DE8\u5934\u5E02\u503C\uFF0C\u5927\u725B\u7FA4\u5C45",email:()=>i.value},{id:"github-veact",company:"GitHub Veact Project",location:"remote",logo:"/images/page-job/github.jpg",url:"https://github.com/veactjs",description:"Become the maintainer of the <code>veact</code> project",email:()=>i.value},{id:"todo",company:"\u5047\u88C5\u662F\u5E7F\u544A\u4F4D",logo:"/images/page-job/github.jpg",description:"\u5982\u679C\u4F60\u6709\u81EA\u8BA4\u4E3A\u4E0D\u9519\u7684\u673A\u4F1A\uFF0C\u8BF7\u8054\u7CFB\u6211~",email:()=>i.value}],handleSubmit:l=>{n==null||n.event("job_send_mail",{event_category:GAEventCategories.Universal});const c=l.location?`- ${l.location} `:"";window.open(emailLink({email:l.email(),subject:`\u55E8\uFF01\u6C42\u5185\u63A8\uFF01/ from ${META.title}`,body:`\u6211\u60F3\u6C42\u5185\u63A8\u300C${l.company} ${c}\u300D\u7684\u673A\u4F1A/\u804C\u4F4D\uFF0C\u6211\u5728\u7B80\u5386\u5728\u9644\u4EF6\u4E2D\u3002

from ${META.title}`}))},getTargetCDNURL}}}),_withScopeId$h=t=>(pushScopeId("data-v-2420d983"),t=t(),popScopeId(),t),_hoisted_1$v={class:"job-page"},_hoisted_2$p={class:"container"},_hoisted_3$l={class:"jobs"},_hoisted_4$k={class:"content"},_hoisted_5$j={key:0,class:"location"},_hoisted_6$h=["innerHTML"],_hoisted_7$f=["onClick"],_hoisted_8$c=_withScopeId$h(()=>createBaseVNode("i",{class:"iconfont icon-mail-plane"},null,-1));function _sfc_render$C(t,o,n,s,i,r){const a=resolveComponent("i18n"),l=resolveComponent("page-banner"),c=resolveComponent("Adsense"),d=resolveComponent("client-only"),u=resolveComponent("uimage"),m=resolveComponent("ulink");return openBlock(),createElementBlock("div",_hoisted_1$v,[createVNode(l,{blur:!1,image:"/images/page-job/banner-2.jpg"},{title:withCtx(()=>[createVNode(a,{zh:"\u5185\u63A8\u627E\u6211\uFF0C\u7EDD\u5BF9\u9760\u8C31",en:"We work together"})]),description:withCtx(()=>[createVNode(a,{zh:"\u4E00\u624B\u4EBA\u8109\uFF0C\u5047\u4E00\u8D54\u4E07",en:"We fight for future together"})]),_:1}),createBaseVNode("div",_hoisted_2$p,[createVNode(d,{transition:""},{default:withCtx(()=>[createVNode(c,{class:"mammon","ins-class":"mammon-ins","ins-style":"display:inline-block;width:1050px;height:130px","data-ad-slot":"3013952710"})]),_:1}),createBaseVNode("ul",_hoisted_3$l,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.jobs,(g,f)=>(openBlock(),createElementBlock("li",{class:normalizeClass(["item",g.id]),key:f},[createBaseVNode("div",{class:"logo",style:normalizeStyle({backgroundImage:`url('${t.getTargetCDNURL(g.logo)}')`})},[g.qrcode?(openBlock(),createBlock(u,{key:0,cdn:"",class:"qrcode",src:g.qrcode},null,8,["src"])):createCommentVNode("v-if",!0)],4),createBaseVNode("div",_hoisted_4$k,[createVNode(m,{class:"title",href:g.url},{default:withCtx(()=>[createTextVNode(toDisplayString(g.company)+" ",1),g.location?(openBlock(),createElementBlock("span",_hoisted_5$j,"\uFF08"+toDisplayString(g.location)+"\uFF09",1)):createCommentVNode("v-if",!0)]),_:2},1032,["href"]),g.description?(openBlock(),createElementBlock("p",{key:0,class:"description",innerHTML:g.description},null,8,_hoisted_6$h)):createCommentVNode("v-if",!0),g.email?(openBlock(),createElementBlock("button",{key:1,class:"submit",onClick:$=>t.handleSubmit(g)},[createTextVNode(toDisplayString(g.email().replace("@","#"))+" ",1),_hoisted_8$c],8,_hoisted_7$f)):createCommentVNode("v-if",!0)])],2))),128))])])])}var JobPage=_export_sfc(_sfc_main$C,[["render",_sfc_render$C],["__scopeId","data-v-2420d983"]]),product_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$B=defineComponent({name:"MerchProductItem",props:{product:{type:Object,required:!0},imageStyle:{type:Object,required:!1}},setup(){const{gtag:t}=useEnhancer();return{handleGTagEvent:(n,s)=>{t==null||t.event(n,{event_category:GAEventCategories.Universal,event_label:s})}}}}),_withScopeId$g=t=>(pushScopeId("data-v-d6184ba8"),t=t(),popScopeId(),t),_hoisted_1$u={class:"product"},_hoisted_2$o={class:"content"},_hoisted_3$k=["innerHTML"],_hoisted_4$j={class:"detail"},_hoisted_5$i={class:"text"},_hoisted_6$g=createTextVNode(" \u53BB\u770B\u770B "),_hoisted_7$e=_withScopeId$g(()=>createBaseVNode("i",{class:"iconfont icon-new-window"},null,-1));function _sfc_render$B(t,o,n,s,i,r){const a=resolveComponent("ulink");return openBlock(),createElementBlock("li",_hoisted_1$u,[createBaseVNode("div",{class:"image",style:normalizeStyle(y({backgroundImage:`url('${t.product.src}')`},t.imageStyle))},null,4),createBaseVNode("div",_hoisted_2$o,[createVNode(a,{class:"title",href:t.product.url},{default:withCtx(()=>[createTextVNode(toDisplayString(t.product.name),1)]),_:1},8,["href"]),createBaseVNode("p",{class:"description",innerHTML:t.product.description},null,8,_hoisted_3$k)]),createBaseVNode("div",_hoisted_4$j,[createBaseVNode("p",_hoisted_5$i,toDisplayString(t.product.detail||"\u6682\u65E0\u63CF\u8FF0"),1),createVNode(a,{class:"link",href:t.product.url,onMousedown:o[0]||(o[0]=l=>t.handleGTagEvent("merch_product_link",t.product.name))},{default:withCtx(()=>[_hoisted_6$g,_hoisted_7$e]),_:1},8,["href"])])])}var ProductItem=_export_sfc(_sfc_main$B,[["render",_sfc_render$B],["__scopeId","data-v-d6184ba8"]]),index_vue_vue_type_style_index_0_scoped_true_lang$1="";const _sfc_main$A=defineComponent({name:"MerchPage",components:{PageBanner,PageTitle,ProductItem},setup(){const{i18n:t,meta:o,isZhLang:n,adConfig:s}=useEnhancer(),i=computed(()=>s.value.PC_MERCH_PRODUCTS),r=computed(()=>s.value.PC_MERCH_BROKERS);return o(()=>{const a=firstUpperCase(t.t(LANGUAGE_KEYS.PAGE_MERCH,Language.En));return{pageTitle:(n.value?[t.t(LANGUAGE_KEYS.PAGE_MERCH),a]:[a]).join(" | "),description:`${META.author} \u7684\u5468\u8FB9\u597D\u7269`}}),{products:i,brokers:r}}}),_withScopeId$f=t=>(pushScopeId("data-v-2f78088a"),t=t(),popScopeId(),t),_hoisted_1$t={class:"merch-page"},_hoisted_2$n={class:"container"},_hoisted_3$j=createTextVNode("\u6211\u5728\u7528\u7684\u63A8\u8350\u597D\u7269"),_hoisted_4$i={class:"product-list"},_hoisted_5$h=createTextVNode("\u6211\u7B5B\u9009\u540E\u5728\u7528\u7684\u6E2F\u7F8E\u80A1\u5238\u5546"),_hoisted_6$f={class:"product-list"},_hoisted_7$d=_withScopeId$f(()=>createBaseVNode("div",{class:"end"},null,-1));function _sfc_render$A(t,o,n,s,i,r){const a=resolveComponent("i18n"),l=resolveComponent("page-banner"),c=resolveComponent("page-title"),d=resolveComponent("product-item");return openBlock(),createElementBlock("div",_hoisted_1$t,[createVNode(l,{blur:!1,position:70,image:"/images/page-merch/banner.jpg"},{title:withCtx(()=>[createVNode(a,{zh:"\u4EB2\u8EAB\u4F53\u9A8C\uFF0C\u771F\u5B9E\u4E0D\u865A",en:"Merch Bar"})]),description:withCtx(()=>[createVNode(a,{zh:"\u624B\u52A8\u7EF4\u62A4\uFF0C\u672A\u7528\u4E0D\u63A8",en:"Maybe you will like it"})]),_:1}),createBaseVNode("div",_hoisted_2$n,[createVNode(c,{class:"title",id:"products"},{default:withCtx(()=>[_hoisted_3$j]),_:1}),createBaseVNode("ul",_hoisted_4$i,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.products,(u,m)=>(openBlock(),createBlock(d,{key:m,product:u},null,8,["product"]))),128))]),createVNode(c,{class:"title",id:"brokers"},{default:withCtx(()=>[_hoisted_5$h]),_:1}),createBaseVNode("ul",_hoisted_6$f,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.brokers,(u,m)=>(openBlock(),createBlock(d,{key:m,product:u,"image-style":{backgroundSize:"50%"}},null,8,["product"]))),128))]),_hoisted_7$d])])}var MerchPage=_export_sfc(_sfc_main$A,[["render",_sfc_render$A],["__scopeId","data-v-2f78088a"]]);const _sfc_main$z=defineComponent({name:"UAdsense",props:{insClass:String,insStyle:String}});function _sfc_render$z(t,o,n,s,i,r){const a=resolveComponent("Adsense");return openBlock(),createBlock(a,{"ins-class":t.insClass||"","ins-style":t.insStyle,"data-ad-format":"auto","data-ad-slot":"7405264495","data-full-width-responsive":"true"},null,8,["ins-class","ins-style"])}var UAdsense=_export_sfc(_sfc_main$z,[["render",_sfc_render$z]]),freelancer_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$y=defineComponent({name:"FreelancerPage",components:{PageBanner,UAdsense},setup(){const{i18n:t,meta:o,gtag:n,isZhLang:s}=useEnhancer(),i=useMetaStore();return o(()=>{const c=firstUpperCase(t.t(LANGUAGE_KEYS.PAGE_FREELANCER,Language.En));return{pageTitle:(s.value?[t.t(LANGUAGE_KEYS.PAGE_FREELANCER),c]:[c]).join(" | ")}}),{VALUABLE_LINKS,LANGUAGE_KEYS,services:[{id:"web",iconfont:"icon-html5",name:{zh:"Web \u5BA2\u6237\u7AEF",en:"Web Client"},descriptions:[{zh:"Vue \u5E94\u7528\u5F00\u53D1",en:"Vue application"},{en:"React application",zh:"React \u5E94\u7528\u5F00\u53D1"},{en:"Angular application",zh:"Angular \u5E94\u7528\u5F00\u53D1"}]},{id:"nodejs",iconfont:"icon-nodejs",name:"Node.js",descriptions:[{en:"Node.js application",zh:"Node.js \u6574\u7AD9\u5EFA\u8BBE"},{en:"Node.js online bussniess",zh:"Node.js Web \u670D\u52A1\u5F00\u53D1"},{en:"Node.js CLI application",zh:"Node.js \u547D\u4EE4\u884C\u5DE5\u5177\u5F00\u53D1"}]},{id:"app",iconfont:"icon-app",name:{zh:"\u6DF7\u5408\u5E94\u7528",en:"Hybrid App"},descriptions:[{en:"Flutter application",zh:"Flutter \u5E94\u7528\u5F00\u53D1"},{en:"React Native application",zh:"React Native \u5E94\u7528\u5F00\u53D1"},{en:"Electron application",zh:"Electron \u5E94\u7528\u5F00\u53D1"}]},{id:"wechat",iconfont:"icon-wechat",name:{zh:"\u5FAE\u4FE1\u5468\u8FB9",en:"WeChat"},descriptions:[{en:"HTML5 web page",zh:"H5 \u5F00\u53D1"},{en:"WeChat official account",zh:"\u516C\u4F17\u53F7\u5F00\u53D1"},{en:"WeChat mini program",zh:"\u5C0F\u7A0B\u5E8F\u5F00\u53D1"}]},{id:"consult",iconfont:"icon-tool",name:{zh:"\u6280\u672F\u54A8\u8BE2",en:"Consultant"},descriptions:[{en:"Everything about web",zh:"\u8BED\u8A00\u3001\u6846\u67B6\u7591\u96BE\u6742\u75C7"},{en:"Business and technical",zh:"\u4E1A\u52A1\u4E0E\u6280\u672F\u65B9\u6848\u8BBE\u8BA1"},{en:"Technical consultant",zh:"\u957F\u671F\u6280\u672F\u987E\u95EE\u6307\u5BFC"}]}],steps:[{name:{zh:"1. \u63D0\u4EA4\u9700\u6C42",en:"1. Consult"},descriptions:[{en:"Product requirements document",zh:"\u63D0\u4F9B\u6784\u601D\u6210\u719F\u7684\u9700\u6C42\u6587\u6863"},{en:"Prototype design document",zh:"\u6E05\u6670\u53EF\u7528\u7684\u8BBE\u8BA1\u56FE\u6216\u539F\u578B"}]},{name:{zh:"2. \u786E\u8BA4\u9700\u6C42",en:"2. Confirm"},descriptions:[{en:"Price and schedule",zh:"\u786E\u8BA4\u62A5\u4EF7\u53CA\u5F00\u53D1\u5468\u671F"},{en:"Development cycle",zh:"\u534F\u5546\u5F00\u53D1\u5468\u671F\u548C\u8981\u70B9"}]},{name:{zh:"3. \u9884\u4ED8\u5F00\u53D1",en:"3. Develop"},descriptions:[{en:"Payment the trust and deposit",zh:"\u9884\u4ED8\u90E8\u5206\u6216\u5168\u90E8"},{en:"Develop project",zh:"\u8FDB\u5165\u5F00\u53D1\u6D41\u7A0B"}]},{name:{zh:"4. \u9884\u6536\u4FEE\u6B63",en:"4. Review"},descriptions:[{en:"Review and experience",zh:"\u63D0\u4F9B\u9884\u89C8\u6F14\u793A"},{en:"Fixbug and optimize",zh:"\u7EC6\u8282\u4FEE\u6B63\u8C03\u4F18"}]},{name:{zh:"5. \u4EA4\u4ED8\u7EF4\u62A4",en:"5. Delivery"},descriptions:[{en:"Pay balance",zh:"\u4ED8\u6E05\u5C3E\u6B3E\uFF0C\u4EA4\u4ED8\u9879\u76EE"},{en:"Maintenance cycle",zh:"\u4E00\u5B9A\u5468\u671F\u5185\u6301\u7EED\u7EF4\u62A4"}]}],handleSubmitEmail:()=>{var c;n==null||n.event("freelance_send_email",{event_category:GAEventCategories.Universal}),window.open(emailLink({email:(c=i.appOptions.data)==null?void 0:c.site_email,subject:s.value?"\u55E8\uFF01Surmon\uFF0C\u4E45\u4EF0\u5927\u540D\uFF01":`Technical consultant / ${META.title}`,body:s.value?`\u6211\u6709\u4E00\u4E2A\u9700\u6C42\uFF1A

 - \u9700\u6C42\u7B80\u8FF0\uFF1A 
 - \u9700\u6C42\u6587\u6863\uFF1A
 - \u9884\u7B97\u91D1\u989D\uFF1A
 - \u9884\u7B97\u5468\u671F\uFF1A`:"Hi! Surmon, I'm ?"}))}}}}),_withScopeId$e=t=>(pushScopeId("data-v-59ea0371"),t=t(),popScopeId(),t),_hoisted_1$s={class:"freelancer-page"},_hoisted_2$m={class:"title"},_hoisted_3$i={class:"desc"},_hoisted_4$h=createTextVNode("\u6216\u5728"),_hoisted_5$g=_withScopeId$e(()=>createBaseVNode("i",{class:"iconfont icon-upwork"},null,-1)),_hoisted_6$e=createTextVNode("\u96C7\u4F63\u6211"),_hoisted_7$c=createTextVNode("Hire me on"),_hoisted_8$b=_withScopeId$e(()=>createBaseVNode("i",{class:"iconfont icon-upwork"},null,-1)),_hoisted_9$b={class:"module"},_hoisted_10$9={class:"container"},_hoisted_11$7={class:"module-list"},_hoisted_12$7={class:"name"},_hoisted_13$7={key:0},_hoisted_14$6={class:"mammon container"},_hoisted_15$6={class:"step"},_hoisted_16$4={class:"step-content container"},_hoisted_17$4={class:"step-list"},_hoisted_18$4={class:"name"},_hoisted_19$1={class:"rule"},_hoisted_20$1={class:"rule-content container"};function _sfc_render$y(t,o,n,s,i,r){const a=resolveComponent("i18n"),l=resolveComponent("ulink"),c=resolveComponent("page-banner"),d=resolveComponent("u-adsense"),u=resolveComponent("client-only");return openBlock(),createElementBlock("div",_hoisted_1$s,[createVNode(c,{position:66,class:"page-banner",image:"/images/page-feeelancer/banner.jpg"},{title:withCtx(()=>[createBaseVNode("div",_hoisted_2$m,[createVNode(a,{lkey:t.LANGUAGE_KEYS.PAGE_FREELANCER_SLOGAN},null,8,["lkey"])])]),description:withCtx(()=>[createBaseVNode("div",_hoisted_3$i,[createBaseVNode("button",{class:"submit-email",title:"Email me",onClick:o[0]||(o[0]=(...m)=>t.handleSubmitEmail&&t.handleSubmitEmail(...m))},[createVNode(a,{lkey:t.LANGUAGE_KEYS.PAGE_FREELANCER_EMAIL_ME},null,8,["lkey"])]),createVNode(l,{class:"upwork",href:t.VALUABLE_LINKS.UPWORK},{default:withCtx(()=>[createVNode(a,null,{zh:withCtx(()=>[_hoisted_4$h,_hoisted_5$g,_hoisted_6$e]),en:withCtx(()=>[_hoisted_7$c,_hoisted_8$b]),_:1})]),_:1},8,["href"])])]),_:1}),createBaseVNode("div",_hoisted_9$b,[createBaseVNode("div",_hoisted_10$9,[createBaseVNode("ul",_hoisted_11$7,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.services,(m,g)=>(openBlock(),createElementBlock("li",{class:"item",key:g},[createBaseVNode("p",{class:normalizeClass(["icon",m.id])},[createBaseVNode("i",{class:normalizeClass(["iconfont",m.iconfont])},null,2)],2),createBaseVNode("h3",_hoisted_12$7,[typeof m.name=="string"?(openBlock(),createElementBlock("span",_hoisted_13$7,toDisplayString(m.name),1)):(openBlock(),createBlock(a,{key:1,en:m.name.en,zh:m.name.zh},null,8,["en","zh"]))]),(openBlock(!0),createElementBlock(Fragment,null,renderList(m.descriptions,(f,$)=>(openBlock(),createElementBlock("p",{class:"desc",key:$},[createVNode(a,{en:f.en,zh:f.zh},null,8,["en","zh"])]))),128))]))),128))])])]),createVNode(u,{transition:""},{default:withCtx(()=>[createBaseVNode("div",_hoisted_14$6,[createVNode(d,{"ins-style":"display:inline-block;width:1050px;height:180px"})])]),_:1}),createBaseVNode("div",_hoisted_15$6,[createBaseVNode("div",_hoisted_16$4,[createBaseVNode("ul",_hoisted_17$4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.steps,(m,g)=>(openBlock(),createElementBlock("li",{class:"item",key:g},[createBaseVNode("h3",_hoisted_18$4,[createVNode(a,{zh:m.name.zh,en:m.name.en},null,8,["zh","en"])]),(openBlock(!0),createElementBlock(Fragment,null,renderList(m.descriptions,(f,$)=>(openBlock(),createElementBlock("p",{class:"desc",key:$},[createVNode(a,{en:f.en,zh:f.zh},null,8,["en","zh"])]))),128))]))),128))])])]),createBaseVNode("div",_hoisted_19$1,[createBaseVNode("div",_hoisted_20$1,[createVNode(a,{zh:"\u5982\u679C\u4F60\u8BA4\u4E3A\u81EA\u5DF1\u7684\u80FD\u529B\u8DB3\u4EE5\u652F\u6491\u4E00\u4F4D\u51FA\u8272\u3001\u7701\u5FC3\u3001\u4F18\u79C0\u3001\u5E05\u6C14\u3001\u5B8C\u7F8E\u7684\u7684\u5168\u6808\u5DE5\u7A0B\u5E08\u7684\u751F\u4EA7\u529B\uFF0C\u8BF7 EMail \u6211\uFF1B\u975E\u5E38\u4F18\u79C0\uFF0C\u6CA1\u6709\u4E4B\u4E00",en:"Any application that can be written in JavaScript, will eventually be written in JavaScript."})])])])}var FreelancerPage=_export_sfc(_sfc_main$y,[["render",_sfc_render$y],["__scopeId","data-v-59ea0371"]]),CategorySlug;(function(t){t.Code="code",t.Insight="insight"})(CategorySlug||(CategorySlug={}));var RouteName;(function(t){t.Home="home",t.Article="article-detail",t.CategoryFlow="category-flow",t.TagFlow="tag-flow",t.DateFlow="date-flow",t.SearchFlow="search-flow",t.Archive="archive",t.Guestbook="guestbook",t.About="about",t.App="app",t.Freelancer="freelancer",t.Music="music",t.Job="job",t.Merch="merch",t.Lens="lens",t.Error="error"})(RouteName||(RouteName={}));const routes=[{path:"/",name:RouteName.Home,components:{default:IndexFlowPage,mobile:MobileFlow},meta:{responsive:!0,ssrCacheAge:60*2}},{path:"/article/:article_id",name:RouteName.Article,components:{default:ArticleDetailPage,mobile:ArticleDetailPage},props:{default:t=>({articleId:Number(t.params.article_id)}),mobile:t=>({isMobile:!0,articleId:Number(t.params.article_id)})},meta:{responsive:!0,ssrCacheAge:30,async validate({route:t,i18n:o}){if(!Number.isInteger(Number(t.params.article_id)))return Promise.reject({code:BAD_REQUEST,message:o.t(LANGUAGE_KEYS.QUERY_PARAMS_ERROR)+"Article ID \u2192 <number>"})}}},{path:"/category/:category_slug",name:RouteName.CategoryFlow,components:{default:CategoryFlowPage,mobile:MobileFlow},props:{default:t=>({categorySlug:t.params.category_slug}),mobile:t=>({categorySlug:t.params.category_slug})},meta:{responsive:!0,ssrCacheAge:60*2,async validate({route:t,i18n:o}){const{category_slug:n}=t.params;if(!n)return Promise.reject({code:BAD_REQUEST,message:o.t(LANGUAGE_KEYS.QUERY_PARAMS_ERROR)+"Category slug \u2192 <string>"})}}},{path:"/tag/:tag_slug",name:RouteName.TagFlow,components:{default:TagFlowPage,mobile:MobileFlow},props:{default:t=>({tagSlug:t.params.tag_slug}),mobile:t=>({tagSlug:t.params.tag_slug})},meta:{responsive:!0,ssrCacheAge:60*2,async validate({route:t,i18n:o}){const{tag_slug:n}=t.params;if(!n)return Promise.reject({code:BAD_REQUEST,message:o.t(LANGUAGE_KEYS.QUERY_PARAMS_ERROR)+"Tag slug \u2192 <string>"})}}},{path:"/date/:date",name:RouteName.DateFlow,components:{default:DateFlowPage,mobile:MobileFlow},props:{default:t=>({date:t.params.date}),mobile:t=>({date:t.params.date})},meta:{responsive:!0,ssrCacheAge:60*60*24,async validate({route:t,i18n:o}){const{date:n}=t.params;if(!n||!isValidDateParam(n))return Promise.reject({code:BAD_REQUEST,message:o.t(LANGUAGE_KEYS.QUERY_PARAMS_ERROR)+`Invalid date ${n||""}`})}}},{path:"/search/:keyword",name:RouteName.SearchFlow,components:{default:SearchFlowPage,mobile:MobileFlow},props:{default:t=>({keyword:t.params.keyword}),mobile:t=>({searchKeyword:t.params.keyword})},meta:{responsive:!0,ssrCacheAge:!1,async validate({route:t,i18n:o}){if(!t.params.keyword)return Promise.reject({code:BAD_REQUEST,message:o.t(LANGUAGE_KEYS.QUERY_PARAMS_ERROR)+"Keywords ?"})}}},{path:"/archive",name:RouteName.Archive,components:{default:ArchivePage,mobile:ArchivePage},props:{mobile:{isMobile:!0}},meta:{responsive:!0,layout:LayoutColumn.Full,ssrCacheAge:60*60}},{path:"/about",name:RouteName.About,components:{default:AboutDesktopPage,mobile:AboutMobilePage},meta:{responsive:!0,layout:LayoutColumn.Full,ssrCacheAge:1/0}},{path:"/guestbook",name:RouteName.Guestbook,components:{default:GuestbookPage,mobile:GuestbookPage},props:{mobile:{isMobile:!0}},meta:{responsive:!0,ssrCacheAge:60*1}},{path:"/app",name:RouteName.App,components:{default:AppPage,mobile:AppPage},props:{mobile:{isMobile:!0}},meta:{responsive:!0,layout:LayoutColumn.Full,ssrCacheAge:1/0}},{path:"/merch",name:RouteName.Merch,component:MerchPage,meta:{responsive:!1,layout:LayoutColumn.Full,ssrCacheAge:60*60*12}},{path:"/lens",name:RouteName.Lens,component:LensPage,meta:{responsive:!1,layout:LayoutColumn.Full,ssrCacheAge:60*60*4}},{path:"/music",name:RouteName.Music,component:MusicPage,meta:{responsive:!1,layout:LayoutColumn.Full,ssrCacheAge:1/0}},{path:"/job",name:RouteName.Job,component:JobPage,meta:{responsive:!1,layout:LayoutColumn.Full,ssrCacheAge:1/0}},{path:"/freelancer",name:RouteName.Freelancer,component:FreelancerPage,meta:{responsive:!1,layout:LayoutColumn.Full,ssrCacheAge:1/0}},{name:RouteName.Error,path:"/:error(.*)",component:{},meta:{async validate({i18n:t}){return Promise.reject({code:NOT_FOUND,message:t.t(LANGUAGE_KEYS.NOT_FOUND)})}}}],createUniversalRouter=t=>{const o=createRouter({routes,strict:!0,history:t.history,linkActiveClass:"link-active",scrollBehavior(n,s,i){return i||scrollToTop()}});return t.beforeMiddleware&&(Array.isArray(t.beforeMiddleware)?t.beforeMiddleware.forEach(o.beforeResolve):o.beforeResolve(t.beforeMiddleware)),t.afterMiddleware&&(Array.isArray(t.afterMiddleware)?t.afterMiddleware.forEach(o.afterEach):o.afterEach(t.afterMiddleware)),o},getTagFlowRoute=t=>`/tag/${t}`,getCategoryFlowRoute=t=>`/category/${t}`,getDateFlowRoute=t=>`/date/${t}`,getArticleDetailRoute=t=>`/article/${t}`,getPageRoute=t=>`/${t}`,isArticleDetail=t=>t===RouteName.Article,isSearchFlow=t=>t===RouteName.SearchFlow,getTargetCDNURL=t=>`${API_CONFIG.CDN}${t}`,getTargetProxyURL=(t,o=ProxyModule.Default)=>`${API_CONFIG.PROXY}/${o}/${encodeURIComponent(t)}`,getTargetStaticURL=t=>`${API_CONFIG.STATIC}${t}`,getPageURL=t=>`${API_CONFIG.FE}${t}`;onClient(()=>{window.Amplitude=window.Amplitude||amplitude});const ADS_SCRIPT="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",getComponent=t=>defineComponent({name:"Adsense",props:{class:String,insClass:{type:String,default:""},insStyle:{type:String,default:"display:block;"},dataAdClient:String,dataAdSlot:String,dataAdLayoutKey:String,dataAdTest:String,dataAdFormat:String,dataFullWidthResponsive:[Boolean,String]},setup(o){const{i18n:n}=useEnhancer();return()=>{const f=o,{class:s,insClass:i,insStyle:r,dataAdClient:a,dataAdSlot:l,dataAdLayoutKey:c,dataAdTest:d,dataAdFormat:u,dataFullWidthResponsive:m}=f,g=V(f,["class","insClass","insStyle","dataAdClient","dataAdSlot","dataAdLayoutKey","dataAdTest","dataAdFormat","dataFullWidthResponsive"]);return h("div",{class:["mammon-box",s],placeholder:n.t(LANGUAGE_KEYS.AD)},[h("script",{type:"text/javascript",async:"true",src:ADS_SCRIPT}),h("ins",y({class:["adsbygoogle",i],style:r,"data-ad-client":a||t,"data-ad-slot":l,"data-ad-layout-key":c,"data-ad-test":d,"data-ad-format":u,"data-full-width-responsive":m},g)),h("script","(adsbygoogle = window.adsbygoogle || []).push({})")])}}});var adsense={install(t,o){const n=getComponent(o.ID);t.component(n.name,n),o.enabledAutoAD&&loadScript(ADS_SCRIPT,{async:!0}).then(()=>{(window.adsbygoogle||[]).push({google_ad_client:o.ID,enable_page_level_ads:!0})})}},root_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$x=defineComponent({name:"PopupRoot",setup(){const t=ref(null),{isDarkTheme:o}=useEnhancer(),{state:n,image:s,hidden:i,visible:r}=usePopupWithRoot(()=>t.value),a=()=>i(),l=()=>{n.maskClose&&i()};return watchEffect(()=>{n.scrollClose?window.addEventListener("scroll",a,{passive:!0}):window.removeEventListener("scroll",a)}),{element:t,state:n,image:s,isDarkTheme:o,handleMaskClick:l}}}),_hoisted_1$r={id:"popup",class:"popup"},_hoisted_2$l=["src"];function _sfc_render$x(t,o,n,s,i,r){return openBlock(),createElementBlock("div",_hoisted_1$r,[createVNode(Transition,{name:"module"},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{class:normalizeClass(["mask",{dark:t.isDarkTheme}]),onClick:o[0]||(o[0]=withModifiers((...a)=>t.handleMaskClick&&t.handleMaskClick(...a),["self"]))},[createBaseVNode("div",{ref:"element",class:normalizeClass(["warpper",{border:t.state.border}])},[t.state.isImage?(openBlock(),createElementBlock("img",mergeProps({key:0},t.image.attrs,{src:t.image.src||""}),null,16,_hoisted_2$l)):createCommentVNode("v-if",!0)],2)],2),[[vShow,t.state.visible]])]),_:1})])}var PopupRootComponent=_export_sfc(_sfc_main$x,[["render",_sfc_render$x],["__scopeId","data-v-1b7cfd01"]]);const PopupUIProps={border:{type:Boolean,default:!0},maskClose:{type:Boolean,default:!0},scrollClose:{type:Boolean,default:!0}},getOtherProps=i=>{var r=i,{border:t,maskClose:o,scrollClose:n}=r,s=V(r,["border","maskClose","scrollClose"]);return s};var Event$1;(function(t){t.Close="close",t.UpdateVisible="update:visible"})(Event$1||(Event$1={}));var PopupComponent=defineComponent({name:"Popup",props:y({visible:{type:Boolean,default:!1},clone:{type:Boolean,default:!1}},PopupUIProps),emits:[Event$1.Close,Event$1.UpdateVisible],setup(t,o){const n=usePopup();return watch(()=>t.visible,s=>{const l=t,{clone:i,visible:r}=l,a=V(l,["clone","visible"]);s?n.visible(a):n.hidden()}),watch(()=>n.state.visible,s=>{!s&&t.visible&&(o.emit(Event$1.UpdateVisible,!1),o.emit(Event$1.Close))}),()=>{const s=()=>{var a,l;return(l=(a=o.slots).default)==null?void 0:l.call(a)},i=()=>h(Teleport,{to:n.state.$container},s()),r=()=>t.visible?i():null;return t.clone?h(Fragment,[s(),r()]):r()}}}),PopupImageComponent=defineComponent({name:"PopupImage",props:y({src:String},PopupUIProps),setup(t,o){const n=usePopup();return()=>{const l=t,{src:s}=l,i=V(l,["src"]);if(!s)return null;const r=getOtherProps(t),a=y(y({},r),o.attrs);return h("img",S(y({},a),{src:s,onClick(...c){var d;(d=r==null?void 0:r.onClick)==null||d.call(r,...c),n==null||n.vImage(s,a,i)}}))}}});const createPopupStore=()=>{const t=reactive({src:null,attrs:null}),o=reactive({visible:!1,isImage:!1,border:!0,maskClose:!0,scrollClose:!0,$container:null}),n=a=>{if(!o.visible){a==null||a();return}o.visible=!1,o.isImage=!1,t.src=null,t.attrs=null,a&&nextTick(a)},s=a=>{n(()=>{Object.assign(o,S(y({},a),{isImage:!1,visible:!0}))})},i=(a,l,c)=>{n(()=>{t.src=a,t.attrs=l,Object.assign(o,S(y({},c),{border:!0,isImage:!0,visible:!0}))})},r=a=>{o.$container=a};return{state:readonly(o),image:readonly(t),visible:s,hidden:n,vImage:i,$setRoot:r}},createPopup=()=>{const t=createPopupStore();return S(y({},t),{install(o,n){o.provide(PopupSymbol,t),o.component(PopupComponent.name,PopupComponent),o.component(PopupImageComponent.name,PopupImageComponent),o.component(PopupRootComponent.name,PopupRootComponent),(n==null?void 0:n.exportToGlobal)&&(window.$popup=t)}})},consoleSlogan=(t,o)=>{console.clear(),console.log(`%c${t.t(LANGUAGE_KEYS.APP_SLOGAN)} %c${o||""}`,"color:#666;font-size:3em;","color:#666;font-size:13px;")},enableBaiduSEOer=t=>{const o=n=>{const s=/([http|https]:\/\/[a-zA-Z0-9\_\.]+\.baidu\.com)/gi,i=n,r=document.referrer;if(!s.test(i)){let a="https://sp0.baidu.com/9_Q4simg2RQJ8t7jm9iCKT-xh_/s.gif";r?(a+="?r="+encodeURIComponent(document.referrer),i&&(a+="&l="+i)):i&&(a+="?l="+i);const l=new Image;l.src=a}};o(window.location.href),t.afterEach(n=>{o(window.location.origin+n.fullPath)})};async function renderTextToDataURL(t="",o=16){const s=(a=>Object.assign(document.createElement("canvas"),{width:a,height:a}))(o*2),i=s.getContext("2d");return i.clearRect(0,0,s.width,s.height),i.font=`${o}px Apple Color Emoji`,i.textAlign="center",i.textBaseline="middle",i.fillText(t,o*2/2,o*2/2),(a=>{const l=(B,L,w)=>{for(let T=0;T<L;++T)if(B.data[w*L*4+T*4+3]!==0)return!1;return!0},c=(B,L,w,T,D)=>{for(let R=T;R<D;++R)if(B.data[R*L*4+w*4+3]!==0)return!1;return!0},d=a.getContext("2d"),u=a.width,m=d.getImageData(0,0,a.width,a.height);let g=0,f=m.height,$=0,E=m.width;for(;g<f&&l(m,u,g);)++g;for(;f-1>g&&l(m,u,f-1);)--f;for(;$<E&&c(m,u,$,g,f);)++$;for(;E-1>$&&c(m,u,E-1,g,f);)--E;const v=d.getImageData($,g,E-$,f-g),N=Math.max(v.width,v.height),C=Object.assign(document.createElement("canvas"),{width:N,height:N});return C.getContext("2d").putImageData(v,(N-v.width)/2,(N-v.height)/2),C})(s).toDataURL("image/png")}const getFavicon=()=>{var t;return(t=Array.from(document.getElementsByTagName("link")).find(o=>o.getAttribute("rel")=="icon"))==null?void 0:t.getAttribute("href")},setFavicon=async t=>{var o;(o=Array.from(document.getElementsByTagName("link")).find(n=>n.getAttribute("rel")=="icon"))==null||o.setAttribute("href",t)},reallyFavicon=getFavicon();let reallyTitle=document.title;const resetTitler=()=>{document.title=reallyTitle,setFavicon(reallyFavicon)},runTitler=async({favicon:t,title:o})=>{reallyTitle=document.title,document.title=o,setFavicon(await renderTextToDataURL(t,28))},exportEmojiRainToGlobal=()=>{window.$Emoji233333=e},exportStickyEventsToGlobal=()=>{window.$StickyEvents=StickyEvents},exportAppToGlobal=t=>{window.$app=t},useWallpaperStore=defineStore("wallpaper",{state:()=>({fetching:!1,wallpapers:null}),getters:{papers:t=>o=>{var n;return(n=t.wallpapers)==null?void 0:n[o]}},actions:{fetchPapers(){return this.wallpapers?Promise.resolve():(this.fetching=!0,service.dispatch(TunnelModule.Wallpaper).then(t=>{this.wallpapers=t}).finally(()=>{this.fetching=!1}))}}}),useStores=t=>({announcement:useAnnouncementStore(t),archive:useArchiveStore(t),articleList:useArticleListStore(t),articleDetail:useArticleDetailStore(t),category:useCategoryStore(t),tag:useTagStore(t),comment:useCommentStore(t),universal:useUniversalStore(t),meta:useMetaStore(t),lens:useLensStore(t),wallpaper:useWallpaperStore(t)}),createUniversalStore=t=>{const o=createPinia(),n=()=>{const s=useStores(o),i=[s.meta.fetchAppOptions(),s.category.fetchAll(),s.tag.fetchAll()];return t.globalState.userAgent.isMobile||i.push(s.articleList.fetchHotList()),Promise.all(i)};return{get stores(){return useStores(o)},state:o.state,install:o.install,serverPrefetch:n,initOnSSRClient(){const s=getSSRContext("store");s?o.state.value=s:n()},initOnSPAClient(){return useStores(o).universal.initOnClient(),n()}}};var spin_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$w=defineComponent({name:"Spin",props:{loading:{type:Boolean,default:!0},color:{type:String,default:"rgba(197, 197, 197, 0.4)"},height:{type:String,default:"15px"},width:{type:String,default:"15px"},margin:{type:String,default:"5px"}},data(){return{spinnerStyle:{backgroundColor:this.color,height:this.height,width:this.width,margin:this.margin}}}}),_hoisted_1$q={class:"spinner-box"},_hoisted_2$k={class:"spinner-inner"},_hoisted_3$h={class:"la-ball-beat"};function _sfc_render$w(t,o,n,s,i,r){return withDirectives((openBlock(),createElementBlock("div",_hoisted_1$q,[createBaseVNode("div",_hoisted_2$k,[createBaseVNode("div",_hoisted_3$h,[createBaseVNode("div",{style:normalizeStyle(t.spinnerStyle)},null,4),createBaseVNode("div",{style:normalizeStyle(t.spinnerStyle)},null,4),createBaseVNode("div",{style:normalizeStyle(t.spinnerStyle)},null,4)])])],512)),[[vShow,t.loading]])}var Spin=_export_sfc(_sfc_main$w,[["render",_sfc_render$w],["__scopeId","data-v-8744e7a4"]]),empty_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$v=defineComponent({name:"Empty",props:{placeholder:String,i18nKey:String},setup(){return{LANGUAGE_KEYS}}}),_hoisted_1$p={class:"empty"};function _sfc_render$v(t,o,n,s,i,r){const a=resolveComponent("i18n");return openBlock(),createElementBlock("div",_hoisted_1$p,[renderSlot(t.$slots,"default",{},()=>[t.placeholder?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(t.placeholder),1)],2112)):(openBlock(),createBlock(a,{key:1,lkey:t.i18nKey||t.LANGUAGE_KEYS.EMPTY_PLACEHOLDER},null,8,["lkey"]))],!0)])}var Empty=_export_sfc(_sfc_main$v,[["render",_sfc_render$v],["__scopeId","data-v-5e8d2f66"]]),divider_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$u=defineComponent({name:"Divider",props:{type:{type:String,default:"horizontal"},dashed:{type:Boolean,default:!1},size:{type:String,default:"default"}}});function _sfc_render$u(t,o,n,s,i,r){return openBlock(),createElementBlock("div",{role:"separator",class:normalizeClass(["divider",[t.type,t.size,{dashed:t.dashed},{slot:t.$slots.default}]])},[renderSlot(t.$slots,"default",{},void 0,!0)],2)}var Divider=_export_sfc(_sfc_main$u,[["render",_sfc_render$u],["__scopeId","data-v-81ff521a"]]),Ulink=defineComponent({name:"Ulink",props:{text:String,external:{type:Boolean,default:!0},blank:{type:Boolean,default:!0}},setup(t,o){return()=>{var c,d;const l=t,{text:n,external:s,blank:i}=l,r=V(l,["text","external","blank"]),a={};return s&&(a.rel="external nofollow noopener"),i&&(a.target="_blank"),h("a",y(y({},r),a),((d=(c=o.slots).default)==null?void 0:d.call(c))||n)}}}),Uimage=defineComponent({name:"Uimage",props:{src:{type:String,required:!0},cdn:Boolean,proxy:Boolean,defer:Boolean},setup(t){const{defer:o}=useEnhancer(),n=ref(!1);return t.defer&&onClient(()=>{o.addTask(()=>{n.value=!0})}),()=>{const d=t,{src:s,cdn:i,proxy:r,defer:a}=d,l=V(d,["src","cdn","proxy","defer"]);let c=s;return i&&(c=getTargetCDNURL(s)),r&&(c=getTargetProxyURL(s)),a&&!n.value?null:h("img",S(y({draggable:!1},l),{src:c}))}}}),Events;(function(t){t.AfterEnter="after-enter"})(Events||(Events={}));var Placeholder=defineComponent({name:"Placeholder",props:{data:{type:[Array,Object,Boolean,Number],default:void 0},transition:{type:Boolean,default:!0},transitionName:{type:String,default:"module"},placeholder:String,i18nKey:String,loading:Boolean},emits:[Events.AfterEnter],setup(t,o){return()=>{const{data:n,placeholder:s,i18nKey:i,loading:r,transition:a,transitionName:l}=t,c=n!==void 0&&(Array.isArray(n)&&!n.length||!n),d=()=>{var f,$;return s||i?h(Empty,{placeholder:s,i18nKey:i}):($=(f=o.slots).placeholder)==null?void 0:$.call(f)},u=()=>{var f,$;return c?d():($=(f=o.slots).default)==null?void 0:$.call(f)},m=()=>{var f,$;return(($=(f=o.slots).loading)==null?void 0:$.call(f))||h(Spin,{loading:!0})},g=()=>r?m():u();return a?h(Transition,{name:l,mode:"out-in",onAfterEnter(...f){o.emit(Events.AfterEnter,...f)}},()=>g()):g()}}}),base_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$t=defineComponent({name:"SkeletonBase",props:{width:{type:Number},height:{type:Number},circle:{type:Boolean,default:!1},radius:{type:Number,default:2}},setup(t){return{style:computed(()=>y(y({borderRadius:t.circle?"100%":`${t.radius}px`},t.width&&{width:t.width+"px"}),t.height&&{height:t.height+"px"}))}}});function _sfc_render$t(t,o,n,s,i,r){return openBlock(),createElementBlock("div",{class:"skeleton base",style:normalizeStyle(t.style)},null,4)}var SkeletonBase=_export_sfc(_sfc_main$t,[["render",_sfc_render$t],["__scopeId","data-v-6f0edd84"]]),line_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$s=defineComponent({name:"SkeletonLine",components:{SkeletonBase},props:{width:{type:Number},height:{type:Number}},setup(t){return{style:computed(()=>y(y({},t.width&&{width:t.width+"px"}),t.height&&{height:t.height+"px"}))}}});function _sfc_render$s(t,o,n,s,i,r){const a=resolveComponent("skeleton-base");return openBlock(),createElementBlock("div",{class:"skeleton line",style:normalizeStyle(t.style)},[createVNode(a)],4)}var SkeletonLine=_export_sfc(_sfc_main$s,[["render",_sfc_render$s],["__scopeId","data-v-04d949d4"]]);const _sfc_main$r=defineComponent({name:"SkeletonParagraph",components:{SkeletonLine},props:{lines:{type:Number,default:1},width:{type:Number},height:{type:Number},align:{type:Boolean,default:!1},lineHeight:{type:String,default:"1rem"}},setup(t){return{style:computed(()=>y(y({},t.width&&{width:t.width+"px"}),t.height&&{height:t.height+"px"})),getLineStyle:s=>{const i={height:t.lineHeight,marginBottom:s===t.lines-1?"0":`calc(${t.lineHeight} * 0.75)`},r=s%3;if(r){const a=15*r;i.width=`${100-a}%`,i.marginLeft=t.align?"0":"6%"}return i}}}});function _sfc_render$r(t,o,n,s,i,r){const a=resolveComponent("skeleton-line");return openBlock(),createElementBlock("div",{class:"skeleton paragraph",style:normalizeStyle(t.style)},[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.lines,(l,c)=>(openBlock(),createBlock(a,{key:c,style:normalizeStyle(t.getLineStyle(c)),class:"paragraph-line"},null,8,["style"]))),128))],4)}var SkeletonParagraph=_export_sfc(_sfc_main$r,[["render",_sfc_render$r]]);const Responsive=defineComponent({name:"Responsive",props:{both:Boolean,desktop:Boolean,mobile:Boolean},setup(t,o){const n=useGlobalState();return()=>{var s,i,r,a,l,c,d,u,m,g;return t.both?(i=(s=o.slots).default)==null?void 0:i.call(s):t.desktop&&!n.userAgent.isMobile?(a=(r=o.slots).default)==null?void 0:a.call(r):t.mobile&&n.userAgent.isMobile?(c=(l=o.slots).default)==null?void 0:c.call(l):n.userAgent.isMobile?(u=(d=o.slots).mobile)==null?void 0:u.call(d):(g=(m=o.slots).desktop)==null?void 0:g.call(m)}}}),DesktopOnly=defineComponent({name:"DesktopOnly",setup(t,o){const n=useGlobalState();return()=>{var s,i;return!n.userAgent.isMobile&&((i=(s=o.slots).default)==null?void 0:i.call(s))}}}),ClientOnly=defineComponent({name:"ClientOnly",props:{placeholder:String,placeholderTag:{type:String,default:"div"},transition:{type:Boolean,default:!1},delay:{type:Number,default:0}},setup(t,o){const{globalState:n}=useEnhancer(),s=ref(!!n.isHydrated.value);onMounted(()=>{if(!n.isHydrated.value){const r=()=>{s.value=!0};t.delay?setTimeout(r,t.delay):r()}});const i=(r,a)=>{if(!t.transition||Array.isArray(r)&&r.length>1)return r;const l=Array.isArray(r)?r[0]:r;return h(Transition,{name:"client-only",mode:"out-in"},()=>l?cloneVNode(l,{key:a}):h("div",{key:"empty",class:"client-only-empty"}))};return()=>{var r,a;return s.value?i((a=(r=o.slots).default)==null?void 0:a.call(r),"result"):o.slots.placeholder?i(o.slots.placeholder(),"placeholder-slot"):t.placeholderTag&&t.placeholder?i(h(t.placeholderTag,{class:"client-only-placeholder"},t.placeholder),"placeholder"):i(null)}}});function interior(t){t.component(Spin.name,Spin),t.component(Empty.name,Empty),t.component(Divider.name,Divider),t.component(Ulink.name,Ulink),t.component(Uimage.name,Uimage),t.component(Placeholder.name,Placeholder),t.component(ClientOnly.name,ClientOnly),t.component(Responsive.name,Responsive),t.component(DesktopOnly.name,DesktopOnly),t.component(SkeletonBase.name,SkeletonBase),t.component(SkeletonLine.name,SkeletonLine),t.component(SkeletonParagraph.name,SkeletonParagraph)}var emojiRain_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$q=defineComponent({name:"EmojiRain",setup(){const t=ref(null),o=reactive({chambering:!1,kichikuing:!1});return onMounted(()=>{window.$luanchEmojiRain=n=>{!o.chambering&&!o.kichikuing&&(o.chambering=!0,nextTick(()=>{t.value.width=document.documentElement.clientWidth||document.body.clientWidth,t.value.height=document.documentElement.clientHeight||document.body.clientHeight,new window.$Emoji233333(S(y({base:t.value,scale:.7,speed:12,increaseSpeed:.4,density:5,staggered:!0,emoji:getTargetCDNURL("/images/emojis/funny.png")},n),{onStart(){o.kichikuing=!0},onEnded(){o.kichikuing=!1,o.chambering=!1}})).launch()}))}}),{state:o,rainBase:t}}}),_hoisted_1$o={key:0,ref:"rainBase",class:"rain-base"};function _sfc_render$q(t,o,n,s,i,r){return openBlock(),createElementBlock("div",{id:"emoji-rain",class:normalizeClass({active:t.state.kichikuing})},[t.state.chambering?(openBlock(),createElementBlock("canvas",_hoisted_1$o,null,512)):createCommentVNode("v-if",!0)],2)}var EmojiRain=_export_sfc(_sfc_main$q,[["render",_sfc_render$q],["__scopeId","data-v-3d376533"]]),error_vue_vue_type_style_index_0_scoped_true_lang="",ErrorEvent;(function(t){t.Resolve="resolve"})(ErrorEvent||(ErrorEvent={}));const _sfc_main$p=defineComponent({name:"Error",props:{error:{type:Object,required:!0}},emits:[ErrorEvent.Resolve],setup(t,o){const{isDarkTheme:n}=useEnhancer();return{LANGUAGE_KEYS,isDarkTheme:n,handleResolveRoute:()=>{o.emit(ErrorEvent.Resolve)}}}}),_hoisted_1$n={class:"code"},_hoisted_2$j={class:"message"};function _sfc_render$p(t,o,n,s,i,r){const a=resolveComponent("i18n"),l=resolveComponent("uimage");return openBlock(),createElementBlock("div",{class:normalizeClass(["error",{dark:t.isDarkTheme}])},[createBaseVNode("h1",_hoisted_1$n,toDisplayString(t.error.code),1),createBaseVNode("h3",_hoisted_2$j,[t.error.message?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(t.error.message),1)],2112)):(openBlock(),createBlock(a,{key:1,lkey:t.LANGUAGE_KEYS.NOT_FOUND},null,8,["lkey"]))]),createBaseVNode("p",{class:"link",onClick:o[0]||(o[0]=(...c)=>t.handleResolveRoute&&t.handleResolveRoute(...c))},[renderSlot(t.$slots,"resolve-text",{},void 0,!0)]),createVNode(l,{cdn:"",class:"logo",src:"/images/logo.svg"})],2)}var ErrorComponent=_export_sfc(_sfc_main$p,[["render",_sfc_render$p],["__scopeId","data-v-f7205494"]]);const _sfc_main$o=defineComponent({name:"Captured",components:{ErrorComponent},setup(t,o){const{router:n,globalState:s}=useEnhancer(),i=()=>{n.push({name:RouteName.Home}).then(()=>{s.setLayoutColumn(getLayoutByRouteMeta(n.currentRoute.value.meta)),s.setRenderError(null)})};return onErrorCaptured(r=>(s.setRenderError(r),!1)),{error:s.renderError,handleResolveRoute:i,LANGUAGE_KEYS}}}),_hoisted_1$m={class:"captured"};function _sfc_render$o(t,o,n,s,i,r){const a=resolveComponent("i18n"),l=resolveComponent("error-component");return openBlock(),createElementBlock("div",_hoisted_1$m,[t.error?(openBlock(),createBlock(l,{key:0,error:t.error,onResolve:t.handleResolveRoute},{"resolve-text":withCtx(()=>[createVNode(a,{lkey:t.LANGUAGE_KEYS.BACK_TO_HOME_PAGE},null,8,["lkey"])]),_:1},8,["error","onResolve"])):renderSlot(t.$slots,"default",{key:1})])}var Captured=_export_sfc(_sfc_main$o,[["render",_sfc_render$o]]);const menus=[{id:RouteName.Home,route:"/",icon:"icon-home-fill",i18nKey:LANGUAGE_KEYS.PAGE_HOME},{id:CategorySlug.Code,route:getCategoryFlowRoute(CategorySlug.Code),icon:"icon-code",i18nKey:LANGUAGE_KEYS.CATEGORY_CODE},{id:CategorySlug.Insight,route:getCategoryFlowRoute(CategorySlug.Insight),icon:"icon-thinking",i18nKey:LANGUAGE_KEYS.CATEGORY_INSIGHT},{id:"github",url:VALUABLE_LINKS.GITHUB,icon:"icon-github",newWindow:!0,i18nKey:LANGUAGE_KEYS.PAGE_GITHUB},{id:RouteName.Lens,route:getPageRoute(RouteName.Lens),icon:"icon-lens",i18nKey:LANGUAGE_KEYS.PAGE_LENS},{id:RouteName.About,route:getPageRoute(RouteName.About),icon:"icon-user",i18nKey:LANGUAGE_KEYS.PAGE_ABOUT},{id:RouteName.Job,route:getPageRoute(RouteName.Job),icon:"icon-horse",i18nKey:LANGUAGE_KEYS.PAGE_JOB},{id:RouteName.Freelancer,route:getPageRoute(RouteName.Freelancer),icon:"icon-coin-s",i18nKey:LANGUAGE_KEYS.PAGE_FREELANCER},{id:RouteName.Guestbook,route:getPageRoute(RouteName.Guestbook),icon:"icon-comment",i18nKey:LANGUAGE_KEYS.PAGE_GUESTBOOK},{id:RouteName.App,route:getPageRoute(RouteName.App),divider:!0,icon:"icon-app",i18nKey:LANGUAGE_KEYS.PAGE_APP},{id:RouteName.Merch,route:getPageRoute(RouteName.Merch),divider:!0,hot:!0,icon:"icon-rubik",i18nKey:LANGUAGE_KEYS.PAGE_MERCH}];var nav_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$n=defineComponent({name:"DesktopNav",setup(){const{adConfig:t,isZhLang:o}=useEnhancer();return{NAV_ELEMENT_ID,menus,adConfig:t,isZhLang:o}}}),_withScopeId$d=t=>(pushScopeId("data-v-a5c82946"),t=t(),popScopeId(),t),_hoisted_1$l=["id"],_hoisted_2$i={key:0,class:"divider"},_hoisted_3$g={class:"text"},_hoisted_4$g={key:0,class:"superscript"},_hoisted_5$f=_withScopeId$d(()=>createBaseVNode("i",{class:"iconfont icon-hot-fill"},null,-1)),_hoisted_6$d=[_hoisted_5$f],_hoisted_7$b={class:"text"},_hoisted_8$a={key:0,class:"newscript"},_hoisted_9$a=_withScopeId$d(()=>createBaseVNode("i",{class:"iconfont icon-new-window-s"},null,-1)),_hoisted_10$8=[_hoisted_9$a],_hoisted_11$6={key:1,class:"superscript"},_hoisted_12$6=_withScopeId$d(()=>createBaseVNode("i",{class:"iconfont icon-hot-fill"},null,-1)),_hoisted_13$6=[_hoisted_12$6],_hoisted_14$5=_withScopeId$d(()=>createBaseVNode("span",{class:"divider"},null,-1)),_hoisted_15$5=_withScopeId$d(()=>createBaseVNode("span",{class:"superscript"},[createBaseVNode("i",{class:"iconfont icon-ad"})],-1));function _sfc_render$n(t,o,n,s,i,r){const a=resolveComponent("i18n"),l=resolveComponent("router-link"),c=resolveComponent("ulink");return openBlock(),createElementBlock("div",{id:t.NAV_ELEMENT_ID,class:"aside-nav"},[createBaseVNode("nav",{class:normalizeClass(["nav-list",{en:!t.isZhLang}])},[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.menus,d=>(openBlock(),createElementBlock(Fragment,{key:d.id},[d.divider?(openBlock(),createElementBlock("span",_hoisted_2$i)):createCommentVNode("v-if",!0),d.route?(openBlock(),createBlock(l,{key:1,class:normalizeClass(["item",[d.id,{hot:d.hot}]]),to:d.route,exact:""},{default:withCtx(()=>[createBaseVNode("i",{class:normalizeClass(["iconfont",d.icon])},null,2),createBaseVNode("span",_hoisted_3$g,[createVNode(a,{lkey:d.i18nKey},null,8,["lkey"])]),d.hot?(openBlock(),createElementBlock("span",_hoisted_4$g,_hoisted_6$d)):createCommentVNode("v-if",!0)]),_:2},1032,["class","to"])):d.url?(openBlock(),createBlock(c,{key:2,class:normalizeClass(["item",[d.id,{hot:d.hot}]]),href:d.url},{default:withCtx(()=>[createBaseVNode("i",{class:normalizeClass(["iconfont",d.icon])},null,2),createBaseVNode("span",_hoisted_7$b,[createVNode(a,{lkey:d.i18nKey},null,8,["lkey"])]),d.newWindow?(openBlock(),createElementBlock("span",_hoisted_8$a,_hoisted_10$8)):createCommentVNode("v-if",!0),d.hot?(openBlock(),createElementBlock("span",_hoisted_11$6,_hoisted_13$6)):createCommentVNode("v-if",!0)]),_:2},1032,["class","href"])):createCommentVNode("v-if",!0)],64))),128)),createCommentVNode(" AD "),(openBlock(!0),createElementBlock(Fragment,null,renderList(t.adConfig.PC_NAV,(d,u)=>(openBlock(),createElementBlock(Fragment,{key:u},[_hoisted_14$5,createVNode(c,{class:"item",href:d.url},{default:withCtx(()=>[createBaseVNode("i",{class:normalizeClass(["iconfont",d.icon]),style:normalizeStyle({color:d.color})},null,6),createBaseVNode("span",{class:"text",style:normalizeStyle({color:d.color})},[d.i18n?(openBlock(),createBlock(a,{key:0,zh:d.i18n.zh,en:d.i18n.en},null,8,["zh","en"])):(openBlock(),createElementBlock(Fragment,{key:1},[createTextVNode(toDisplayString(d.text),1)],2112))],4),_hoisted_15$5]),_:2},1032,["href"])],64))),128))],2)],8,_hoisted_1$l)}var NavView=_export_sfc(_sfc_main$n,[["render",_sfc_render$n],["__scopeId","data-v-a5c82946"]]),search_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$m=defineComponent({name:"DesktopAsideSearch",setup(){const{i18n:t,gtag:o,route:n,router:s}=useEnhancer(),i=ref("");return onMounted(()=>{isSearchFlow(n.name)&&(i.value=n.params.keyword)}),{LANGUAGE_KEYS,RouteName,i18n:t,keyword:i,handleSearch:()=>{const a=i.value,l=n.params.keyword,c=isSearchFlow(n.name);a&&(!c||l!==a)&&(s.push({name:RouteName.SearchFlow,params:{keyword:a}}),o==null||o.event("aside_search",{event_category:GAEventCategories.Universal,event_label:a}))}}}}),_withScopeId$c=t=>(pushScopeId("data-v-2985dae8"),t=t(),popScopeId(),t),_hoisted_1$k={class:"search"},_hoisted_2$h={class:"search-box"},_hoisted_3$f=["placeholder"],_hoisted_4$f=_withScopeId$c(()=>createBaseVNode("i",{class:"iconfont icon-search"},null,-1)),_hoisted_5$e=[_hoisted_4$f],_hoisted_6$c=_withScopeId$c(()=>createBaseVNode("i",{class:"iconfont icon-peachblossom"},null,-1));function _sfc_render$m(t,o,n,s,i,r){const a=resolveComponent("router-link");return openBlock(),createElementBlock("div",_hoisted_1$k,[createBaseVNode("div",_hoisted_2$h,[withDirectives(createBaseVNode("input",{id:"keyword",class:normalizeClass(["search-input",t.i18n.language]),required:"",type:"search",name:"search",maxlength:"16","onUpdate:modelValue":o[0]||(o[0]=l=>t.keyword=l),placeholder:t.i18n.t(t.LANGUAGE_KEYS.SEARCH_PLACEHOLDER),onKeyup:o[1]||(o[1]=withKeys((...l)=>t.handleSearch&&t.handleSearch(...l),["enter"]))},null,42,_hoisted_3$f),[[vModelText,t.keyword,void 0,{trim:!0}]]),createBaseVNode("button",{class:"search-btn",onClick:o[2]||(o[2]=(...l)=>t.handleSearch&&t.handleSearch(...l))},_hoisted_5$e)]),createVNode(a,{class:"archive-btn",to:{name:t.RouteName.Archive}},{default:withCtx(()=>[_hoisted_6$c]),_:1},8,["to"])])}var AsideSearch=_export_sfc(_sfc_main$m,[["render",_sfc_render$m],["__scopeId","data-v-2985dae8"]]),article_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$l=defineComponent({name:"DesktopAsideArticle",setup(){return{articleListStore:useArticleListStore(),getArticleDetailRoute,LANGUAGE_KEYS}}}),_withScopeId$b=t=>(pushScopeId("data-v-d70a9eba"),t=t(),popScopeId(),t),_hoisted_1$j={class:"article"},_hoisted_2$g={class:"title"},_hoisted_3$e=_withScopeId$b(()=>createBaseVNode("i",{class:"iconfont icon-hotfill"},null,-1)),_hoisted_4$e={class:"article-list-skeleton",key:"skeleton"},_hoisted_5$d={class:"article-list",key:"list"},_hoisted_6$b=_withScopeId$b(()=>createBaseVNode("span",{class:"index"},null,-1));function _sfc_render$l(t,o,n,s,i,r){const a=resolveComponent("i18n"),l=resolveComponent("skeleton-line"),c=resolveComponent("router-link"),d=resolveComponent("placeholder");return openBlock(),createElementBlock("div",_hoisted_1$j,[createBaseVNode("p",_hoisted_2$g,[_hoisted_3$e,createBaseVNode("strong",null,[createVNode(a,{lkey:t.LANGUAGE_KEYS.HOT_ARTICLE_LIST_TITLE},null,8,["lkey"])])]),createVNode(d,{data:t.articleListStore.hotList.data,loading:t.articleListStore.hotList.fetching,"i18n-key":t.LANGUAGE_KEYS.ARTICLE_PLACEHOLDER},{loading:withCtx(()=>[createBaseVNode("ul",_hoisted_4$e,[(openBlock(),createElementBlock(Fragment,null,renderList(5,u=>createBaseVNode("li",{key:u,class:"item"},[createVNode(l)])),64))])]),default:withCtx(()=>[createBaseVNode("ul",_hoisted_5$d,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.articleListStore.hotList.data,u=>(openBlock(),createElementBlock("li",{key:u.id,class:"item"},[_hoisted_6$b,createVNode(c,{class:"title",to:t.getArticleDetailRoute(u.id),title:u.title},{default:withCtx(()=>[createTextVNode(toDisplayString(u.title),1)]),_:2},1032,["to","title"])]))),128))])]),_:1},8,["data","loading","i18n-key"])])}var AsideArticle=_export_sfc(_sfc_main$l,[["render",_sfc_render$l],["__scopeId","data-v-d70a9eba"]]),mammon_vue_vue_type_style_index_0_scoped_true_lang="",AsideMammonEvent;(function(t){t.Ready="ready",t.UpdateIndex="update:index",t.IndexChange="index-change"})(AsideMammonEvent||(AsideMammonEvent={}));const _sfc_main$k=defineComponent({name:"DesktopAsideMammon",components:{Swiper:Swiper$1,SwiperSlide},props:{index:{type:Number,default:0},ready:{type:Object}},emits:[AsideMammonEvent.Ready,AsideMammonEvent.UpdateIndex,AsideMammonEvent.IndexChange],setup(t,o){const{adConfig:n}=useEnhancer(),s=ref();return{adConfig:n,updateSwiper:a=>{s.value=a,o.emit(AsideMammonEvent.Ready,s.value)},handleSlideChange:()=>{var l;const a=(l=s.value)==null?void 0:l.realIndex;o.emit(AsideMammonEvent.UpdateIndex,a),o.emit(AsideMammonEvent.IndexChange,a)}}}}),_hoisted_1$i={class:"mammon"};function _sfc_render$k(t,o,n,s,i,r){const a=resolveComponent("uimage"),l=resolveComponent("ulink"),c=resolveComponent("swiper-slide"),d=resolveComponent("swiper");return openBlock(),createElementBlock("div",_hoisted_1$i,[createVNode(d,{class:"swiper",direction:"vertical","initial-slide":t.index,loop:!0,"simulate-touch":!1,autoplay:{delay:2800,disableOnInteraction:!1},pagination:{clickable:!0},"set-wrapper-size":!0,"auto-height":!0,mousewheel:!0,"observe-parents":!0,"preload-images":!1,lazy:!0,onSwiper:t.updateSwiper,onSlideChangeTransitionEnd:t.handleSlideChange},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.adConfig.PC_ASIDE_SWIPER,(u,m)=>(openBlock(),createBlock(c,{class:"swiper-slide",key:m},{default:withCtx(()=>[createVNode(l,{class:"content",href:u.url},{default:withCtx(()=>[createVNode(a,{src:u.src,alt:"aliyun-ad"},null,8,["src"])]),_:2},1032,["href"])]),_:2},1024))),128))]),_:1},8,["initial-slide","onSwiper","onSlideChangeTransitionEnd"])])}var AsideMammon=_export_sfc(_sfc_main$k,[["render",_sfc_render$k],["__scopeId","data-v-46332f04"]]),tag_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$j=defineComponent({name:"DesktopAsideTag",setup(){const t=useTagStore();return{LANGUAGE_KEYS,tagStore:t,tagEnName,getTagIcon:n=>getExtendValue(n.extends||[],"icon")||"icon-tag",getTagFlowRoute}}}),_hoisted_1$h={class:"tag"},_hoisted_2$f={class:"tag-list-skeleton",key:"skeleton"},_hoisted_3$d={class:"tag-list",key:"list"},_hoisted_4$d={class:"name"},_hoisted_5$c={class:"count"};function _sfc_render$j(t,o,n,s,i,r){const a=resolveComponent("skeleton-line"),l=resolveComponent("i18n"),c=resolveComponent("router-link"),d=resolveComponent("placeholder");return openBlock(),createElementBlock("div",_hoisted_1$h,[createVNode(d,{data:t.tagStore.sorted.length,fetching:t.tagStore.fetching,"i18n-key":t.LANGUAGE_KEYS.TAG_PLACEHOLDER},{loading:withCtx(()=>[createBaseVNode("ul",_hoisted_2$f,[(openBlock(),createElementBlock(Fragment,null,renderList(14,u=>createBaseVNode("li",{key:u,class:"item"},[createVNode(a)])),64))])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_3$d,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.tagStore.sorted,(u,m)=>(openBlock(),createBlock(c,{class:"item",title:`${t.tagEnName(u)} | ${u.description}`,to:t.getTagFlowRoute(u.slug),key:m},{default:withCtx(()=>[createBaseVNode("i",{class:normalizeClass(["iconfont",t.getTagIcon(u)])},null,2),createBaseVNode("span",_hoisted_4$d,[createVNode(l,{zh:u.name,en:t.tagEnName(u)},null,8,["zh","en"]),createBaseVNode("span",_hoisted_5$c,"("+toDisplayString(u.count||0)+")",1)])]),_:2},1032,["title","to"]))),128))])]),_:1},8,["data","fetching","i18n-key"])])}var AsideTag=_export_sfc(_sfc_main$j,[["render",_sfc_render$j],["__scopeId","data-v-39aca1eb"]]),anchor_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$i=defineComponent({name:"DesktopAsideAnchor",setup(){const t=useArticleDetailStore(),o=computed(()=>t.article),n=computed(()=>{var a,l;const r=[...((a=t.defaultContent)==null?void 0:a.headings)||[]];return t.isLongContent&&t.renderedFullContent&&r.push(...((l=t.moreContent)==null?void 0:l.headings)||[]),r}),s=computed(()=>Math.min(...n.value.map(r=>r.level)));return{ANCHORS,article:o,store:t,headings:n,minHeadingLevel:s,handleAnchor:r=>{scrollToElementAnchor(r)}}}}),_withScopeId$a=t=>(pushScopeId("data-v-234f3290"),t=t(),popScopeId(),t),_hoisted_1$g={key:0,class:"anchor"},_hoisted_2$e=["title"],_hoisted_3$c={class:"title"},_hoisted_4$c={class:"read"},_hoisted_5$b={key:0,class:"catalogue"},_hoisted_6$a=["title","onClick"],_hoisted_7$a={class:"text"},_hoisted_8$9=_withScopeId$a(()=>createBaseVNode("i",{class:"iconfont icon-heart"},null,-1)),_hoisted_9$9={class:"meta"},_hoisted_10$7=_withScopeId$a(()=>createBaseVNode("i",{class:"iconfont icon-eye"},null,-1)),_hoisted_11$5={class:"count"},_hoisted_12$5={class:"meta"},_hoisted_13$5=_withScopeId$a(()=>createBaseVNode("i",{class:"iconfont icon-like"},null,-1)),_hoisted_14$4={class:"count"},_hoisted_15$4=_withScopeId$a(()=>createBaseVNode("i",{class:"iconfont icon-category"},null,-1)),_hoisted_16$3={class:"count"},_hoisted_17$3=_withScopeId$a(()=>createBaseVNode("i",{class:"iconfont icon-comment"},null,-1)),_hoisted_18$3={class:"count"};function _sfc_render$i(t,o,n,s,i,r){const a=resolveComponent("i18n"),l=resolveComponent("divider");return t.article?(openBlock(),createElementBlock("div",_hoisted_1$g,[createBaseVNode("button",{class:"header",title:t.article.title,onClick:o[0]||(o[0]=c=>t.handleAnchor(t.ANCHORS.ARTICLE_CONTENT_ELEMENT_ID))},[createBaseVNode("div",_hoisted_3$c,toDisplayString(t.article.title),1),createBaseVNode("div",_hoisted_4$c,[createVNode(a,null,{zh:withCtx(()=>[createTextVNode("\u5171 "+toDisplayString(t.store.contentLength)+" \u5B57\uFF0C\u9700\u9605\u8BFB "+toDisplayString(t.store.readMinutes)+" \u5206\u949F",1)]),en:withCtx(()=>[createTextVNode(toDisplayString(t.store.contentLength)+" words, "+toDisplayString(t.store.readMinutes)+" min read",1)]),_:1})])],8,_hoisted_2$e),t.headings.length?(openBlock(),createElementBlock("div",_hoisted_5$b,[createBaseVNode("ul",{class:normalizeClass(["list",`indent-${t.minHeadingLevel}`])},[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.headings,(c,d)=>(openBlock(),createElementBlock("li",{class:normalizeClass(["item",`level-${c.level}`]),key:d,title:c.text,onClick:u=>t.handleAnchor(c.id)},[createBaseVNode("i",{class:normalizeClass(["level iconfont",`icon-h-${c.level}`])},null,2),createBaseVNode("span",_hoisted_7$a,toDisplayString(c.text),1)],10,_hoisted_6$a))),128))],2)])):createCommentVNode("v-if",!0),createBaseVNode("button",{class:"link",onClick:o[1]||(o[1]=c=>t.handleAnchor(t.ANCHORS.ARTICLE_META_ELEMENT_ID))},[_hoisted_8$9,createVNode(a,{zh:"\u6441\u8D5E",en:"Meta"}),createVNode(l,{type:"vertical"}),createBaseVNode("span",_hoisted_9$9,[_hoisted_10$7,createBaseVNode("span",_hoisted_11$5,toDisplayString(t.article.meta.views),1)]),createVNode(l,{type:"vertical"}),createBaseVNode("span",_hoisted_12$5,[_hoisted_13$5,createBaseVNode("span",_hoisted_14$4,toDisplayString(t.article.meta.likes),1)])]),createBaseVNode("button",{class:"link",onClick:o[2]||(o[2]=c=>t.handleAnchor(t.ANCHORS.ARTICLE_RELETED_ELEMENT_ID))},[_hoisted_15$4,createVNode(a,{zh:"\u76F8\u5173",en:"Related articles"}),createVNode(l,{type:"vertical"}),createBaseVNode("span",_hoisted_16$3,toDisplayString(t.article.related.length),1)]),createBaseVNode("button",{class:"link",onClick:o[3]||(o[3]=c=>t.handleAnchor(t.ANCHORS.COMMENT_ELEMENT_ID))},[_hoisted_17$3,createVNode(a,{zh:"\u8BC4\u8BBA",en:"Comments"}),createVNode(l,{type:"vertical"}),createBaseVNode("span",_hoisted_18$3,toDisplayString(t.article.meta.comments),1)])])):createCommentVNode("v-if",!0)}var AsideAnchor=_export_sfc(_sfc_main$i,[["render",_sfc_render$i],["__scopeId","data-v-234f3290"]]),calendar_vue_vue_type_style_index_0_scoped_true_lang$1="";const _sfc_main$h=defineComponent({name:"DesktopAsideCalendar",setup(t,o){const{i18n:n,isZhLang:s}=useEnhancer(),i=dateToHuman(new Date),r=reactive({month:0,year:1970,table:[]}),a=computed(()=>textHumanizer(n.language.value)(TEXT_MAP.WEEKDAYS)),l=computed(()=>{const g=r.month===i.month&&r.year===i.year;if(s.value){const f=`${r.year} \u5E74`,$=` ${r.month} \u6708`,E=g?` ${i.day} \u65E5`:"";return f+$+E}return humanDateToYMD(g?i:r," / ")}),c=g=>{const f=[],$=humanToDate(S(y({},g),{day:1})),E=dateToHuman($).week;for(let N=E-1;N>=0;N--){const C=cloneDate($);C.setDate(C.getDate()-N),f.push(dateToHuman(C))}const v=35-f.length;for(let N=1;N<=v;N++){const C=cloneDate($);C.setDate(C.getDate()+N),f.push(dateToHuman(C))}Object.assign(r,{year:g.year,month:g.month,table:f})},d=()=>{const g=r.month-1<=0;c({year:r.year-(g?1:0),month:g?12:r.month-1})},u=()=>{const g=r.month+1>=13;c({year:r.year+(g?1:0),month:g?1:r.month+1})},m=g=>{g.month<r.month?d():g.month>r.month&&u()};return c({year:i.year,month:i.month}),{tableView:r,headerText:l,weekDayTexts:a,toPrevMonth:d,toNextMonth:u,handleDayClick:m,isToday:g=>isSameHumanDay(g,i)}}}),_withScopeId$9=t=>(pushScopeId("data-v-61261ae7"),t=t(),popScopeId(),t),_hoisted_1$f={class:"calendar"},_hoisted_2$d={class:"header"},_hoisted_3$b=_withScopeId$9(()=>createBaseVNode("i",{class:"iconfont icon-prev"},null,-1)),_hoisted_4$b=[_hoisted_3$b],_hoisted_5$a={class:"item year-month"},_hoisted_6$9=_withScopeId$9(()=>createBaseVNode("i",{class:"iconfont icon-next"},null,-1)),_hoisted_7$9=[_hoisted_6$9],_hoisted_8$8={class:"weekdays"},_hoisted_9$8={class:"days"},_hoisted_10$6=["onClick"];function _sfc_render$h(t,o,n,s,i,r){return openBlock(),createElementBlock("div",_hoisted_1$f,[createCommentVNode(" header "),createBaseVNode("div",_hoisted_2$d,[createBaseVNode("button",{class:"item arrow",onClick:o[0]||(o[0]=(...a)=>t.toPrevMonth&&t.toPrevMonth(...a))},_hoisted_4$b),createBaseVNode("span",_hoisted_5$a,toDisplayString(t.headerText),1),createBaseVNode("button",{class:"item arrow",onClick:o[1]||(o[1]=(...a)=>t.toNextMonth&&t.toNextMonth(...a))},_hoisted_7$9)]),createCommentVNode(" weekdays "),createBaseVNode("ul",_hoisted_8$8,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.weekDayTexts,(a,l)=>(openBlock(),createElementBlock("li",{key:l},toDisplayString(a),1))),128))]),createCommentVNode(" days "),createBaseVNode("ul",_hoisted_9$8,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.tableView.table,(a,l)=>(openBlock(),createElementBlock("li",{key:l},[createBaseVNode("div",{class:normalizeClass(["item",{today:t.isToday(a),other:a.month!==t.tableView.month}]),onClick:c=>t.handleDayClick(a)},[renderSlot(t.$slots,"day",normalizeProps(guardReactiveProps(a)),()=>[createTextVNode(toDisplayString(a.day),1)],!0)],10,_hoisted_10$6)]))),128))])])}var Calendar=_export_sfc(_sfc_main$h,[["render",_sfc_render$h],["__scopeId","data-v-61261ae7"]]),calendar_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$g=defineComponent({name:"DesktopAsideCalendar",components:{Calendar},setup(){const t=useArchiveStore(),o=s=>{var r,a;const i=(r=t.tree.find(l=>l.year===s.year))==null?void 0:r.months;if(i==null?void 0:i.length){const l=(a=i.find(c=>c.month===s.month))==null?void 0:a.articles;if(l==null?void 0:l.length)return l.filter(d=>d.createAt.day===s.day).length}return 0},n=s=>getDateFlowRoute(humanDateToYMD(s));return onMounted(()=>{t.fetchArchive()}),{articlesIn:o,getDateRoute:n}}}),_hoisted_1$e={key:1,class:"date-span"};function _sfc_render$g(t,o,n,s,i,r){const a=resolveComponent("router-link"),l=resolveComponent("calendar",!0);return openBlock(),createBlock(l,{class:"calendar"},{day:withCtx(c=>[t.articlesIn(c)>0?(openBlock(),createBlock(a,{key:0,class:"date-link",to:t.getDateRoute(c)},{default:withCtx(()=>[createTextVNode(toDisplayString(c.day),1)]),_:2},1032,["to"])):(openBlock(),createElementBlock("span",_hoisted_1$e,toDisplayString(c.day),1))]),_:1})}var AsideCalendar=_export_sfc(_sfc_main$g,[["render",_sfc_render$g],["__scopeId","data-v-0faef6b0"]]),index_vue_vue_type_style_index_0_scoped_true_lang="";const ASIDE_STICKY_ELEMENT_ID="aside-sticky-module",_sfc_main$f=defineComponent({name:"DesktopAside",components:{AsideSearch,AsideArticle,AsideMammon,AsideCalendar,AsideTag,AsideAnchor},setup(){const t=useRoute(),o=computed(()=>isArticleDetail(t.name));let n=null;const s=ref(null),i=ref(0),r=ref(!1),a=ref(),l=m=>{a.value=m},c=m=>{i.value=m},d=m=>{var g;(g=a.value)==null||g.slideToLoop(m)},u=m=>{var $,E;const g=s.value.clientHeight,f=(E=($=document.getElementById(MAIN_CONTENT_ELEMENT_ID))==null?void 0:$.children)==null?void 0:E[0];if(f){const N=f.clientHeight>=g;r.value=N&&m.detail.isSticky}};return onMounted(()=>{nextTick(()=>{var m,g;n=new window.$StickyEvents({enabled:!0,stickySelector:`#${ASIDE_STICKY_ELEMENT_ID}`}),(g=(m=n.stickyElements)==null?void 0:m[0])==null||g.addEventListener(window.$StickyEvents.CHANGE,u)})}),onBeforeUnmount(()=>{var m,g;(g=(m=n.stickyElements)==null?void 0:m[0])==null||g.removeEventListener(window.$StickyEvents.CHANGE,u),n.disableEvents(!1),n=null}),{isArticlePage:o,ASIDE_ELEMENT_ID,ASIDE_STICKY_ELEMENT_ID,renderStickyAd:r,adIndex:i,element:s,handleStandingAdSwiperReady:l,handleStandingAdSlideChange:c,handleStickyAdIndexChange:d}}}),_hoisted_1$d=["id"],_hoisted_2$c={class:"module"},_hoisted_3$a={class:"module"},_hoisted_4$a={class:"module mammon"},_hoisted_5$9={class:"module"},_hoisted_6$8={class:"module mammon-square"},_hoisted_7$8=["id"],_hoisted_8$7={key:0,class:"module mammon"},_hoisted_9$7={class:"module"};function _sfc_render$f(t,o,n,s,i,r){const a=resolveComponent("aside-search"),l=resolveComponent("aside-article"),c=resolveComponent("aside-mammon"),d=resolveComponent("client-only"),u=resolveComponent("aside-calendar"),m=resolveComponent("Adsense"),g=resolveComponent("aside-anchor"),f=resolveComponent("aside-tag");return openBlock(),createElementBlock("aside",{id:t.ASIDE_ELEMENT_ID,class:"aside",ref:"element"},[createBaseVNode("div",_hoisted_2$c,[createVNode(a)]),createBaseVNode("div",_hoisted_3$a,[createVNode(l)]),createVNode(d,{transition:""},{default:withCtx(()=>[createBaseVNode("div",_hoisted_4$a,[createVNode(c,{onIndexChange:t.handleStandingAdSlideChange,onReady:t.handleStandingAdSwiperReady},null,8,["onIndexChange","onReady"])])]),_:1}),createBaseVNode("div",_hoisted_5$9,[createVNode(u)]),createBaseVNode("div",_hoisted_6$8,[createVNode(d,null,{default:withCtx(()=>[createVNode(m,{"ins-style":"display:inline-block;width:250px;height:250px","data-ad-slot":"6138120718",class:"content"})]),_:1})]),createBaseVNode("div",{id:t.ASIDE_STICKY_ELEMENT_ID,class:"aside-sticky-box"},[createVNode(d,null,{default:withCtx(()=>[t.renderStickyAd?(openBlock(),createElementBlock("div",_hoisted_8$7,[createVNode(c,{index:t.adIndex,onIndexChange:t.handleStickyAdIndexChange},null,8,["index","onIndexChange"])])):createCommentVNode("v-if",!0)]),_:1}),createBaseVNode("div",_hoisted_9$7,[t.isArticlePage?(openBlock(),createBlock(d,{key:0},{default:withCtx(()=>[createVNode(g,{class:"sticky-module"})]),_:1})):(openBlock(),createBlock(f,{key:1,class:"sticky-module"}))])],8,_hoisted_7$8)],8,_hoisted_1$d)}var AsideView$1=_export_sfc(_sfc_main$f,[["render",_sfc_render$f],["__scopeId","data-v-6c264dac"]]),header_vue_vue_type_style_index_0_scoped_true_lang$1="";const _sfc_main$e=defineComponent({name:"DesktopHeader",setup(){const{i18n:t,gtag:o,theme:n,globalState:s}=useEnhancer(),i=computed(()=>!s.layoutColumn.value.isNormal),r=n.theme,a=computed(()=>({[Theme.Default]:"icon-sun",[Theme.Dark]:"icon-moon"})[r.value]),l=()=>{n.toggle(),o==null||o.event("switch_theme",{event_category:GAEventCategories.Widget,event_label:n.theme.value})},c=()=>{var u;t.toggle(),o==null||o.event("switch_language",{event_category:GAEventCategories.Widget,event_label:(u=t.l.value)==null?void 0:u.name})};return{menus,HEADER_ELEMENT_ID,LANGUAGE_KEYS,isEnabledNav:i,handleRootNavEvent:()=>{o==null||o.event("root_header_home_nav",{event_category:GAEventCategories.Universal})},t:t.t,language:t.language,tooggleLanguage:c,theme:r,themeIcon:a,toggleTheme:l}}}),_withScopeId$8=t=>(pushScopeId("data-v-900a284e"),t=t(),popScopeId(),t),_hoisted_1$c=["id"],_hoisted_2$b={class:"header-container container"},_hoisted_3$9={class:"header-header"},_hoisted_4$9={class:"header-slogan"},_hoisted_5$8={class:"toolbox"},_hoisted_6$7={key:0,class:"button menu"},_hoisted_7$7=_withScopeId$8(()=>createBaseVNode("i",{class:"iconfont icon-top-menu"},null,-1)),_hoisted_8$6=[_hoisted_7$7],_hoisted_9$6={class:"header-nav"},_hoisted_10$5={class:"nav-list container"},_hoisted_11$4={key:0,class:"divider"},_hoisted_12$4={class:"text"},_hoisted_13$4={key:0,class:"superscript"},_hoisted_14$3=_withScopeId$8(()=>createBaseVNode("i",{class:"iconfont icon-hot-fill"},null,-1)),_hoisted_15$3=[_hoisted_14$3],_hoisted_16$2={class:"text"},_hoisted_17$2={key:0,class:"newscript"},_hoisted_18$2=_withScopeId$8(()=>createBaseVNode("i",{class:"iconfont icon-new-window-s"},null,-1)),_hoisted_19=[_hoisted_18$2],_hoisted_20={key:1,class:"superscript"},_hoisted_21=_withScopeId$8(()=>createBaseVNode("i",{class:"iconfont icon-hot-fill"},null,-1)),_hoisted_22=[_hoisted_21];function _sfc_render$e(t,o,n,s,i,r){const a=resolveComponent("uimage"),l=resolveComponent("i18n"),c=resolveComponent("router-link"),d=resolveComponent("ulink");return openBlock(),createElementBlock("header",{id:t.HEADER_ELEMENT_ID,class:normalizeClass(["header",{"enable-nav":t.isEnabledNav}])},[createBaseVNode("div",_hoisted_2$b,[createBaseVNode("div",_hoisted_3$9,[createVNode(a,{cdn:"",src:"/images/logo.svg",class:"header-logo"}),createBaseVNode("span",_hoisted_4$9,[createVNode(l,{lkey:t.LANGUAGE_KEYS.APP_SLOGAN},null,8,["lkey"])]),createVNode(c,{to:"/",class:"header-link",title:t.t(t.LANGUAGE_KEYS.APP_SLOGAN),onMousedown:t.handleRootNavEvent},null,8,["title","onMousedown"])]),createBaseVNode("div",_hoisted_5$8,[t.isEnabledNav?(openBlock(),createElementBlock("button",_hoisted_6$7,_hoisted_8$6)):createCommentVNode("v-if",!0),createBaseVNode("button",{class:normalizeClass(["button language",t.language]),title:"Switch language",onClick:o[0]||(o[0]=(...u)=>t.tooggleLanguage&&t.tooggleLanguage(...u))},toDisplayString(t.language||"-"),3),createBaseVNode("button",{class:normalizeClass(["button theme",t.theme]),onClick:o[1]||(o[1]=(...u)=>t.toggleTheme&&t.toggleTheme(...u))},[createBaseVNode("i",{class:normalizeClass(["iconfont",t.themeIcon])},null,2)],2)])]),createBaseVNode("div",_hoisted_9$6,[createBaseVNode("nav",_hoisted_10$5,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.menus,(u,m)=>(openBlock(),createElementBlock(Fragment,{key:u.id},[m>0?(openBlock(),createElementBlock("span",_hoisted_11$4)):createCommentVNode("v-if",!0),u.route?(openBlock(),createBlock(c,{key:1,class:normalizeClass(["item",[u.id,{hot:u.hot}]]),to:u.route,exact:""},{default:withCtx(()=>[createBaseVNode("i",{class:normalizeClass(["iconfont",u.icon])},null,2),createBaseVNode("span",_hoisted_12$4,[createVNode(l,{lkey:u.i18nKey},null,8,["lkey"])]),u.hot?(openBlock(),createElementBlock("span",_hoisted_13$4,_hoisted_15$3)):createCommentVNode("v-if",!0)]),_:2},1032,["class","to"])):u.url?(openBlock(),createBlock(d,{key:2,class:normalizeClass(["item",[u.id,{hot:u.hot}]]),href:u.url},{default:withCtx(()=>[createBaseVNode("i",{class:normalizeClass(["iconfont",u.icon])},null,2),createBaseVNode("span",_hoisted_16$2,[createVNode(l,{lkey:u.i18nKey},null,8,["lkey"])]),u.newWindow?(openBlock(),createElementBlock("span",_hoisted_17$2,_hoisted_19)):createCommentVNode("v-if",!0),u.hot?(openBlock(),createElementBlock("span",_hoisted_20,_hoisted_22)):createCommentVNode("v-if",!0)]),_:2},1032,["class","href"])):createCommentVNode("v-if",!0)],64))),128))])])],10,_hoisted_1$c)}var HeaderView$1=_export_sfc(_sfc_main$e,[["render",_sfc_render$e],["__scopeId","data-v-900a284e"]]),footer_vue_vue_type_style_index_0_scoped_true_lang$1="";const _sfc_main$d=defineComponent({name:"DesktopFooter",setup(){return{FOOTER_ELEMENT_ID,VALUABLE_LINKS,aboutPageUrl:getPageRoute(RouteName.About)}}}),_withScopeId$7=t=>(pushScopeId("data-v-0441460a"),t=t(),popScopeId(),t),_hoisted_1$b=["id"],_hoisted_2$a={class:"container"},_hoisted_3$8=["href"],_hoisted_4$8=createTextVNode("NodePress"),_hoisted_5$7=createTextVNode("Vue"),_hoisted_6$6=createTextVNode("\u543E\u4E4B\u81C2\u8EAF"),_hoisted_7$6=_withScopeId$7(()=>createBaseVNode("span",null," \u884C\u9488\u6B65\u7EBF",-1)),_hoisted_8$5=_withScopeId$7(()=>createBaseVNode("span",null,"Designed By ",-1)),_hoisted_9$5=createTextVNode("Me");function _sfc_render$d(t,o,n,s,i,r){const a=resolveComponent("divider"),l=resolveComponent("i18n"),c=resolveComponent("ulink"),d=resolveComponent("router-link");return openBlock(),createElementBlock("footer",{id:t.FOOTER_ELEMENT_ID,class:"footer"},[createBaseVNode("div",_hoisted_2$a,[createBaseVNode("a",{class:"sitemap-btn",target:"_blank",href:t.VALUABLE_LINKS.SITE_MAP},"sitemap.xml",8,_hoisted_3$8),createVNode(a,{type:"vertical"}),createVNode(l,{zh:"\u7531 ",en:"Powered By "}),createVNode(c,{class:"item",href:t.VALUABLE_LINKS.GITHUB_BLOG_STAR_LIST},{default:withCtx(()=>[_hoisted_4$8]),_:1},8,["href"]),createVNode(l,{zh:"\u3001",en:", "}),createVNode(c,{class:"item",href:t.VALUABLE_LINKS.GITHUB_SURMON_ME},{default:withCtx(()=>[_hoisted_5$7]),_:1},8,["href"]),createVNode(l,{zh:" \u548C \u65E5\u6708\u661F\u8FB0 \u5F3A\u529B\u9A71\u52A8",en:" and solitarily"}),createVNode(a,{type:"vertical"}),createVNode(l,null,{zh:withCtx(()=>[createVNode(d,{to:t.aboutPageUrl,key:"zh"},{default:withCtx(()=>[_hoisted_6$6]),_:1},8,["to"]),_hoisted_7$6]),en:withCtx(()=>[_hoisted_8$5,createVNode(d,{to:t.aboutPageUrl,key:"en"},{default:withCtx(()=>[_hoisted_9$5]),_:1},8,["to"])]),_:1})])],8,_hoisted_1$b)}var FooterView$1=_export_sfc(_sfc_main$d,[["render",_sfc_render$d],["__scopeId","data-v-0441460a"]]),flower_vue_vue_type_style_index_0_scoped_true_lang="",Event;(function(t){t.Ended="ended"})(Event||(Event={}));const _sfc_main$c=defineComponent({name:"WallFlowerItem",props:{options:{type:Object,required:!0},zIndex:{type:Number,required:!0}},emits:[Event.Ended],setup(t,o){const n=reactive({delay:1,timer:null,playing:!1}),s=computed(()=>({top:t.options.y+"px",left:t.options.x+"px","z-index":99999+t.zIndex})),i=()=>{nextTick(()=>{setTimeout(()=>{n.playing=!0}),n.timer=window.setTimeout(()=>{n.playing=!1,nextTick(()=>{o.emit(Event.Ended,t.options.id)})},n.delay*1e3)})};return i(),onMounted(i),onBeforeUnmount(()=>{n.timer&&(clearTimeout(n.timer),n.timer=null)}),{state:n,styles:s}}});function _sfc_render$c(t,o,n,s,i,r){return openBlock(),createElementBlock("li",{class:normalizeClass(["flower-item",{playing:t.state.playing}]),style:normalizeStyle(t.styles)},toDisplayString(t.options.text),7)}var Flower=_export_sfc(_sfc_main$c,[["render",_sfc_render$c],["__scopeId","data-v-a2d9a48c"]]),garden_vue_vue_type_style_index_0_scoped_true_lang="";const FLOWERS=["\u5BCC\u5F3A","\u6C11\u4E3B","\u6587\u660E","\u548C\u8C10","\u81EA\u7531","\u5E73\u7B49","\u516C\u6B63","\u6CD5\u6CBB","\u7231\u56FD","\u656C\u4E1A","\u8BDA\u4FE1","\u53CB\u5584"],_sfc_main$b=defineComponent({name:"WallFlowerGarden",components:{Flower},setup(){const t=reactive({id:0,flowers:[],contentIndex:-1}),o=s=>{t.contentIndex++,t.contentIndex>=FLOWERS.length&&(t.contentIndex=0),t.flowers.push({id:++t.id,x:s.x||s.clientX,y:s.y||s.clientY,text:FLOWERS[t.contentIndex]})};return onMounted(()=>window.addEventListener("click",o)),onBeforeUnmount(()=>window.removeEventListener("click",o)),{state:t,handleAnimationEnd:s=>{const i=t.flowers.findIndex(r=>r.id===s);i>-1&&t.flowers.splice(i,1)}}}}),_hoisted_1$a={id:"wallflower"},_hoisted_2$9={key:0,class:"garden-box"};function _sfc_render$b(t,o,n,s,i,r){const a=resolveComponent("flower");return openBlock(),createElementBlock("div",_hoisted_1$a,[t.state.flowers.length?(openBlock(),createElementBlock("ul",_hoisted_2$9,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.state.flowers,(l,c)=>(openBlock(),createBlock(a,{key:l.id,"z-index":c+1,options:l,onEnded:t.handleAnimationEnd},null,8,["z-index","options","onEnded"]))),128))])):createCommentVNode("v-if",!0)])}var Wallflower=_export_sfc(_sfc_main$b,[["render",_sfc_render$b],["__scopeId","data-v-7cc782d9"]]),wall_vue_vue_type_style_index_0_scoped_true_lang="",WallpaperWallEvent;(function(t){t.Close="close"})(WallpaperWallEvent||(WallpaperWallEvent={}));const _sfc_main$a=defineComponent({name:"WallpaperWall",emits:[WallpaperWallEvent.Close],setup(t,o){const{i18n:n}=useEnhancer(),s=useWallpaperStore(),i=ref(0),r=computed(()=>s.papers(n.language.value)),a=computed(()=>{var c,d;return((c=r.value)==null?void 0:c.length)&&((d=r.value)==null?void 0:d[i.value])});return{index:i,wallpapers:r,currentWallpaper:a,handleClose:()=>o.emit(WallpaperWallEvent.Close)}}}),_withScopeId$6=t=>(pushScopeId("data-v-37c35588"),t=t(),popScopeId(),t),_hoisted_1$9={class:"wall"},_hoisted_2$8=["title"],_hoisted_3$7={class:"story-box"},_hoisted_4$7={class:"title"},_hoisted_5$6={class:"sub-title"},_hoisted_6$5={key:1,class:"title lonely"},_hoisted_7$5={class:"desc"},_hoisted_8$4={class:"tools"},_hoisted_9$4=_withScopeId$6(()=>createBaseVNode("i",{class:"iconfont icon-location"},null,-1)),_hoisted_10$4={key:0,class:"text"},_hoisted_11$3=["disabled"],_hoisted_12$3=_withScopeId$6(()=>createBaseVNode("i",{class:"iconfont icon-prev"},null,-1)),_hoisted_13$3=[_hoisted_12$3],_hoisted_14$2=["disabled"],_hoisted_15$2=_withScopeId$6(()=>createBaseVNode("i",{class:"iconfont icon-next"},null,-1)),_hoisted_16$1=[_hoisted_15$2],_hoisted_17$1=_withScopeId$6(()=>createBaseVNode("i",{class:"iconfont icon-cancel"},null,-1)),_hoisted_18$1=[_hoisted_17$1];function _sfc_render$a(t,o,n,s,i,r){const a=resolveComponent("ulink");return openBlock(),createElementBlock("div",_hoisted_1$9,[createVNode(Transition,{name:"module",mode:"out-in"},{default:withCtx(()=>[(openBlock(),createElementBlock("div",{ref:"picture-box",key:t.currentWallpaper.humanizedImageUrl,class:"picture-box",title:t.currentWallpaper.copyright,style:normalizeStyle({backgroundImage:`url(${t.currentWallpaper.humanizedImageUrl})`})},null,12,_hoisted_2$8))]),_:1}),createBaseVNode("div",_hoisted_3$7,[t.currentWallpaper.title?(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("h2",_hoisted_4$7,toDisplayString(t.currentWallpaper.title),1),createBaseVNode("p",_hoisted_5$6,toDisplayString(t.currentWallpaper.copyright),1)],64)):(openBlock(),createElementBlock("h2",_hoisted_6$5,toDisplayString(t.currentWallpaper.copyright),1)),createBaseVNode("p",_hoisted_7$5,toDisplayString(t.currentWallpaper.desc),1),createBaseVNode("div",_hoisted_8$4,[createVNode(Transition,{name:"module"},{default:withCtx(()=>[createVNode(a,{key:"location",class:"location",href:t.currentWallpaper.humanizedCopyrightUrl,title:t.currentWallpaper.bsTitle},{default:withCtx(()=>[_hoisted_9$4,t.currentWallpaper.bsTitle?(openBlock(),createElementBlock("span",_hoisted_10$4,toDisplayString(t.currentWallpaper.bsTitle),1)):createCommentVNode("v-if",!0)]),_:1},8,["href","title"])]),_:1}),createBaseVNode("button",{class:"button",title:"Prev",disabled:t.index<=0,onClick:o[0]||(o[0]=l=>t.index--)},_hoisted_13$3,8,_hoisted_11$3),createBaseVNode("button",{class:"button",title:"Next",disabled:t.index>=t.wallpapers.length-1,onClick:o[1]||(o[1]=l=>t.index++)},_hoisted_16$1,8,_hoisted_14$2),createBaseVNode("button",{class:"button",title:"Close",onClick:o[2]||(o[2]=(...l)=>t.handleClose&&t.handleClose(...l))},_hoisted_18$1)])])])}var Wallpapers=_export_sfc(_sfc_main$a,[["render",_sfc_render$a],["__scopeId","data-v-37c35588"]]),switcher_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$9=defineComponent({name:"Wallpaper",components:{Wallpapers},setup(){const{i18n:t,gtag:o,globalState:n,isDarkTheme:s}=useEnhancer(),i=useWallpaperStore(),r=computed(()=>n.switchBox.wallpaper),a=computed(()=>i.papers(t.language.value)),l=()=>{var c;o==null||o.event("wallpaper",{event_category:GAEventCategories.Widget}),((c=a.value)==null?void 0:c.length)?n.switchTogglers.wallpaper():alert("Something went wrong\uFF01")};return{LANGUAGE_KEYS,language:t.language,isDarkTheme:s,isOnWallpaper:r,toggleWallpaper:l}}}),_withScopeId$5=t=>(pushScopeId("data-v-c53ec5fe"),t=t(),popScopeId(),t),_hoisted_1$8={class:"up"},_hoisted_2$7={class:"title"},_hoisted_3$6=_withScopeId$5(()=>createBaseVNode("i",{class:"iconfont icon-bing"},null,-1)),_hoisted_4$6=_withScopeId$5(()=>createBaseVNode("div",{class:"down"},null,-1));function _sfc_render$9(t,o,n,s,i,r){const a=resolveComponent("i18n"),l=resolveComponent("wallpapers"),c=resolveComponent("popup"),d=resolveComponent("client-only");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",{id:"wallpaper",class:normalizeClass({dark:t.isDarkTheme})},[createBaseVNode("div",{class:"switcher",onClick:o[0]||(o[0]=(...u)=>t.toggleWallpaper&&t.toggleWallpaper(...u))},[createBaseVNode("div",_hoisted_1$8,[createBaseVNode("div",_hoisted_2$7,[_hoisted_3$6,createBaseVNode("span",{class:normalizeClass(["text",t.language])},[createVNode(a,{zh:"\u5C71\u6CB3\u5165\u68A6",en:"BING"})],2)])]),_hoisted_4$6])],2),createVNode(d,null,{default:withCtx(()=>[createVNode(c,{visible:t.isOnWallpaper,onClose:t.toggleWallpaper},{default:withCtx(()=>[createVNode(l,{onClose:t.toggleWallpaper},null,8,["onClose"])]),_:1},8,["visible","onClose"])]),_:1})],64)}var Wallpaper=_export_sfc(_sfc_main$9,[["render",_sfc_render$9],["__scopeId","data-v-c53ec5fe"]]),background_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$8=defineComponent({name:"Background",setup(){const{isDarkTheme:t}=useEnhancer();return{isDarkTheme:t}}}),_hoisted_1$7={id:"background"};function _sfc_render$8(t,o,n,s,i,r){return openBlock(),createElementBlock("div",_hoisted_1$7,[createBaseVNode("div",{class:normalizeClass(["image",{dark:t.isDarkTheme}])},null,2)])}var Background=_export_sfc(_sfc_main$8,[["render",_sfc_render$8],["__scopeId","data-v-d0e96496"]]),player_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$7=defineComponent({name:"PlayerControl",setup(){const{gtag:t}=useEnhancer(),o=useMusic(),n=computed(()=>Boolean(o==null?void 0:o.muted.value)),s=computed(()=>o==null?void 0:o.currentSong.value);return{LANGUAGE_KEYS,RouteName,music:o,muted:n,currentSong:s,getPageRoute,handleTouchEvent:r=>{t==null||t.event("music_player_widget",{event_category:GAEventCategories.Widget,event_label:r})}}}}),_withScopeId$4=t=>(pushScopeId("data-v-4a5b6dba"),t=t(),popScopeId(),t),_hoisted_1$6={key:0,id:"player"},_hoisted_2$6={class:"cd"},_hoisted_3$5=["src"],_hoisted_4$5=["disabled"],_hoisted_5$5={class:"panel"},_hoisted_6$4={class:"control"},_hoisted_7$4=["disabled"],_hoisted_8$3=_withScopeId$4(()=>createBaseVNode("i",{class:"iconfont icon-music-prev"},null,-1)),_hoisted_9$3=[_hoisted_8$3],_hoisted_10$3=["disabled"],_hoisted_11$2=_withScopeId$4(()=>createBaseVNode("i",{class:"iconfont icon-music-next"},null,-1)),_hoisted_12$2=[_hoisted_11$2],_hoisted_13$2=["disabled"],_hoisted_14$1={class:"song"},_hoisted_15$1={key:0};function _sfc_render$7(t,o,n,s,i,r){var c;const a=resolveComponent("i18n"),l=resolveComponent("router-link");return t.music?(openBlock(),createElementBlock("div",_hoisted_1$6,[createBaseVNode("div",_hoisted_2$6,[createBaseVNode("img",{class:"image",src:(c=t.currentSong)==null?void 0:c.cover_art_url},null,8,_hoisted_3$5),createBaseVNode("button",{class:"toggle-button",disabled:!t.music.state.ready,onClick:o[0]||(o[0]=(...d)=>t.music.togglePlay&&t.music.togglePlay(...d)),onMousedown:o[1]||(o[1]=d=>t.handleTouchEvent("toggle play"))},[createBaseVNode("i",{class:normalizeClass(["iconfont",t.music.state.playing?"icon-music-pause":"icon-music-play"])},null,2)],40,_hoisted_4$5)]),createBaseVNode("div",_hoisted_5$5,[createBaseVNode("div",_hoisted_6$4,[createBaseVNode("button",{class:"prev-song button",disabled:!t.music.state.ready,onClick:o[2]||(o[2]=(...d)=>t.music.prevSong&&t.music.prevSong(...d)),onMousedown:o[3]||(o[3]=d=>t.handleTouchEvent("prev song"))},_hoisted_9$3,40,_hoisted_7$4),createBaseVNode("button",{class:"next-song button",disabled:!t.music.state.ready,onClick:o[4]||(o[4]=(...d)=>t.music.nextSong&&t.music.nextSong(...d)),onMousedown:o[5]||(o[5]=d=>t.handleTouchEvent("next song"))},_hoisted_12$2,40,_hoisted_10$3),createBaseVNode("button",{class:"muted-toggle button",disabled:!t.music.state.ready,onClick:o[6]||(o[6]=(...d)=>t.music.toggleMuted&&t.music.toggleMuted(...d)),onMousedown:o[7]||(o[7]=d=>t.handleTouchEvent("toggle muted"))},[createBaseVNode("i",{class:normalizeClass(["iconfont",t.muted?"icon-music-muted":"icon-music-unmuted"])},null,2)],40,_hoisted_13$2)]),createBaseVNode("div",_hoisted_14$1,[createVNode(l,{class:"link",to:t.getPageRoute(t.RouteName.Music),onMousedown:o[8]||(o[8]=d=>t.handleTouchEvent("music player page"))},{default:withCtx(()=>[t.currentSong?(openBlock(),createElementBlock("span",_hoisted_15$1,toDisplayString(t.currentSong.name)+" By "+toDisplayString(t.currentSong.artist)+" | "+toDisplayString(t.currentSong.album||"unknow"),1)):(openBlock(),createBlock(a,{key:1,lkey:t.LANGUAGE_KEYS.MUSIC_PLACEHOLDER},null,8,["lkey"]))]),_:1},8,["to"])])])])):createCommentVNode("v-if",!0)}var Player=_export_sfc(_sfc_main$7,[["render",_sfc_render$7],["__scopeId","data-v-4a5b6dba"]]),toolbox_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$6=defineComponent({name:"Toolbox",setup(){const{i18n:t,gtag:o}=useEnhancer(),n=useMetaStore(),s=ref(0),i=ref(!1),r=ref(!1),a=()=>{o==null||o.event("rss",{event_category:GAEventCategories.Widget})},l=()=>{var d;o==null||o.event("feedback",{event_category:GAEventCategories.Widget}),window.open(emailLink({email:(d=n.appOptions.data)==null?void 0:d.site_email}))},c=()=>{const d=()=>{let u=window.scrollY;const m=document.body.scrollHeight-window.innerHeight;if(r.value&&(u+=1),i.value&&(u-=1),u<0?u=0:u>=m&&(u=m),!(u>0&&u<m))return!1;if(window.scrollTo(0,u),r.value||i.value)s.value=window.requestAnimationFrame(d);else return window.cancelAnimationFrame(s.value),!1};s.value=window.requestAnimationFrame(d)};return{VALUABLE_LINKS,LANGUAGE_KEYS,t:t.translate,scrollToTop,handleFeedback:l,handleRSS:a,toBottom(){scrollTo(window.scrollY+window.innerHeight,300,{easing:Easing.easeIn})},setTopButtonState(d,u=!1){i.value=d,window.cancelAnimationFrame(s.value),u&&c()},setBottomButtonState(d,u=!1){r.value=d,window.cancelAnimationFrame(s.value),u&&c()}}}}),_withScopeId$3=t=>(pushScopeId("data-v-12b033ee"),t=t(),popScopeId(),t),_hoisted_1$5={id:"toolbox"},_hoisted_2$5={class:"container"},_hoisted_3$4={class:"tools"},_hoisted_4$4=_withScopeId$3(()=>createBaseVNode("i",{class:"iconfont icon-rss"},null,-1)),_hoisted_5$4=["title"],_hoisted_6$3=_withScopeId$3(()=>createBaseVNode("i",{class:"iconfont icon-mail-plane"},null,-1)),_hoisted_7$3=[_hoisted_6$3],_hoisted_8$2=["title"],_hoisted_9$2=_withScopeId$3(()=>createBaseVNode("i",{class:"iconfont icon-totop"},null,-1)),_hoisted_10$2=[_hoisted_9$2],_hoisted_11$1=["title"],_hoisted_12$1=_withScopeId$3(()=>createBaseVNode("i",{class:"iconfont icon-tobottom"},null,-1)),_hoisted_13$1=[_hoisted_12$1];function _sfc_render$6(t,o,n,s,i,r){const a=resolveComponent("ulink");return openBlock(),createElementBlock("div",_hoisted_1$5,[createBaseVNode("div",_hoisted_2$5,[createBaseVNode("div",_hoisted_3$4,[createVNode(a,{class:"rss",href:t.VALUABLE_LINKS.RSS,onMousedown:t.handleRSS},{default:withCtx(()=>[_hoisted_4$4]),_:1},8,["href","onMousedown"]),createBaseVNode("button",{class:"feedback",title:t.t(t.LANGUAGE_KEYS.FEEDBACK),onClick:o[0]||(o[0]=(...l)=>t.handleFeedback&&t.handleFeedback(...l))},_hoisted_7$3,8,_hoisted_5$4),createBaseVNode("button",{class:"to-page-top",title:t.t(t.LANGUAGE_KEYS.TO_TOP),onClick:o[1]||(o[1]=(...l)=>t.scrollToTop&&t.scrollToTop(...l)),onMouseover:o[2]||(o[2]=l=>t.setTopButtonState(!0,!0)),onMouseleave:o[3]||(o[3]=l=>t.setTopButtonState(!1))},_hoisted_10$2,40,_hoisted_8$2),createBaseVNode("button",{class:"to-page-bottom",title:t.t(t.LANGUAGE_KEYS.TO_BOTTOM),onClick:o[4]||(o[4]=(...l)=>t.toBottom&&t.toBottom(...l)),onMouseover:o[5]||(o[5]=l=>t.setBottomButtonState(!0,!0)),onMouseleave:o[6]||(o[6]=l=>t.setBottomButtonState(!1))},_hoisted_13$1,40,_hoisted_11$1)])])])}var Toolbox=_export_sfc(_sfc_main$6,[["render",_sfc_render$6],["__scopeId","data-v-12b033ee"]]),main_vue_vue_type_style_index_0_scoped_true_lang$1="";const _sfc_main$5=defineComponent({name:"DesktopMain",components:{Share,Wallpaper,Player,Toolbox,Wallflower,Background,HeaderView:HeaderView$1,FooterView:FooterView$1,AsideView:AsideView$1,NavView},setup(){const{route:t,globalState:o}=useEnhancer(),n=computed(()=>o.switchBox.sponsorModal),s=()=>{o.switchTogglers.sponsorModal()},i=()=>{o.setLayoutColumn(getLayoutByRouteMeta(t.meta))};return{MAIN_ELEMENT_ID,MAIN_CONTENT_ELEMENT_ID,VALUABLE_LINKS,isOnSponsorModal:n,layoutColumn:o.layoutColumn,handlePageTransitionDone:i,handleSponsorModalClose:s}}}),_hoisted_1$4={class:"desktop-main"},_hoisted_2$4=["src"],_hoisted_3$3=["id"],_hoisted_4$3=["id"],_hoisted_5$3={class:"router-view"};function _sfc_render$5(t,o,n,s,i,r){const a=resolveComponent("background"),l=resolveComponent("wallflower"),c=resolveComponent("popup"),d=resolveComponent("client-only"),u=resolveComponent("share"),m=resolveComponent("wallpaper"),g=resolveComponent("toolbox"),f=resolveComponent("player"),$=resolveComponent("header-view"),E=resolveComponent("nav-view"),v=resolveComponent("router-view"),N=resolveComponent("aside-view"),C=resolveComponent("footer-view");return openBlock(),createElementBlock("div",_hoisted_1$4,[createVNode(a),createVNode(l),createVNode(d,null,{default:withCtx(()=>[createVNode(c,{visible:t.isOnSponsorModal,border:!1,onClose:t.handleSponsorModalClose},{default:withCtx(()=>[createBaseVNode("iframe",{style:{width:"600px",height:"200px",borderRadius:"4px"},src:t.VALUABLE_LINKS.SPONSOR},null,8,_hoisted_2$4)]),_:1},8,["visible","onClose"])]),_:1}),t.layoutColumn.isFull?createCommentVNode("v-if",!0):(openBlock(),createElementBlock(Fragment,{key:0},[createVNode(u,{class:"main-share"}),createVNode(m),createVNode(g),createVNode(d,null,{default:withCtx(()=>[createVNode(f)]),_:1})],64)),createVNode($),createBaseVNode("main",{id:t.MAIN_ELEMENT_ID,class:normalizeClass(["main-container",{"full-page":t.layoutColumn.isFull}])},[t.layoutColumn.isNormal?(openBlock(),createBlock(E,{key:0})):createCommentVNode("v-if",!0),createBaseVNode("div",{id:t.MAIN_CONTENT_ELEMENT_ID,class:normalizeClass(["main-content",{"layout-normal":t.layoutColumn.isNormal,"layout-wide":t.layoutColumn.isWide,"layout-full":t.layoutColumn.isFull}])},[createCommentVNode(" unuse suspense -> async route component -> can't extract style to css file "),createVNode(v,null,{default:withCtx(({Component:A,route:B})=>[createBaseVNode("div",_hoisted_5$3,[createVNode(Transition,{name:"page",mode:"out-in",onBeforeEnter:t.handlePageTransitionDone},{default:withCtx(()=>[(openBlock(),createBlock(Suspense,null,{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(A),{key:B.name}))]),_:2},1024))]),_:2},1032,["onBeforeEnter"])])]),_:1})],10,_hoisted_4$3),t.layoutColumn.isNormal?(openBlock(),createBlock(N,{key:1})):createCommentVNode("v-if",!0)],10,_hoisted_3$3),createVNode(C)])}var DesktopMain=_export_sfc(_sfc_main$5,[["render",_sfc_render$5],["__scopeId","data-v-4d98236e"]]),header_vue_vue_type_style_index_0_scoped_true_lang="",MobileHeaderEvents;(function(t){t.Open="open",t.Close="close"})(MobileHeaderEvents||(MobileHeaderEvents={}));const _sfc_main$4=defineComponent({name:"MobileHeader",props:{opened:{type:Boolean,required:!0}},emits:[MobileHeaderEvents.Open,MobileHeaderEvents.Close],setup(t,o){const{i18n:n,route:s,router:i}=useEnhancer(),r=ref(null),a=reactive({open:!1,keyword:""});onMounted(()=>{isSearchFlow(s.name)&&(a.keyword=s.params.keyword)});const l=()=>{o.emit(t.opened?MobileHeaderEvents.Close:MobileHeaderEvents.Open)},c=()=>{a.open=!0,nextTick(()=>{r.value.focus()})},d=()=>{a.open=!1},u=()=>{const m=a.keyword.trim();m&&i.push({name:RouteName.SearchFlow,params:{keyword:m}})};return watch(()=>i.currentRoute.value,()=>{nextTick(()=>{d(),o.emit(MobileHeaderEvents.Close)})}),{t:n.t,LANGUAGE_KEYS,searchState:a,inputElement:r,openSearch:c,submitSearch:u,cancelSearch:d,handleMenuToggle:l}}}),_withScopeId$2=t=>(pushScopeId("data-v-a4a16d4c"),t=t(),popScopeId(),t),_hoisted_1$3={class:"header"},_hoisted_2$3=["placeholder"],_hoisted_3$2=_withScopeId$2(()=>createBaseVNode("i",{class:"iconfont icon-cancel"},null,-1)),_hoisted_4$2=[_hoisted_3$2],_hoisted_5$2={key:0,class:"search-mask"},_hoisted_6$2={class:"navbar"},_hoisted_7$2=_withScopeId$2(()=>createBaseVNode("i",{class:"iconfont icon-menu"},null,-1)),_hoisted_8$1=[_hoisted_7$2],_hoisted_9$1=_withScopeId$2(()=>createBaseVNode("i",{class:"iconfont icon-search"},null,-1)),_hoisted_10$1=[_hoisted_9$1];function _sfc_render$4(t,o,n,s,i,r){const a=resolveComponent("uimage"),l=resolveComponent("router-link");return openBlock(),createElementBlock("header",_hoisted_1$3,[createBaseVNode("div",{class:normalizeClass(["search",{actived:t.searchState.open}])},[withDirectives(createBaseVNode("input",{class:"input",ref:"inputElement",type:"text",maxlength:"16",required:"",placeholder:t.t(t.LANGUAGE_KEYS.SEARCH_PLACEHOLDER),"onUpdate:modelValue":o[0]||(o[0]=c=>t.searchState.keyword=c),onKeyup:o[1]||(o[1]=withKeys(withModifiers((...c)=>t.submitSearch&&t.submitSearch(...c),["stop","prevent"]),["enter"]))},null,40,_hoisted_2$3),[[vModelText,t.searchState.keyword,void 0,{trim:!0}]]),createBaseVNode("span",{class:"close",onClick:o[2]||(o[2]=withModifiers((...c)=>t.cancelSearch&&t.cancelSearch(...c),["stop","prevent"]))},_hoisted_4$2)],2),createVNode(Transition,{name:"module"},{default:withCtx(()=>[t.searchState.open?(openBlock(),createElementBlock("div",_hoisted_5$2)):createCommentVNode("v-if",!0)]),_:1}),createBaseVNode("nav",_hoisted_6$2,[createBaseVNode("button",{class:"navbar-menu",onClick:o[3]||(o[3]=withModifiers((...c)=>t.handleMenuToggle&&t.handleMenuToggle(...c),["stop","prevent"]))},_hoisted_8$1),createVNode(l,{to:"/",class:"navbar-logo"},{default:withCtx(()=>[createVNode(a,{cdn:"",src:"/images/logo.svg"})]),_:1}),createBaseVNode("button",{class:"navbar-search",onClick:o[4]||(o[4]=withModifiers((...c)=>t.openSearch&&t.openSearch(...c),["stop","prevent"]))},_hoisted_10$1)])])}var HeaderView=_export_sfc(_sfc_main$4,[["render",_sfc_render$4],["__scopeId","data-v-a4a16d4c"]]),footer_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$3=defineComponent({name:"MobileFooter",setup(){return{title:META.title,year:new Date().getFullYear()}}}),_hoisted_1$2={class:"footer"},_hoisted_2$2={class:"footer-content"};function _sfc_render$3(t,o,n,s,i,r){return openBlock(),createElementBlock("footer",_hoisted_1$2,[createBaseVNode("div",_hoisted_2$2,"\xA9"+toDisplayString(t.year)+"\xA0\xA0"+toDisplayString(t.title),1)])}var FooterView=_export_sfc(_sfc_main$3,[["render",_sfc_render$3],["__scopeId","data-v-2519d18e"]]),aside_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$2=defineComponent({name:"MobileAside",setup(){const{theme:t,i18n:o}=useEnhancer(),n=useMetaStore(),s=computed(()=>{var a;return((a=n.adminInfo.data)==null?void 0:a.avatar)||getDefaultAvatar()}),i=computed(()=>({[Theme.Default]:"icon-sun",[Theme.Dark]:"icon-moon"})[t.theme.value]),r=computed(()=>({[Language.Zh]:"icon-chinese",[Language.En]:"icon-english"})[o.language.value]);return useUniversalFetch(()=>n.fetchAdminInfo()),{VALUABLE_LINKS,LANGUAGE_KEYS,RouteName,CategorySlug,getPageRoute,getCategoryFlowRoute,avatar:s,author:META.author,themeIcon:i,languageIcon:r,toggleTheme:t.toggle,tooggleLanguage:o.toggle}}}),_withScopeId$1=t=>(pushScopeId("data-v-63faa899"),t=t(),popScopeId(),t),_hoisted_1$1={class:"aside"},_hoisted_2$1={class:"aside-user"},_hoisted_3$1={class:"avatar"},_hoisted_4$1={class:"profile"},_hoisted_5$1={class:"name"},_hoisted_6$1={class:"slogan"},_hoisted_7$1={class:"aside-tool"},_hoisted_8={class:"aside-nav"},_hoisted_9={class:"nav-list"},_hoisted_10=_withScopeId$1(()=>createBaseVNode("i",{class:"iconfont icon-home-fill"},null,-1)),_hoisted_11=_withScopeId$1(()=>createBaseVNode("i",{class:"iconfont icon-code"},null,-1)),_hoisted_12=_withScopeId$1(()=>createBaseVNode("i",{class:"iconfont icon-thinking"},null,-1)),_hoisted_13=_withScopeId$1(()=>createBaseVNode("i",{class:"iconfont icon-github"},null,-1)),_hoisted_14=_withScopeId$1(()=>createBaseVNode("span",{class:"newscript"},[createBaseVNode("i",{class:"iconfont icon-new-window-s"})],-1)),_hoisted_15=_withScopeId$1(()=>createBaseVNode("i",{class:"iconfont icon-peachblossom"},null,-1)),_hoisted_16=_withScopeId$1(()=>createBaseVNode("i",{class:"iconfont icon-user"},null,-1)),_hoisted_17=_withScopeId$1(()=>createBaseVNode("i",{class:"iconfont icon-comment"},null,-1)),_hoisted_18=_withScopeId$1(()=>createBaseVNode("i",{class:"iconfont icon-app"},null,-1));function _sfc_render$2(t,o,n,s,i,r){const a=resolveComponent("uimage"),l=resolveComponent("i18n"),c=resolveComponent("router-link"),d=resolveComponent("ulink");return openBlock(),createElementBlock("aside",_hoisted_1$1,[createBaseVNode("div",_hoisted_2$1,[createBaseVNode("div",_hoisted_3$1,[createVNode(a,{src:t.avatar,alt:t.author},null,8,["src","alt"])]),createBaseVNode("div",_hoisted_4$1,[createBaseVNode("h3",_hoisted_5$1,toDisplayString(t.author),1),createBaseVNode("p",_hoisted_6$1,[createVNode(l,{lkey:t.LANGUAGE_KEYS.APP_SLOGAN},null,8,["lkey"])])])]),createBaseVNode("div",_hoisted_7$1,[createBaseVNode("div",{class:"item",onClick:o[0]||(o[0]=(...u)=>t.toggleTheme&&t.toggleTheme(...u))},[createBaseVNode("i",{class:normalizeClass(["iconfont",t.themeIcon])},null,2)]),createBaseVNode("div",{class:"item",onClick:o[1]||(o[1]=(...u)=>t.tooggleLanguage&&t.tooggleLanguage(...u))},[createBaseVNode("i",{class:normalizeClass(["iconfont",t.languageIcon])},null,2)])]),createBaseVNode("div",_hoisted_8,[createBaseVNode("nav",_hoisted_9,[createVNode(c,{to:"/",class:"item",exact:""},{default:withCtx(()=>[_hoisted_10,createVNode(l,{lkey:t.LANGUAGE_KEYS.PAGE_HOME},null,8,["lkey"])]),_:1}),createVNode(c,{class:"item",to:t.getCategoryFlowRoute(t.CategorySlug.Code)},{default:withCtx(()=>[_hoisted_11,createVNode(l,{lkey:t.LANGUAGE_KEYS.CATEGORY_CODE},null,8,["lkey"])]),_:1},8,["to"]),createVNode(c,{class:"item",to:t.getCategoryFlowRoute(t.CategorySlug.Insight)},{default:withCtx(()=>[_hoisted_12,createVNode(l,{lkey:t.LANGUAGE_KEYS.CATEGORY_INSIGHT},null,8,["lkey"])]),_:1},8,["to"]),createVNode(d,{class:"item",href:t.VALUABLE_LINKS.GITHUB},{default:withCtx(()=>[_hoisted_13,createVNode(l,{lkey:t.LANGUAGE_KEYS.PAGE_GITHUB},null,8,["lkey"]),_hoisted_14]),_:1},8,["href"]),createVNode(c,{class:"item",to:t.getPageRoute(t.RouteName.Archive)},{default:withCtx(()=>[_hoisted_15,createVNode(l,{lkey:t.LANGUAGE_KEYS.PAGE_ARCHIVE},null,8,["lkey"])]),_:1},8,["to"]),createVNode(c,{class:"item",to:t.getPageRoute(t.RouteName.About)},{default:withCtx(()=>[_hoisted_16,createVNode(l,{lkey:t.LANGUAGE_KEYS.PAGE_ABOUT},null,8,["lkey"])]),_:1},8,["to"]),createVNode(c,{class:"item guestbook",to:t.getPageRoute(t.RouteName.Guestbook)},{default:withCtx(()=>[_hoisted_17,createVNode(l,{lkey:t.LANGUAGE_KEYS.PAGE_GUESTBOOK},null,8,["lkey"])]),_:1},8,["to"]),createVNode(c,{class:"item app",to:t.getPageRoute(t.RouteName.App)},{default:withCtx(()=>[_hoisted_18,createVNode(l,{lkey:t.LANGUAGE_KEYS.PAGE_APP},null,8,["lkey"])]),_:1},8,["to"])])])])}var AsideView=_export_sfc(_sfc_main$2,[["render",_sfc_render$2],["__scopeId","data-v-63faa899"]]),main_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$1=defineComponent({name:"MobileMain",components:{HeaderView,FooterView,AsideView},setup(){const{route:t}=useEnhancer(),o=computed(()=>getPageURL(t.fullPath)),n=ref(!1),s=()=>n.value=!0,i=()=>n.value=!1;return watch(n,r=>{onClient(()=>{document.body.style.overflow=r?"hidden":"auto"})}),{pageURL:o,isOpenedAside:n,openAside:s,closeAside:i}}}),_withScopeId=t=>(pushScopeId("data-v-5c1b1c05"),t=t(),popScopeId(),t),_hoisted_1={class:"mobile-main"},_hoisted_2={class:"main-container"},_hoisted_3={key:0,class:"route-view"},_hoisted_4={key:1,class:"fallback"},_hoisted_5=_withScopeId(()=>createBaseVNode("i",{class:"iconfont icon-desktop"},null,-1)),_hoisted_6={class:"text"},_hoisted_7=["href"];function _sfc_render$1(t,o,n,s,i,r){const a=resolveComponent("aside-view"),l=resolveComponent("header-view"),c=resolveComponent("i18n"),d=resolveComponent("router-view"),u=resolveComponent("footer-view");return openBlock(),createElementBlock("div",_hoisted_1,[createBaseVNode("div",{class:normalizeClass(["asider",{opened:t.isOpenedAside}])},[createVNode(a,{class:"aside"})],2),createBaseVNode("div",{class:normalizeClass(["main",{opened:t.isOpenedAside}])},[t.isOpenedAside?(openBlock(),createElementBlock("div",{key:0,class:"close-mask",onClick:o[0]||(o[0]=(...m)=>t.closeAside&&t.closeAside(...m))})):createCommentVNode("v-if",!0),createVNode(l,{opened:t.isOpenedAside,onClose:t.closeAside,onOpen:t.openAside},null,8,["opened","onClose","onOpen"]),createBaseVNode("main",_hoisted_2,[createVNode(d,{name:"mobile"},{default:withCtx(({Component:m,route:g})=>[g.meta.responsive?(openBlock(),createElementBlock("div",_hoisted_3,[(openBlock(),createBlock(resolveDynamicComponent(m),{key:g.name}))])):(openBlock(),createElementBlock("div",_hoisted_4,[_hoisted_5,createBaseVNode("p",_hoisted_6,[createVNode(c,{zh:"\u8BF7\u5728 PC \u7AEF\u8BBF\u95EE\u4EE5\u83B7\u5F97\u6700\u4F73\u4F53\u9A8C",en:"This page only support visit on PC"})]),createBaseVNode("a",{class:"link",href:t.pageURL},toDisplayString(t.pageURL),9,_hoisted_7)]))]),_:1})]),createVNode(u)],2)])}var MobileMain=_export_sfc(_sfc_main$1,[["render",_sfc_render$1],["__scopeId","data-v-5c1b1c05"]]),index_vue_vue_type_style_index_0_lang="";const _sfc_main=defineComponent({name:"App",components:{EmojiRain,Captured,DesktopMain,MobileMain},setup(){const{theme:t,isMobile:o}=useEnhancer();return{isMobile:o,theme:t.theme}}});function _sfc_render(t,o,n,s,i,r){const a=resolveComponent("progress-bar"),l=resolveComponent("emoji-rain"),c=resolveComponent("popup-root"),d=resolveComponent("client-only"),u=resolveComponent("desktop-main"),m=resolveComponent("mobile-main"),g=resolveComponent("captured");return openBlock(),createElementBlock("div",{id:"app_root",class:normalizeClass(["app-root",[t.theme,t.isMobile?"mobile":"desktop"]])},[createVNode(d,null,{default:withCtx(()=>[createVNode(a,{spin:!t.isMobile},null,8,["spin"]),createVNode(l),createVNode(c)]),_:1}),createVNode(g,null,{default:withCtx(()=>[t.isMobile?(openBlock(),createBlock(m,{key:1})):(openBlock(),createBlock(u,{key:0}))]),_:1})],2)}var App=_export_sfc(_sfc_main,[["render",_sfc_render]]);console.info("[APP INITED]:",{NODE_ENV,mode:isSSR?"SSR":"SPA"},API_CONFIG);const createVueApp=t=>{var c,d,u;const o=t.appCreator(App);rebirthSSRContext(o);const n=createGlobalState({userAgent:t.userAgent||"",language:t.language||"",layout:(c=t.layout)!=null?c:LayoutColumn.Normal}),s=createUniversalStore({globalState:n}),i=createUniversalRouter({beforeMiddleware:(d=t.routerBeforeMiddleware)==null?void 0:d.call(t,n),afterMiddleware:(u=t.routerAfterMiddleware)==null?void 0:u.call(t,n),history:t.historyCreator()}),r=createMeta({titler:m=>`${m} | ${META.title}`}),a=createTheme(t.theme),l=createI18n({default:n.userAgent.isZhUser?Language.Zh:Language.En,languages:languages$1,map:langMap});return o.config.errorHandler=m=>n.setRenderError(m),i.onError(n.setRenderError),i.beforeEach((m,g,f)=>{m.meta.validate?m.meta.validate({route:m,i18n:l,store:s}).then(f).catch($=>{const E=new Error;E.code=$.code,E.message=$.message,f(E)}):f()}),o.use(i),o.use(s),o.use(n),o.use(l),o.use(r),o.use(a),o.use(interior),{app:o,router:i,store:s,globalState:n,i18n:l,meta:r,theme:a,interior}};var app$1="";const{app,router,globalState,theme,i18n,meta,store}=createVueApp({historyCreator:createWebHistory,appCreator:isSSR?createSSRApp:createApp,language:navigator.language,userAgent:navigator.userAgent,layout:isSSR?getSSRContext("layout"):LayoutColumn.Normal,theme:isSSR?getSSRContext("theme"):getClientLocalTheme()}),defer=createDefer(),popup=createPopup(),loading=createLoading(),music=createMusic({amplitude,autoStart:!1});app.use(music);app.use(defer,{exportToGlobal:!0});app.use(popup,{exportToGlobal:!0});app.use(loading,{exportToGlobal:!0});app.use(adsense,{ID:ADSENSE_CLIENT_ID,enabledAutoAD:!0});app.use(gtag,{router,id:GA_MEASUREMENT_ID,config:{send_page_view:!1},customResourceURL:getTargetCDNURL("/effects/gtag")});isSSR?store.initOnSSRClient():store.initOnSPAClient();theme.bindClientSystem();exportLozadToGlobal();exportEmojiRainToGlobal();exportStickyEventsToGlobal();exportAppToGlobal(app);initCopyrighter();meta.addHeadObjs(computed(()=>({style:[{key:"markdown",children:getHighlightThemeStyle(theme.theme.value===Theme.Dark)}]})));router.beforeEach((t,o,n)=>{loading.start(),n()});router.afterEach((t,o,n)=>{n?loading.fail(n):loading.finish()});router.isReady().finally(()=>{globalState.setLayoutColumn(getLayoutByRouteMeta(router.currentRoute.value.meta)),app.mount("#app",isSSR).$nextTick(()=>{var t;globalState.setHydrate(),i18n.set(globalState.userAgent.isZhUser?Language.Zh:Language.En),store.stores.universal.initOnClient(),globalState.userAgent.isMobile||(defer.addTask(store.stores.wallpaper.fetchPapers),defer.addTask(music.start),document.addEventListener("visibilitychange",o=>{var i,r;const n=((i=o.target)==null?void 0:i.hidden)||((r=o.target)==null?void 0:r.webkitHidden),s=[{favicon:"\u{1F51E}",title:"FBI WARNING"},{favicon:"\u2B55\uFE0F",title:"FBI WARNING"},{favicon:"\u{1F31D}",title:"\u200B"}];n?runTitler(s[randomNumber(s.length-1)]):resetTitler()},!1)),isProd&&(enableBaiduSEOer(router),consoleSlogan(i18n,(t=store.stores.meta.appOptions.data)==null?void 0:t.site_email))})});
//# sourceMappingURL=index-732b10d7.js.map
